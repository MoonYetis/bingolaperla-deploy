var Ba=Object.defineProperty;var Ga=(e,t,r)=>t in e?Ba(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Pe=(e,t,r)=>Ga(e,typeof t!="symbol"?t+"":t,r);import{r as j,a as $a,b as Ee}from"./vendor-Gm9i_4Ku.js";import{i as Wt,w as Ss,n as Rn,f as Tn,e as za,c as Lt,a as On,p as ds,b as It,d as Qe,g as Vt,h as yr,j as us,k as bt,l as As,m as Ua,S as Pn,o as Vr,q as fs,r as Ln,s as qa,t as Dn,u as Qa,v as Es,x as Ha,y as Za,z as Wa,A as Ka,B as ms,C as Mn,D as Qt,E as Ja,P as Ya}from"./redux-QWKtSD2B.js";import{u as Vn,a as dt,L as xr,b as Xa,N as ei,R as ti,c as Ke,B as ri}from"./router-CbQYuGcI.js";import{l as si}from"./socket-TjCxX7sJ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var Fn={exports:{}},Ir={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni=j,ai=Symbol.for("react.element"),ii=Symbol.for("react.fragment"),oi=Object.prototype.hasOwnProperty,li=ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ci={key:!0,ref:!0,__self:!0,__source:!0};function Bn(e,t,r){var s,n={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)oi.call(t,s)&&!ci.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:ai,type:e,key:a,ref:o,props:n,_owner:li.current}}Ir.Fragment=ii;Ir.jsx=Bn;Ir.jsxs=Bn;Fn.exports=Ir;var i=Fn.exports,Kr={},Is=$a;Kr.createRoot=Is.createRoot,Kr.hydrateRoot=Is.hydrateRoot;var di=class extends Error{constructor(t){super(t[0].message);Pe(this,"issues");this.name="SchemaError",this.issues=t}},Gn=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(Gn||{});function Rs(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var Ts=Wt;function $n(e,t){if(e===t||!(Ts(e)&&Ts(t)||Array.isArray(e)&&Array.isArray(t)))return t;const r=Object.keys(t),s=Object.keys(e);let n=r.length===s.length;const a=Array.isArray(t)?[]:{};for(const o of r)a[o]=$n(e[o],t[o]),n&&(n=e[o]===a[o]);return n?e:a}function At(e){let t=0;for(const r in e)t++;return t}var Os=e=>[].concat(...e);function ui(e){return new RegExp("(^|:)//").test(e)}function fi(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function br(e){return e!=null}function mi(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var hi=e=>e.replace(/\/$/,""),gi=e=>e.replace(/^\//,"");function pi(e,t){if(!e)return t;if(!t)return e;if(ui(t))return t;const r=e.endsWith("/")||!t.startsWith("?")?"/":"";return e=hi(e),t=gi(t),`${e}${r}${t}`}function yi(e,t,r){return e.has(t)?e.get(t):e.set(t,r).get(t)}var Ps=(...e)=>fetch(...e),xi=e=>e.status>=200&&e.status<=299,bi=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function Ls(e){if(!Wt(e))return e;const t={...e};for(const[r,s]of Object.entries(t))s===void 0&&delete t[r];return t}function vi({baseUrl:e,prepareHeaders:t=v=>v,fetchFn:r=Ps,paramsSerializer:s,isJsonContentType:n=bi,jsonContentType:a="application/json",jsonReplacer:o,timeout:l,responseHandler:c,validateStatus:d,...w}={}){return typeof fetch>"u"&&r===Ps&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(x,g,N)=>{const{getState:R,extra:O,endpoint:E,forced:p,type:b}=g;let f,{url:k,headers:T=new Headers(w.headers),params:P=void 0,responseHandler:S=c??"json",validateStatus:A=d??xi,timeout:C=l,..._}=typeof x=="string"?{url:x}:x,u,y=g.signal;C&&(u=new AbortController,g.signal.addEventListener("abort",u.abort),y=u.signal);let m={...w,signal:y,..._};T=new Headers(Ls(T)),m.headers=await t(T,{getState:R,arg:x,extra:O,endpoint:E,forced:p,type:b,extraOptions:N})||T;const L=re=>typeof re=="object"&&(Wt(re)||Array.isArray(re)||typeof re.toJSON=="function");if(!m.headers.has("content-type")&&L(m.body)&&m.headers.set("content-type",a),L(m.body)&&n(m.headers)&&(m.body=JSON.stringify(m.body,o)),P){const re=~k.indexOf("?")?"&":"?",Q=s?s(P):new URLSearchParams(Ls(P));k+=re+Q}k=pi(e,k);const M=new Request(k,m);f={request:new Request(k,m)};let D,G=!1,K=u&&setTimeout(()=>{G=!0,u.abort()},C);try{D=await r(M)}catch(re){return{error:{status:G?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(re)},meta:f}}finally{K&&clearTimeout(K),u==null||u.signal.removeEventListener("abort",u.abort)}const te=D.clone();f.response=te;let le,ae="";try{let re;if(await Promise.all([v(D,S).then(Q=>le=Q,Q=>re=Q),te.text().then(Q=>ae=Q,()=>{})]),re)throw re}catch(re){return{error:{status:"PARSING_ERROR",originalStatus:D.status,data:ae,error:String(re)},meta:f}}return A(D,le)?{data:le,meta:f}:{error:{status:D.status,data:le},meta:f}};async function v(x,g){if(typeof g=="function")return g(x);if(g==="content-type"&&(g=n(x.headers)?"json":"text"),g==="json"){const N=await x.text();return N.length?JSON.parse(N):null}return x.text()}}var Ds=class{constructor(e,t=void 0){this.value=e,this.meta=t}},Rr=Lt("__rtkq/focused"),hs=Lt("__rtkq/unfocused"),Tr=Lt("__rtkq/online"),gs=Lt("__rtkq/offline"),Fr=!1;function wi(e,t){function r(){const s=()=>e(Rr()),n=()=>e(hs()),a=()=>e(Tr()),o=()=>e(gs()),l=()=>{window.document.visibilityState==="visible"?s():n()};return Fr||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",l,!1),window.addEventListener("focus",s,!1),window.addEventListener("online",a,!1),window.addEventListener("offline",o,!1),Fr=!0),()=>{window.removeEventListener("focus",s),window.removeEventListener("visibilitychange",l),window.removeEventListener("online",a),window.removeEventListener("offline",o),Fr=!1}}return r()}function Or(e){return e.type==="query"}function ki(e){return e.type==="mutation"}function Pr(e){return e.type==="infinitequery"}function vr(e){return Or(e)||Pr(e)}function ps(e,t,r,s,n,a){return Ni(e)?e(t,r,s,n).filter(br).map(Jr).map(a):Array.isArray(e)?e.map(Jr).map(a):[]}function Ni(e){return typeof e=="function"}function Jr(e){return typeof e=="string"?{type:e}:e}function _i(e,t){return e.catch(t)}var Kt=Symbol("forceQueryFn"),Yr=e=>typeof e[Kt]=="function";function ji({serializeQueryArgs:e,queryThunk:t,infiniteQueryThunk:r,mutationThunk:s,api:n,context:a}){const o=new Map,l=new Map,{unsubscribeQueryResult:c,removeMutationResult:d,updateSubscriptionOptions:w}=n.internalActions;return{buildInitiateQuery:O,buildInitiateInfiniteQuery:E,buildInitiateMutation:p,getRunningQueryThunk:v,getRunningMutationThunk:x,getRunningQueriesThunk:g,getRunningMutationsThunk:N};function v(b,f){return k=>{var S;const T=a.endpointDefinitions[b],P=e({queryArgs:f,endpointDefinition:T,endpointName:b});return(S=o.get(k))==null?void 0:S[P]}}function x(b,f){return k=>{var T;return(T=l.get(k))==null?void 0:T[f]}}function g(){return b=>Object.values(o.get(b)||{}).filter(br)}function N(){return b=>Object.values(l.get(b)||{}).filter(br)}function R(b,f){const k=(T,{subscribe:P=!0,forceRefetch:S,subscriptionOptions:A,[Kt]:C,..._}={})=>(u,y)=>{var me;const m=e({queryArgs:T,endpointDefinition:f,endpointName:b});let L;const M={..._,type:"query",subscribe:P,forceRefetch:S,subscriptionOptions:A,endpointName:b,originalArgs:T,queryCacheKey:m,[Kt]:C};if(Or(f))L=t(M);else{const{direction:X,initialPageParam:ve}=_;L=r({...M,direction:X,initialPageParam:ve})}const F=n.endpoints[b].select(T),D=u(L),G=F(y()),{requestId:K,abort:te}=D,le=G.requestId!==K,ae=(me=o.get(u))==null?void 0:me[m],re=()=>F(y()),Q=Object.assign(C?D.then(re):le&&!ae?Promise.resolve(G):Promise.all([ae,D]).then(re),{arg:T,requestId:K,subscriptionOptions:A,queryCacheKey:m,abort:te,async unwrap(){const X=await Q;if(X.isError)throw X.error;return X.data},refetch:()=>u(k(T,{subscribe:!1,forceRefetch:!0})),unsubscribe(){P&&u(c({queryCacheKey:m,requestId:K}))},updateSubscriptionOptions(X){Q.subscriptionOptions=X,u(w({endpointName:b,requestId:K,queryCacheKey:m,options:X}))}});if(!ae&&!le&&!C){const X=yi(o,u,{});X[m]=Q,Q.then(()=>{delete X[m],At(X)||o.delete(u)})}return Q};return k}function O(b,f){return R(b,f)}function E(b,f){return R(b,f)}function p(b){return(f,{track:k=!0,fixedCacheKey:T}={})=>(P,S)=>{const A=s({type:"mutation",endpointName:b,originalArgs:f,track:k,fixedCacheKey:T}),C=P(A),{requestId:_,abort:u,unwrap:y}=C,m=_i(C.unwrap().then(D=>({data:D})),D=>({error:D})),L=()=>{P(d({requestId:_,fixedCacheKey:T}))},M=Object.assign(m,{arg:C.arg,requestId:_,abort:u,unwrap:y,reset:L}),F=l.get(P)||{};return l.set(P,F),F[_]=M,M.then(()=>{delete F[_],At(F)||l.delete(P)}),T&&(F[T]=M,M.then(()=>{F[T]===M&&(delete F[T],At(F)||l.delete(P))})),M}}}var zn=class extends di{constructor(e,t,r,s){super(e),this.value=t,this.schemaName=r,this._bqMeta=s}};async function ut(e,t,r,s){const n=await e["~standard"].validate(t);if(n.issues)throw new zn(n.issues,t,r,s);return n.value}function Ci(e){return e}var Ft=(e={})=>({...e,[Pn]:!0});function Si({reducerPath:e,baseQuery:t,context:{endpointDefinitions:r},serializeQueryArgs:s,api:n,assertTagType:a,selectors:o,onSchemaFailure:l,catchSchemaFailure:c,skipSchemaValidation:d}){const w=(_,u,y,m)=>(L,M)=>{const F=r[_],D=s({queryArgs:u,endpointDefinition:F,endpointName:_});if(L(n.internalActions.queryResultPatched({queryCacheKey:D,patches:y})),!m)return;const G=n.endpoints[_].select(u)(M()),K=ps(F.providesTags,G.data,void 0,u,{},a);L(n.internalActions.updateProvidedBy([{queryCacheKey:D,providedTags:K}]))};function v(_,u,y=0){const m=[u,..._];return y&&m.length>y?m.slice(0,-1):m}function x(_,u,y=0){const m=[..._,u];return y&&m.length>y?m.slice(1):m}const g=(_,u,y,m=!0)=>(L,M)=>{const D=n.endpoints[_].select(u)(M()),G={patches:[],inversePatches:[],undo:()=>L(n.util.patchQueryData(_,u,G.inversePatches,m))};if(D.status==="uninitialized")return G;let K;if("data"in D)if(qa(D.data)){const[te,le,ae]=Dn(D.data,y);G.patches.push(...le),G.inversePatches.push(...ae),K=te}else K=y(D.data),G.patches.push({op:"replace",path:[],value:K}),G.inversePatches.push({op:"replace",path:[],value:D.data});return G.patches.length===0||L(n.util.patchQueryData(_,u,G.patches,m)),G},N=(_,u,y)=>m=>m(n.endpoints[_].initiate(u,{subscribe:!1,forceRefetch:!0,[Kt]:()=>({data:y})})),R=(_,u)=>_.query&&_[u]?_[u]:Ci,O=async(_,{signal:u,abort:y,rejectWithValue:m,fulfillWithValue:L,dispatch:M,getState:F,extra:D})=>{var le,ae;const G=r[_.endpointName],{metaSchema:K,skipSchemaValidation:te=d}=G;try{let re=R(G,"transformResponse");const Q={signal:u,abort:y,dispatch:M,getState:F,extra:D,endpoint:_.endpointName,type:_.type,forced:_.type==="query"?E(_,F()):void 0,queryCacheKey:_.type==="query"?_.queryCacheKey:void 0},me=_.type==="query"?_[Kt]:void 0;let X;const ve=async(de,ue,xe,tt)=>{if(ue==null&&de.pages.length)return Promise.resolve({data:de});const Oe={queryArg:_.originalArgs,pageParam:ue},We=await Ce(Oe),De=tt?v:x;return{data:{pages:De(de.pages,We.data,xe),pageParams:De(de.pageParams,ue,xe)},meta:We.meta}};async function Ce(de){let ue;const{extraOptions:xe,argSchema:tt,rawResponseSchema:Oe,responseSchema:We}=G;if(tt&&!te&&(de=await ut(tt,de,"argSchema",{})),me?ue=me():G.query?ue=await t(G.query(de),Q,xe):ue=await G.queryFn(de,Q,xe,kt=>t(kt,Q,xe)),typeof process<"u",ue.error)throw new Ds(ue.error,ue.meta);let{data:De}=ue;Oe&&!te&&(De=await ut(Oe,ue.data,"rawResponseSchema",ue.meta));let Ue=await re(De,ue.meta,de);return We&&!te&&(Ue=await ut(We,Ue,"responseSchema",ue.meta)),{...ue,data:Ue}}if(_.type==="query"&&"infiniteQueryOptions"in G){const{infiniteQueryOptions:de}=G,{maxPages:ue=1/0}=de;let xe;const tt={pages:[],pageParams:[]},Oe=(le=o.selectQueryEntry(F(),_.queryCacheKey))==null?void 0:le.data,De=E(_,F())&&!_.direction||!Oe?tt:Oe;if("direction"in _&&_.direction&&De.pages.length){const Ue=_.direction==="backward",Nt=(Ue?Un:Xr)(de,De,_.originalArgs);xe=await ve(De,Nt,ue,Ue)}else{const{initialPageParam:Ue=de.initialPageParam}=_,kt=(Oe==null?void 0:Oe.pageParams)??[],Nt=kt[0]??Ue,h=kt.length;xe=await ve(De,Nt,ue),me&&(xe={data:xe.data.pages[0]});for(let I=1;I<h;I++){const V=Xr(de,xe.data,_.originalArgs);xe=await ve(xe.data,V,ue)}}X=xe}else X=await Ce(_.originalArgs);return K&&!te&&X.meta&&(X.meta=await ut(K,X.meta,"metaSchema",X.meta)),L(X.data,Ft({fulfilledTimeStamp:Date.now(),baseQueryMeta:X.meta}))}catch(re){let Q=re;if(Q instanceof Ds){let me=R(G,"transformErrorResponse");const{rawErrorResponseSchema:X,errorResponseSchema:ve}=G;let{value:Ce,meta:de}=Q;try{X&&!te&&(Ce=await ut(X,Ce,"rawErrorResponseSchema",de)),K&&!te&&(de=await ut(K,de,"metaSchema",de));let ue=await me(Ce,de,_.originalArgs);return ve&&!te&&(ue=await ut(ve,ue,"errorResponseSchema",de)),m(ue,Ft({baseQueryMeta:de}))}catch(ue){Q=ue}}try{if(Q instanceof zn){const me={endpoint:_.endpointName,arg:_.originalArgs,type:_.type,queryCacheKey:_.type==="query"?_.queryCacheKey:void 0};(ae=G.onSchemaFailure)==null||ae.call(G,Q,me),l==null||l(Q,me);const{catchSchemaFailure:X=c}=G;if(X)return m(X(Q,me),Ft({baseQueryMeta:Q._bqMeta}))}}catch(me){Q=me}throw console.error(Q),Q}};function E(_,u){const y=o.selectQueryEntry(u,_.queryCacheKey),m=o.selectConfig(u).refetchOnMountOrArgChange,L=y==null?void 0:y.fulfilledTimeStamp,M=_.forceRefetch??(_.subscribe&&m);return M?M===!0||(Number(new Date)-Number(L))/1e3>=M:!1}const p=()=>It(`${e}/executeQuery`,O,{getPendingMeta({arg:u}){const y=r[u.endpointName];return Ft({startedTimeStamp:Date.now(),...Pr(y)?{direction:u.direction}:{}})},condition(u,{getState:y}){var te;const m=y(),L=o.selectQueryEntry(m,u.queryCacheKey),M=L==null?void 0:L.fulfilledTimeStamp,F=u.originalArgs,D=L==null?void 0:L.originalArgs,G=r[u.endpointName],K=u.direction;return Yr(u)?!0:(L==null?void 0:L.status)==="pending"?!1:E(u,m)||Or(G)&&((te=G==null?void 0:G.forceRefetch)!=null&&te.call(G,{currentArg:F,previousArg:D,endpointState:L,state:m}))?!0:!(M&&!K)},dispatchConditionRejection:!0}),b=p(),f=p(),k=It(`${e}/executeMutation`,O,{getPendingMeta(){return Ft({startedTimeStamp:Date.now()})}}),T=_=>"force"in _,P=_=>"ifOlderThan"in _,S=(_,u,y)=>(m,L)=>{const M=T(y)&&y.force,F=P(y)&&y.ifOlderThan,D=(K=!0)=>{const te={forceRefetch:K,isPrefetch:!0};return n.endpoints[_].initiate(u,te)},G=n.endpoints[_].select(u)(L());if(M)m(D());else if(F){const K=G==null?void 0:G.fulfilledTimeStamp;if(!K){m(D());return}(Number(new Date)-Number(new Date(K)))/1e3>=F&&m(D())}else m(D(!1))};function A(_){return u=>{var y,m;return((m=(y=u==null?void 0:u.meta)==null?void 0:y.arg)==null?void 0:m.endpointName)===_}}function C(_,u){return{matchPending:Vr(Ln(_),A(u)),matchFulfilled:Vr(bt(_),A(u)),matchRejected:Vr(fs(_),A(u))}}return{queryThunk:b,mutationThunk:k,infiniteQueryThunk:f,prefetch:S,updateQueryData:g,upsertQueryData:N,patchQueryData:w,buildMatchThunkActions:C}}function Xr(e,{pages:t,pageParams:r},s){const n=t.length-1;return e.getNextPageParam(t[n],t,r[n],r,s)}function Un(e,{pages:t,pageParams:r},s){var n;return(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r,s)}function qn(e,t,r,s){return ps(r[e.meta.arg.endpointName][t],bt(e)?e.payload:void 0,us(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,s)}function ar(e,t,r){const s=e[t];s&&r(s)}function Jt(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function Ms(e,t,r){const s=e[Jt(t)];s&&r(s)}var ir={};function Ai({reducerPath:e,queryThunk:t,mutationThunk:r,serializeQueryArgs:s,context:{endpointDefinitions:n,apiUid:a,extractRehydrationInfo:o,hasRehydrationInfo:l},assertTagType:c,config:d}){const w=Lt(`${e}/resetApiState`);function v(A,C,_,u){var y;A[y=C.queryCacheKey]??(A[y]={status:"uninitialized",endpointName:C.endpointName}),ar(A,C.queryCacheKey,m=>{m.status="pending",m.requestId=_&&m.requestId?m.requestId:u.requestId,C.originalArgs!==void 0&&(m.originalArgs=C.originalArgs),m.startedTimeStamp=u.startedTimeStamp;const L=n[u.arg.endpointName];Pr(L)&&"direction"in C&&(m.direction=C.direction)})}function x(A,C,_,u){ar(A,C.arg.queryCacheKey,y=>{if(y.requestId!==C.requestId&&!u)return;const{merge:m}=n[C.arg.endpointName];if(y.status="fulfilled",m)if(y.data!==void 0){const{fulfilledTimeStamp:L,arg:M,baseQueryMeta:F,requestId:D}=C;let G=ds(y.data,K=>m(K,_,{arg:M.originalArgs,baseQueryMeta:F,fulfilledTimeStamp:L,requestId:D}));y.data=G}else y.data=_;else y.data=n[C.arg.endpointName].structuralSharing??!0?$n(Ha(y.data)?Za(y.data):y.data,_):_;delete y.error,y.fulfilledTimeStamp=C.fulfilledTimeStamp})}const g=Qe({name:`${e}/queries`,initialState:ir,reducers:{removeQueryResult:{reducer(A,{payload:{queryCacheKey:C}}){delete A[C]},prepare:Vt()},cacheEntriesUpserted:{reducer(A,C){for(const _ of C.payload){const{queryDescription:u,value:y}=_;v(A,u,!0,{arg:u,requestId:C.meta.requestId,startedTimeStamp:C.meta.timestamp}),x(A,{arg:u,requestId:C.meta.requestId,fulfilledTimeStamp:C.meta.timestamp,baseQueryMeta:{}},y,!0)}},prepare:A=>({payload:A.map(u=>{const{endpointName:y,arg:m,value:L}=u,M=n[y];return{queryDescription:{type:"query",endpointName:y,originalArgs:u.arg,queryCacheKey:s({queryArgs:m,endpointDefinition:M,endpointName:y})},value:L}}),meta:{[Pn]:!0,requestId:Rn(),timestamp:Date.now()}})},queryResultPatched:{reducer(A,{payload:{queryCacheKey:C,patches:_}}){ar(A,C,u=>{u.data=As(u.data,_.concat())})},prepare:Vt()}},extraReducers(A){A.addCase(t.pending,(C,{meta:_,meta:{arg:u}})=>{const y=Yr(u);v(C,u,y,_)}).addCase(t.fulfilled,(C,{meta:_,payload:u})=>{const y=Yr(_.arg);x(C,_,u,y)}).addCase(t.rejected,(C,{meta:{condition:_,arg:u,requestId:y},error:m,payload:L})=>{ar(C,u.queryCacheKey,M=>{if(!_){if(M.requestId!==y)return;M.status="rejected",M.error=L??m}})}).addMatcher(l,(C,_)=>{const{queries:u}=o(_);for(const[y,m]of Object.entries(u))((m==null?void 0:m.status)==="fulfilled"||(m==null?void 0:m.status)==="rejected")&&(C[y]=m)})}}),N=Qe({name:`${e}/mutations`,initialState:ir,reducers:{removeMutationResult:{reducer(A,{payload:C}){const _=Jt(C);_ in A&&delete A[_]},prepare:Vt()}},extraReducers(A){A.addCase(r.pending,(C,{meta:_,meta:{requestId:u,arg:y,startedTimeStamp:m}})=>{y.track&&(C[Jt(_)]={requestId:u,status:"pending",endpointName:y.endpointName,startedTimeStamp:m})}).addCase(r.fulfilled,(C,{payload:_,meta:u})=>{u.arg.track&&Ms(C,u,y=>{y.requestId===u.requestId&&(y.status="fulfilled",y.data=_,y.fulfilledTimeStamp=u.fulfilledTimeStamp)})}).addCase(r.rejected,(C,{payload:_,error:u,meta:y})=>{y.arg.track&&Ms(C,y,m=>{m.requestId===y.requestId&&(m.status="rejected",m.error=_??u)})}).addMatcher(l,(C,_)=>{const{mutations:u}=o(_);for(const[y,m]of Object.entries(u))((m==null?void 0:m.status)==="fulfilled"||(m==null?void 0:m.status)==="rejected")&&y!==(m==null?void 0:m.requestId)&&(C[y]=m)})}}),R={tags:{},keys:{}},O=Qe({name:`${e}/invalidation`,initialState:R,reducers:{updateProvidedBy:{reducer(A,C){var _,u,y;for(const{queryCacheKey:m,providedTags:L}of C.payload){E(A,m);for(const{type:M,id:F}of L){const D=(u=(_=A.tags)[M]??(_[M]={}))[y=F||"__internal_without_id"]??(u[y]=[]);D.includes(m)||D.push(m)}A.keys[m]=L}},prepare:Vt()}},extraReducers(A){A.addCase(g.actions.removeQueryResult,(C,{payload:{queryCacheKey:_}})=>{E(C,_)}).addMatcher(l,(C,_)=>{var y,m,L;const{provided:u}=o(_);for(const[M,F]of Object.entries(u))for(const[D,G]of Object.entries(F)){const K=(m=(y=C.tags)[M]??(y[M]={}))[L=D||"__internal_without_id"]??(m[L]=[]);for(const te of G)K.includes(te)||K.push(te)}}).addMatcher(yr(bt(t),us(t)),(C,_)=>{p(C,[_])}).addMatcher(g.actions.cacheEntriesUpserted.match,(C,_)=>{const u=_.payload.map(({queryDescription:y,value:m})=>({type:"UNKNOWN",payload:m,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:y}}));p(C,u)})}});function E(A,C){var u;const _=A.keys[C]??[];for(const y of _){const m=y.type,L=y.id??"__internal_without_id",M=(u=A.tags[m])==null?void 0:u[L];M&&(A.tags[m][L]=M.filter(F=>F!==C))}delete A.keys[C]}function p(A,C){const _=C.map(u=>{const y=qn(u,"providesTags",n,c),{queryCacheKey:m}=u.meta.arg;return{queryCacheKey:m,providedTags:y}});O.caseReducers.updateProvidedBy(A,O.actions.updateProvidedBy(_))}const b=Qe({name:`${e}/subscriptions`,initialState:ir,reducers:{updateSubscriptionOptions(A,C){},unsubscribeQueryResult(A,C){},internal_getRTKQSubscriptions(){}}}),f=Qe({name:`${e}/internalSubscriptions`,initialState:ir,reducers:{subscriptionsUpdated:{reducer(A,C){return As(A,C.payload)},prepare:Vt()}}}),k=Qe({name:`${e}/config`,initialState:{online:mi(),focused:fi(),middlewareRegistered:!1,...d},reducers:{middlewareRegistered(A,{payload:C}){A.middlewareRegistered=A.middlewareRegistered==="conflict"||a!==C?"conflict":!0}},extraReducers:A=>{A.addCase(Tr,C=>{C.online=!0}).addCase(gs,C=>{C.online=!1}).addCase(Rr,C=>{C.focused=!0}).addCase(hs,C=>{C.focused=!1}).addMatcher(l,C=>({...C}))}}),T=Ua({queries:g.reducer,mutations:N.reducer,provided:O.reducer,subscriptions:f.reducer,config:k.reducer}),P=(A,C)=>T(w.match(C)?void 0:A,C),S={...k.actions,...g.actions,...b.actions,...f.actions,...N.actions,...O.actions,resetApiState:w};return{reducer:P,actions:S}}var Fe=Symbol.for("RTKQ/skipToken"),Qn={status:"uninitialized"},Vs=ds(Qn,()=>{}),Fs=ds(Qn,()=>{});function Ei({serializeQueryArgs:e,reducerPath:t,createSelector:r}){const s=b=>Vs,n=b=>Fs;return{buildQuerySelector:x,buildInfiniteQuerySelector:g,buildMutationSelector:N,selectInvalidatedBy:R,selectCachedArgsForQuery:O,selectApiState:o,selectQueries:l,selectMutations:d,selectQueryEntry:c,selectConfig:w};function a(b){return{...b,...Rs(b.status)}}function o(b){return b[t]}function l(b){var f;return(f=o(b))==null?void 0:f.queries}function c(b,f){var k;return(k=l(b))==null?void 0:k[f]}function d(b){var f;return(f=o(b))==null?void 0:f.mutations}function w(b){var f;return(f=o(b))==null?void 0:f.config}function v(b,f,k){return T=>{if(T===Fe)return r(s,k);const P=e({queryArgs:T,endpointDefinition:f,endpointName:b});return r(A=>c(A,P)??Vs,k)}}function x(b,f){return v(b,f,a)}function g(b,f){const{infiniteQueryOptions:k}=f;function T(P){const S={...P,...Rs(P.status)},{isLoading:A,isError:C,direction:_}=S,u=_==="forward",y=_==="backward";return{...S,hasNextPage:E(k,S.data,S.originalArgs),hasPreviousPage:p(k,S.data,S.originalArgs),isFetchingNextPage:A&&u,isFetchingPreviousPage:A&&y,isFetchNextPageError:C&&u,isFetchPreviousPageError:C&&y}}return v(b,f,T)}function N(){return b=>{let f;return typeof b=="object"?f=Jt(b)??Fe:f=b,r(f===Fe?n:P=>{var S,A;return((A=(S=o(P))==null?void 0:S.mutations)==null?void 0:A[f])??Fs},a)}}function R(b,f){const k=b[t],T=new Set;for(const P of f.filter(br).map(Jr)){const S=k.provided.tags[P.type];if(!S)continue;let A=(P.id!==void 0?S[P.id]:Os(Object.values(S)))??[];for(const C of A)T.add(C)}return Os(Array.from(T.values()).map(P=>{const S=k.queries[P];return S?[{queryCacheKey:P,endpointName:S.endpointName,originalArgs:S.originalArgs}]:[]}))}function O(b,f){return Object.values(l(b)).filter(k=>(k==null?void 0:k.endpointName)===f&&k.status!=="uninitialized").map(k=>k.originalArgs)}function E(b,f,k){return f?Xr(b,f,k)!=null:!1}function p(b,f,k){return!f||!b.getPreviousPageParam?!1:Un(b,f,k)!=null}}var _t=WeakMap?new WeakMap:void 0,wr=({endpointName:e,queryArgs:t})=>{let r="";const s=_t==null?void 0:_t.get(t);if(typeof s=="string")r=s;else{const n=JSON.stringify(t,(a,o)=>(o=typeof o=="bigint"?{$bigint:o.toString()}:o,o=Wt(o)?Object.keys(o).sort().reduce((l,c)=>(l[c]=o[c],l),{}):o,o));Wt(t)&&(_t==null||_t.set(t,n)),r=n}return`${e}(${r})`};function Hn(...e){return function(r){const s=Ss(d=>{var w;return(w=r.extractRehydrationInfo)==null?void 0:w.call(r,d,{reducerPath:r.reducerPath??"api"})}),n={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...r,extractRehydrationInfo:s,serializeQueryArgs(d){let w=wr;if("serializeQueryArgs"in d.endpointDefinition){const v=d.endpointDefinition.serializeQueryArgs;w=x=>{const g=v(x);return typeof g=="string"?g:wr({...x,queryArgs:g})}}else r.serializeQueryArgs&&(w=r.serializeQueryArgs);return w(d)},tagTypes:[...r.tagTypes||[]]},a={endpointDefinitions:{},batch(d){d()},apiUid:Rn(),extractRehydrationInfo:s,hasRehydrationInfo:Ss(d=>s(d)!=null)},o={injectEndpoints:c,enhanceEndpoints({addTagTypes:d,endpoints:w}){if(d)for(const v of d)n.tagTypes.includes(v)||n.tagTypes.push(v);if(w)for(const[v,x]of Object.entries(w))typeof x=="function"?x(a.endpointDefinitions[v]):Object.assign(a.endpointDefinitions[v]||{},x);return o}},l=e.map(d=>d.init(o,n,a));function c(d){const w=d.endpoints({query:v=>({...v,type:"query"}),mutation:v=>({...v,type:"mutation"}),infiniteQuery:v=>({...v,type:"infinitequery"})});for(const[v,x]of Object.entries(w)){if(d.overrideExisting!==!0&&v in a.endpointDefinitions){if(d.overrideExisting==="throw")throw new Error(Tn(39));continue}a.endpointDefinitions[v]=x;for(const g of l)g.injectEndpoint(v,x)}return o}return o.injectEndpoints({endpoints:r.endpoints})}}function Je(e,...t){return Object.assign(e,...t)}var Ii=({api:e,queryThunk:t,internalState:r})=>{const s=`${e.reducerPath}/subscriptions`;let n=null,a=null;const{updateSubscriptionOptions:o,unsubscribeQueryResult:l}=e.internalActions,c=(g,N)=>{var O,E,p;if(o.match(N)){const{queryCacheKey:b,requestId:f,options:k}=N.payload;return(O=g==null?void 0:g[b])!=null&&O[f]&&(g[b][f]=k),!0}if(l.match(N)){const{queryCacheKey:b,requestId:f}=N.payload;return g[b]&&delete g[b][f],!0}if(e.internalActions.removeQueryResult.match(N))return delete g[N.payload.queryCacheKey],!0;if(t.pending.match(N)){const{meta:{arg:b,requestId:f}}=N,k=g[E=b.queryCacheKey]??(g[E]={});return k[`${f}_running`]={},b.subscribe&&(k[f]=b.subscriptionOptions??k[f]??{}),!0}let R=!1;if(t.fulfilled.match(N)||t.rejected.match(N)){const b=g[N.meta.arg.queryCacheKey]||{},f=`${N.meta.requestId}_running`;R||(R=!!b[f]),delete b[f]}if(t.rejected.match(N)){const{meta:{condition:b,arg:f,requestId:k}}=N;if(b&&f.subscribe){const T=g[p=f.queryCacheKey]??(g[p]={});T[k]=f.subscriptionOptions??T[k]??{},R=!0}}return R},d=()=>r.currentSubscriptions,x={getSubscriptions:d,getSubscriptionCount:g=>{const R=d()[g]??{};return At(R)},isRequestSubscribed:(g,N)=>{var O;const R=d();return!!((O=R==null?void 0:R[g])!=null&&O[N])}};return(g,N)=>{if(n||(n=JSON.parse(JSON.stringify(r.currentSubscriptions))),e.util.resetApiState.match(g))return n=r.currentSubscriptions={},a=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(g))return[!1,x];const R=c(r.currentSubscriptions,g);let O=!0;if(R){a||(a=setTimeout(()=>{const b=JSON.parse(JSON.stringify(r.currentSubscriptions)),[,f]=Dn(n,()=>b);N.next(e.internalActions.subscriptionsUpdated(f)),n=b,a=null},500));const E=typeof g.type=="string"&&!!g.type.startsWith(s),p=t.rejected.match(g)&&g.meta.condition&&!!g.meta.arg.subscribe;O=!E&&!p}return[O,!1]}};function Ri(e){for(const t in e)return!1;return!0}var Ti=2147483647/1e3-1,Oi=({reducerPath:e,api:t,queryThunk:r,context:s,internalState:n,selectors:{selectQueryEntry:a,selectConfig:o}})=>{const{removeQueryResult:l,unsubscribeQueryResult:c,cacheEntriesUpserted:d}=t.internalActions,w=yr(c.match,r.fulfilled,r.rejected,d.match);function v(O){const E=n.currentSubscriptions[O];return!!E&&!Ri(E)}const x={},g=(O,E,p)=>{const b=E.getState(),f=o(b);if(w(O)){let k;if(d.match(O))k=O.payload.map(T=>T.queryDescription.queryCacheKey);else{const{queryCacheKey:T}=c.match(O)?O.payload:O.meta.arg;k=[T]}N(k,E,f)}if(t.util.resetApiState.match(O))for(const[k,T]of Object.entries(x))T&&clearTimeout(T),delete x[k];if(s.hasRehydrationInfo(O)){const{queries:k}=s.extractRehydrationInfo(O);N(Object.keys(k),E,f)}};function N(O,E,p){const b=E.getState();for(const f of O){const k=a(b,f);R(f,k==null?void 0:k.endpointName,E,p)}}function R(O,E,p,b){const f=s.endpointDefinitions[E],k=(f==null?void 0:f.keepUnusedDataFor)??b.keepUnusedDataFor;if(k===1/0)return;const T=Math.max(0,Math.min(k,Ti));if(!v(O)){const P=x[O];P&&clearTimeout(P),x[O]=setTimeout(()=>{v(O)||p.dispatch(l({queryCacheKey:O})),delete x[O]},T*1e3)}}return g},Bs=new Error("Promise never resolved before cacheEntryRemoved."),Pi=({api:e,reducerPath:t,context:r,queryThunk:s,mutationThunk:n,internalState:a,selectors:{selectQueryEntry:o,selectApiState:l}})=>{const c=Es(s),d=Es(n),w=bt(s,n),v={};function x(E,p,b){const f=v[E];f!=null&&f.valueResolved&&(f.valueResolved({data:p,meta:b}),delete f.valueResolved)}function g(E){const p=v[E];p&&(delete v[E],p.cacheEntryRemoved())}const N=(E,p,b)=>{const f=R(E);function k(T,P,S,A){const C=o(b,P),_=o(p.getState(),P);!C&&_&&O(T,A,P,p,S)}if(s.pending.match(E))k(E.meta.arg.endpointName,f,E.meta.requestId,E.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(E))for(const{queryDescription:T,value:P}of E.payload){const{endpointName:S,originalArgs:A,queryCacheKey:C}=T;k(S,C,E.meta.requestId,A),x(C,P,{})}else if(n.pending.match(E))p.getState()[t].mutations[f]&&O(E.meta.arg.endpointName,E.meta.arg.originalArgs,f,p,E.meta.requestId);else if(w(E))x(f,E.payload,E.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(E)||e.internalActions.removeMutationResult.match(E))g(f);else if(e.util.resetApiState.match(E))for(const T of Object.keys(v))g(T)};function R(E){return c(E)?E.meta.arg.queryCacheKey:d(E)?E.meta.arg.fixedCacheKey??E.meta.requestId:e.internalActions.removeQueryResult.match(E)?E.payload.queryCacheKey:e.internalActions.removeMutationResult.match(E)?Jt(E.payload):""}function O(E,p,b,f,k){const T=r.endpointDefinitions[E],P=T==null?void 0:T.onCacheEntryAdded;if(!P)return;const S={},A=new Promise(L=>{S.cacheEntryRemoved=L}),C=Promise.race([new Promise(L=>{S.valueResolved=L}),A.then(()=>{throw Bs})]);C.catch(()=>{}),v[b]=S;const _=e.endpoints[E].select(vr(T)?p:b),u=f.dispatch((L,M,F)=>F),y={...f,getCacheEntry:()=>_(f.getState()),requestId:k,extra:u,updateCachedData:vr(T)?L=>f.dispatch(e.util.updateQueryData(E,p,L)):void 0,cacheDataLoaded:C,cacheEntryRemoved:A},m=P(p,y);Promise.resolve(m).catch(L=>{if(L!==Bs)throw L})}return N},Li=({api:e,context:{apiUid:t},reducerPath:r})=>(s,n)=>{e.util.resetApiState.match(s)&&n.dispatch(e.internalActions.middlewareRegistered(t))},Di=({reducerPath:e,context:t,context:{endpointDefinitions:r},mutationThunk:s,queryThunk:n,api:a,assertTagType:o,refetchQuery:l,internalState:c})=>{const{removeQueryResult:d}=a.internalActions,w=yr(bt(s),us(s)),v=yr(bt(s,n),fs(s,n));let x=[];const g=(O,E)=>{w(O)?R(qn(O,"invalidatesTags",r,o),E):v(O)?R([],E):a.util.invalidateTags.match(O)&&R(ps(O.payload,void 0,void 0,void 0,void 0,o),E)};function N(O){var b;const{queries:E,mutations:p}=O;for(const f of[E,p])for(const k in f)if(((b=f[k])==null?void 0:b.status)==="pending")return!0;return!1}function R(O,E){const p=E.getState(),b=p[e];if(x.push(...O),b.config.invalidationBehavior==="delayed"&&N(b))return;const f=x;if(x=[],f.length===0)return;const k=a.util.selectInvalidatedBy(p,f);t.batch(()=>{const T=Array.from(k.values());for(const{queryCacheKey:P}of T){const S=b.queries[P],A=c.currentSubscriptions[P]??{};S&&(At(A)===0?E.dispatch(d({queryCacheKey:P})):S.status!=="uninitialized"&&E.dispatch(l(S)))}})}return g},Mi=({reducerPath:e,queryThunk:t,api:r,refetchQuery:s,internalState:n})=>{const a={},o=(x,g)=>{(r.internalActions.updateSubscriptionOptions.match(x)||r.internalActions.unsubscribeQueryResult.match(x))&&c(x.payload,g),(t.pending.match(x)||t.rejected.match(x)&&x.meta.condition)&&c(x.meta.arg,g),(t.fulfilled.match(x)||t.rejected.match(x)&&!x.meta.condition)&&l(x.meta.arg,g),r.util.resetApiState.match(x)&&w()};function l({queryCacheKey:x},g){const N=g.getState()[e],R=N.queries[x],O=n.currentSubscriptions[x];if(!R||R.status==="uninitialized")return;const{lowestPollingInterval:E,skipPollingIfUnfocused:p}=v(O);if(!Number.isFinite(E))return;const b=a[x];b!=null&&b.timeout&&(clearTimeout(b.timeout),b.timeout=void 0);const f=Date.now()+E;a[x]={nextPollTimestamp:f,pollingInterval:E,timeout:setTimeout(()=>{(N.config.focused||!p)&&g.dispatch(s(R)),l({queryCacheKey:x},g)},E)}}function c({queryCacheKey:x},g){const R=g.getState()[e].queries[x],O=n.currentSubscriptions[x];if(!R||R.status==="uninitialized")return;const{lowestPollingInterval:E}=v(O);if(!Number.isFinite(E)){d(x);return}const p=a[x],b=Date.now()+E;(!p||b<p.nextPollTimestamp)&&l({queryCacheKey:x},g)}function d(x){const g=a[x];g!=null&&g.timeout&&clearTimeout(g.timeout),delete a[x]}function w(){for(const x of Object.keys(a))d(x)}function v(x={}){let g=!1,N=Number.POSITIVE_INFINITY;for(let R in x)x[R].pollingInterval&&(N=Math.min(x[R].pollingInterval,N),g=x[R].skipPollingIfUnfocused||g);return{lowestPollingInterval:N,skipPollingIfUnfocused:g}}return o},Vi=({api:e,context:t,queryThunk:r,mutationThunk:s})=>{const n=Ln(r,s),a=fs(r,s),o=bt(r,s),l={};return(d,w)=>{var v,x;if(n(d)){const{requestId:g,arg:{endpointName:N,originalArgs:R}}=d.meta,O=t.endpointDefinitions[N],E=O==null?void 0:O.onQueryStarted;if(E){const p={},b=new Promise((P,S)=>{p.resolve=P,p.reject=S});b.catch(()=>{}),l[g]=p;const f=e.endpoints[N].select(vr(O)?R:g),k=w.dispatch((P,S,A)=>A),T={...w,getCacheEntry:()=>f(w.getState()),requestId:g,extra:k,updateCachedData:vr(O)?P=>w.dispatch(e.util.updateQueryData(N,R,P)):void 0,queryFulfilled:b};E(R,T)}}else if(o(d)){const{requestId:g,baseQueryMeta:N}=d.meta;(v=l[g])==null||v.resolve({data:d.payload,meta:N}),delete l[g]}else if(a(d)){const{requestId:g,rejectedWithValue:N,baseQueryMeta:R}=d.meta;(x=l[g])==null||x.reject({error:d.payload??d.error,isUnhandledError:!N,meta:R}),delete l[g]}}},Fi=({reducerPath:e,context:t,api:r,refetchQuery:s,internalState:n})=>{const{removeQueryResult:a}=r.internalActions,o=(c,d)=>{Rr.match(c)&&l(d,"refetchOnFocus"),Tr.match(c)&&l(d,"refetchOnReconnect")};function l(c,d){const w=c.getState()[e],v=w.queries,x=n.currentSubscriptions;t.batch(()=>{for(const g of Object.keys(x)){const N=v[g],R=x[g];if(!R||!N)continue;(Object.values(R).some(E=>E[d]===!0)||Object.values(R).every(E=>E[d]===void 0)&&w.config[d])&&(At(R)===0?c.dispatch(a({queryCacheKey:g})):N.status!=="uninitialized"&&c.dispatch(s(N)))}})}return o};function Bi(e){const{reducerPath:t,queryThunk:r,api:s,context:n}=e,{apiUid:a}=n,o={invalidateTags:Lt(`${t}/invalidateTags`)},l=v=>v.type.startsWith(`${t}/`),c=[Li,Oi,Di,Mi,Pi,Vi];return{middleware:v=>{let x=!1;const N={...e,internalState:{currentSubscriptions:{}},refetchQuery:w,isThisApiSliceAction:l},R=c.map(p=>p(N)),O=Ii(N),E=Fi(N);return p=>b=>{if(!Qa(b))return p(b);x||(x=!0,v.dispatch(s.internalActions.middlewareRegistered(a)));const f={...v,next:p},k=v.getState(),[T,P]=O(b,f,k);let S;if(T?S=p(b):S=P,v.getState()[t]&&(E(b,f,k),l(b)||n.hasRehydrationInfo(b)))for(const A of R)A(b,f,k);return S}},actions:o};function w(v){return e.api.endpoints[v.endpointName].initiate(v.originalArgs,{subscribe:!1,forceRefetch:!0})}}var Gs=Symbol(),Zn=({createSelector:e=On}={})=>({name:Gs,init(t,{baseQuery:r,tagTypes:s,reducerPath:n,serializeQueryArgs:a,keepUnusedDataFor:o,refetchOnMountOrArgChange:l,refetchOnFocus:c,refetchOnReconnect:d,invalidationBehavior:w,onSchemaFailure:v,catchSchemaFailure:x,skipSchemaValidation:g},N){za();const R=Q=>Q;Object.assign(t,{reducerPath:n,endpoints:{},internalActions:{onOnline:Tr,onOffline:gs,onFocus:Rr,onFocusLost:hs},util:{}});const O=Ei({serializeQueryArgs:a,reducerPath:n,createSelector:e}),{selectInvalidatedBy:E,selectCachedArgsForQuery:p,buildQuerySelector:b,buildInfiniteQuerySelector:f,buildMutationSelector:k}=O;Je(t.util,{selectInvalidatedBy:E,selectCachedArgsForQuery:p});const{queryThunk:T,infiniteQueryThunk:P,mutationThunk:S,patchQueryData:A,updateQueryData:C,upsertQueryData:_,prefetch:u,buildMatchThunkActions:y}=Si({baseQuery:r,reducerPath:n,context:N,api:t,serializeQueryArgs:a,assertTagType:R,selectors:O,onSchemaFailure:v,catchSchemaFailure:x,skipSchemaValidation:g}),{reducer:m,actions:L}=Ai({context:N,queryThunk:T,mutationThunk:S,serializeQueryArgs:a,reducerPath:n,assertTagType:R,config:{refetchOnFocus:c,refetchOnReconnect:d,refetchOnMountOrArgChange:l,keepUnusedDataFor:o,reducerPath:n,invalidationBehavior:w}});Je(t.util,{patchQueryData:A,updateQueryData:C,upsertQueryData:_,prefetch:u,resetApiState:L.resetApiState,upsertQueryEntries:L.cacheEntriesUpserted}),Je(t.internalActions,L);const{middleware:M,actions:F}=Bi({reducerPath:n,context:N,queryThunk:T,mutationThunk:S,infiniteQueryThunk:P,api:t,assertTagType:R,selectors:O});Je(t.util,F),Je(t,{reducer:m,middleware:M});const{buildInitiateQuery:D,buildInitiateInfiniteQuery:G,buildInitiateMutation:K,getRunningMutationThunk:te,getRunningMutationsThunk:le,getRunningQueriesThunk:ae,getRunningQueryThunk:re}=ji({queryThunk:T,mutationThunk:S,infiniteQueryThunk:P,api:t,serializeQueryArgs:a,context:N});return Je(t.util,{getRunningMutationThunk:te,getRunningMutationsThunk:le,getRunningQueryThunk:re,getRunningQueriesThunk:ae}),{name:Gs,injectEndpoint(Q,me){var Ce;const ve=(Ce=t.endpoints)[Q]??(Ce[Q]={});Or(me)&&Je(ve,{name:Q,select:b(Q,me),initiate:D(Q,me)},y(T,Q)),ki(me)&&Je(ve,{name:Q,select:k(),initiate:K(Q)},y(S,Q)),Pr(me)&&Je(ve,{name:Q,select:f(Q,me),initiate:G(Q,me)},y(T,Q))}}}});Zn();function or(e){return e.replace(e[0],e[0].toUpperCase())}function Gi(e){return e.type==="query"}function $i(e){return e.type==="mutation"}function Wn(e){return e.type==="infinitequery"}function Bt(e,...t){return Object.assign(e,...t)}var Br=Symbol();function Gr(e,t,r,s){const n=j.useMemo(()=>({queryArgs:e,serialized:typeof e=="object"?t({queryArgs:e,endpointDefinition:r,endpointName:s}):e}),[e,t,r,s]),a=j.useRef(n);return j.useEffect(()=>{a.current.serialized!==n.serialized&&(a.current=n)},[n]),a.current.serialized===n.serialized?a.current.queryArgs:e}function lr(e){const t=j.useRef(e);return j.useEffect(()=>{Qt(t.current,e)||(t.current=e)},[e]),Qt(t.current,e)?t.current:e}var zi=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ui=zi(),qi=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Qi=qi(),Hi=()=>Ui||Qi?j.useLayoutEffect:j.useEffect,Zi=Hi(),$s=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:Gn.pending}:e;function $r(e,...t){const r={};return t.forEach(s=>{r[s]=e[s]}),r}var zr=["data","status","isLoading","isSuccess","isError","error"];function Wi({api:e,moduleOptions:{batch:t,hooks:{useDispatch:r,useSelector:s,useStore:n},unstable__sideEffectsInRender:a,createSelector:o},serializeQueryArgs:l,context:c}){const d=a?f=>f():j.useEffect;return{buildQueryHooks:E,buildInfiniteQueryHooks:p,buildMutationHook:b,usePrefetch:x};function w(f,k,T){if(k!=null&&k.endpointName&&f.isUninitialized){const{endpointName:u}=k,y=c.endpointDefinitions[u];T!==Fe&&l({queryArgs:k.originalArgs,endpointDefinition:y,endpointName:u})===l({queryArgs:T,endpointDefinition:y,endpointName:u})&&(k=void 0)}let P=f.isSuccess?f.data:k==null?void 0:k.data;P===void 0&&(P=f.data);const S=P!==void 0,A=f.isLoading,C=(!k||k.isLoading||k.isUninitialized)&&!S&&A,_=f.isSuccess||S&&(A&&!(k!=null&&k.isError)||f.isUninitialized);return{...f,data:P,currentData:f.data,isFetching:A,isLoading:C,isSuccess:_}}function v(f,k,T){if(k!=null&&k.endpointName&&f.isUninitialized){const{endpointName:u}=k,y=c.endpointDefinitions[u];T!==Fe&&l({queryArgs:k.originalArgs,endpointDefinition:y,endpointName:u})===l({queryArgs:T,endpointDefinition:y,endpointName:u})&&(k=void 0)}let P=f.isSuccess?f.data:k==null?void 0:k.data;P===void 0&&(P=f.data);const S=P!==void 0,A=f.isLoading,C=(!k||k.isLoading||k.isUninitialized)&&!S&&A,_=f.isSuccess||A&&S;return{...f,data:P,currentData:f.data,isFetching:A,isLoading:C,isSuccess:_}}function x(f,k){const T=r(),P=lr(k);return j.useCallback((S,A)=>T(e.util.prefetch(f,S,{...P,...A})),[f,T,P])}function g(f,k,{refetchOnReconnect:T,refetchOnFocus:P,refetchOnMountOrArgChange:S,skip:A=!1,pollingInterval:C=0,skipPollingIfUnfocused:_=!1,...u}={}){const{initiate:y}=e.endpoints[f],m=r(),L=j.useRef(void 0);if(!L.current){const Q=m(e.internalActions.internal_getRTKQSubscriptions());L.current=Q}const M=Gr(A?Fe:k,wr,c.endpointDefinitions[f],f),F=lr({refetchOnReconnect:T,refetchOnFocus:P,pollingInterval:C,skipPollingIfUnfocused:_}),D=u.initialPageParam,G=lr(D),K=j.useRef(void 0);let{queryCacheKey:te,requestId:le}=K.current||{},ae=!1;te&&le&&(ae=L.current.isRequestSubscribed(te,le));const re=!ae&&K.current!==void 0;return d(()=>{re&&(K.current=void 0)},[re]),d(()=>{var X;const Q=K.current;if(M===Fe){Q==null||Q.unsubscribe(),K.current=void 0;return}const me=(X=K.current)==null?void 0:X.subscriptionOptions;if(!Q||Q.arg!==M){Q==null||Q.unsubscribe();const ve=m(y(M,{subscriptionOptions:F,forceRefetch:S,...Wn(c.endpointDefinitions[f])?{initialPageParam:G}:{}}));K.current=ve}else F!==me&&Q.updateSubscriptionOptions(F)},[m,y,S,M,F,re,G,f]),[K,m,y,F]}function N(f,k){return(P,{skip:S=!1,selectFromResult:A}={})=>{const{select:C}=e.endpoints[f],_=Gr(S?Fe:P,l,c.endpointDefinitions[f],f),u=j.useRef(void 0),y=j.useMemo(()=>o([C(_),(D,G)=>G,D=>_],k,{memoizeOptions:{resultEqualityCheck:Qt}}),[C,_]),m=j.useMemo(()=>A?o([y],A,{devModeChecks:{identityFunctionCheck:"never"}}):y,[y,A]),L=s(D=>m(D,u.current),Qt),M=n(),F=y(M.getState(),u.current);return Zi(()=>{u.current=F},[F]),L}}function R(f){j.useEffect(()=>()=>{var k,T;(T=(k=f.current)==null?void 0:k.unsubscribe)==null||T.call(k),f.current=void 0},[f])}function O(f){if(!f.current)throw new Error(Tn(38));return f.current.refetch()}function E(f){const k=(S,A={})=>{const[C]=g(f,S,A);return R(C),j.useMemo(()=>({refetch:()=>O(C)}),[C])},T=({refetchOnReconnect:S,refetchOnFocus:A,pollingInterval:C=0,skipPollingIfUnfocused:_=!1}={})=>{const{initiate:u}=e.endpoints[f],y=r(),[m,L]=j.useState(Br),M=j.useRef(void 0),F=lr({refetchOnReconnect:S,refetchOnFocus:A,pollingInterval:C,skipPollingIfUnfocused:_});d(()=>{var le,ae;const te=(le=M.current)==null?void 0:le.subscriptionOptions;F!==te&&((ae=M.current)==null||ae.updateSubscriptionOptions(F))},[F]);const D=j.useRef(F);d(()=>{D.current=F},[F]);const G=j.useCallback(function(te,le=!1){let ae;return t(()=>{var re;(re=M.current)==null||re.unsubscribe(),M.current=ae=y(u(te,{subscriptionOptions:D.current,forceRefetch:!le})),L(te)}),ae},[y,u]),K=j.useCallback(()=>{var te,le;(te=M.current)!=null&&te.queryCacheKey&&y(e.internalActions.removeQueryResult({queryCacheKey:(le=M.current)==null?void 0:le.queryCacheKey}))},[y]);return j.useEffect(()=>()=>{var te;(te=M==null?void 0:M.current)==null||te.unsubscribe()},[]),j.useEffect(()=>{m!==Br&&!M.current&&G(m,!0)},[m,G]),j.useMemo(()=>[G,m,{reset:K}],[G,m,K])},P=N(f,w);return{useQueryState:P,useQuerySubscription:k,useLazyQuerySubscription:T,useLazyQuery(S){const[A,C,{reset:_}]=T(S),u=P(C,{...S,skip:C===Br}),y=j.useMemo(()=>({lastArg:C}),[C]);return j.useMemo(()=>[A,{...u,reset:_},y],[A,u,_,y])},useQuery(S,A){const C=k(S,A),_=P(S,{selectFromResult:S===Fe||A!=null&&A.skip?void 0:$s,...A}),u=$r(_,...zr);return j.useDebugValue(u),j.useMemo(()=>({..._,...C}),[_,C])}}}function p(f){const k=(P,S={})=>{const[A,C,_,u]=g(f,P,S),y=j.useRef(u);d(()=>{y.current=u},[u]);const m=j.useCallback(function(F,D){let G;return t(()=>{var K;(K=A.current)==null||K.unsubscribe(),A.current=G=C(_(F,{subscriptionOptions:y.current,direction:D}))}),G},[A,C,_]);R(A);const L=Gr(S.skip?Fe:P,wr,c.endpointDefinitions[f],f),M=j.useCallback(()=>O(A),[A]);return j.useMemo(()=>({trigger:m,refetch:M,fetchNextPage:()=>m(L,"forward"),fetchPreviousPage:()=>m(L,"backward")}),[M,m,L])},T=N(f,v);return{useInfiniteQueryState:T,useInfiniteQuerySubscription:k,useInfiniteQuery(P,S){const{refetch:A,fetchNextPage:C,fetchPreviousPage:_}=k(P,S),u=T(P,{selectFromResult:P===Fe||S!=null&&S.skip?void 0:$s,...S}),y=$r(u,...zr,"hasNextPage","hasPreviousPage");return j.useDebugValue(y),j.useMemo(()=>({...u,fetchNextPage:C,fetchPreviousPage:_,refetch:A}),[u,C,_,A])}}}function b(f){return({selectFromResult:k,fixedCacheKey:T}={})=>{const{select:P,initiate:S}=e.endpoints[f],A=r(),[C,_]=j.useState();j.useEffect(()=>()=>{C!=null&&C.arg.fixedCacheKey||C==null||C.reset()},[C]);const u=j.useCallback(function(te){const le=A(S(te,{fixedCacheKey:T}));return _(le),le},[A,S,T]),{requestId:y}=C||{},m=j.useMemo(()=>P({fixedCacheKey:T,requestId:C==null?void 0:C.requestId}),[T,C,P]),L=j.useMemo(()=>k?o([m],k):m,[k,m]),M=s(L,Qt),F=T==null?C==null?void 0:C.arg.originalArgs:void 0,D=j.useCallback(()=>{t(()=>{C&&_(void 0),T&&A(e.internalActions.removeMutationResult({requestId:y,fixedCacheKey:T}))})},[A,T,C,y]),G=$r(M,...zr,"endpointName");j.useDebugValue(G);const K=j.useMemo(()=>({...M,originalArgs:F,reset:D}),[M,F,D]);return j.useMemo(()=>[u,K],[u,K])}}}var Ki=Symbol(),Ji=({batch:e=Wa,hooks:t={useDispatch:Mn,useSelector:ms,useStore:Ka},createSelector:r=On,unstable__sideEffectsInRender:s=!1,...n}={})=>({name:Ki,init(a,{serializeQueryArgs:o},l){const c=a,{buildQueryHooks:d,buildInfiniteQueryHooks:w,buildMutationHook:v,usePrefetch:x}=Wi({api:a,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:s,createSelector:r},serializeQueryArgs:o,context:l});return Bt(c,{usePrefetch:x}),Bt(l,{batch:e}),{injectEndpoint(g,N){if(Gi(N)){const{useQuery:R,useLazyQuery:O,useLazyQuerySubscription:E,useQueryState:p,useQuerySubscription:b}=d(g);Bt(c.endpoints[g],{useQuery:R,useLazyQuery:O,useLazyQuerySubscription:E,useQueryState:p,useQuerySubscription:b}),a[`use${or(g)}Query`]=R,a[`useLazy${or(g)}Query`]=O}if($i(N)){const R=v(g);Bt(c.endpoints[g],{useMutation:R}),a[`use${or(g)}Mutation`]=R}else if(Wn(N)){const{useInfiniteQuery:R,useInfiniteQuerySubscription:O,useInfiniteQueryState:E}=w(g);Bt(c.endpoints[g],{useInfiniteQuery:R,useInfiniteQuerySubscription:O,useInfiniteQueryState:E}),a[`use${or(g)}InfiniteQuery`]=R}}}}}),Yi=Hn(Zn(),Ji());const mr=It("auth/checkAuth",async(e,{rejectWithValue:t})=>{try{const r=localStorage.getItem("auth_tokens");if(!r)return t("No authenticated");const s=JSON.parse(r),n=await fetch("/api/auth/me",{headers:{Authorization:`Bearer ${s.accessToken}`,"Content-Type":"application/json"}});return n.ok?{user:(await n.json()).user,tokens:s}:(localStorage.removeItem("auth_tokens"),t("Invalid token"))}catch{return localStorage.removeItem("auth_tokens"),t("Connection error")}}),hr=It("auth/login",async(e,{rejectWithValue:t})=>{try{const r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await r.json();return r.ok?(localStorage.setItem("auth_tokens",JSON.stringify(s.tokens)),s):t(s.error||"Error en el login")}catch{return t("Error de conexión")}}),gr=It("auth/register",async(e,{rejectWithValue:t})=>{try{const r=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),s=await r.json();return r.ok?(localStorage.setItem("auth_tokens",JSON.stringify(s.tokens)),s):t(s.error||"Error en el registro")}catch{return t("Error de conexión")}}),Kn=It("auth/logout",async(e,{getState:t,rejectWithValue:r})=>{var s;try{const a=(s=t().auth.tokens)==null?void 0:s.accessToken;return a&&await fetch("/api/auth/logout",{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"}}),localStorage.removeItem("auth_tokens"),null}catch{return localStorage.removeItem("auth_tokens"),null}}),Xi={user:null,tokens:null,isAuthenticated:!1,isLoading:!1,error:null},Jn=Qe({name:"auth",initialState:Xi,reducers:{clearError:e=>{e.error=null},setTokens:(e,t)=>{e.tokens=t.payload,localStorage.setItem("auth_tokens",JSON.stringify(t.payload))},logout:e=>{e.user=null,e.tokens=null,e.isAuthenticated=!1,e.error=null,localStorage.removeItem("auth_tokens")},updateUser:(e,t)=>{e.user=t.payload}},extraReducers:e=>{e.addCase(mr.pending,t=>{t.isLoading=!0,t.error=null}).addCase(mr.fulfilled,(t,r)=>{t.isLoading=!1,t.user=r.payload.user,t.tokens=r.payload.tokens,t.isAuthenticated=!0,t.error=null}).addCase(mr.rejected,(t,r)=>{t.isLoading=!1,t.user=null,t.tokens=null,t.isAuthenticated=!1,t.error=r.payload}).addCase(hr.pending,t=>{t.isLoading=!0,t.error=null}).addCase(hr.fulfilled,(t,r)=>{t.isLoading=!1,t.user=r.payload.user,t.tokens=r.payload.tokens,t.isAuthenticated=!0,t.error=null}).addCase(hr.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(gr.pending,t=>{t.isLoading=!0,t.error=null}).addCase(gr.fulfilled,(t,r)=>{t.isLoading=!1,t.user=r.payload.user,t.tokens=r.payload.tokens,t.isAuthenticated=!0,t.error=null}).addCase(gr.rejected,(t,r)=>{t.isLoading=!1,t.error=r.payload}).addCase(Kn.fulfilled,t=>{t.user=null,t.tokens=null,t.isAuthenticated=!1,t.error=null})}}),{clearError:eo,setTokens:to,logout:zs,updateUser:Rc}=Jn.actions,ro=Jn.reducer,Ur=vi({baseUrl:"/api",prepareHeaders:(e,{getState:t})=>{var s;const r=(s=t().auth.tokens)==null?void 0:s.accessToken;return r&&e.set("authorization",`Bearer ${r}`),e.set("content-type","application/json"),e}}),so=async(e,t,r)=>{var n;let s=await Ur(e,t,r);if(s.error&&s.error.status===401){const a=(n=t.getState().auth.tokens)==null?void 0:n.refreshToken;if(a){const o=await Ur({url:"/auth/refresh",method:"POST",body:{refreshToken:a}},t,r);if(o.data){const{tokens:l}=o.data;t.dispatch(to(l)),s=await Ur(e,t,r)}else t.dispatch(zs())}else t.dispatch(zs())}return s},xt=Yi({reducerPath:"api",baseQuery:so,tagTypes:["User","Game","BingoCard"],endpoints:()=>({})});var mt=(e=>(e.SCHEDULED="SCHEDULED",e.OPEN="OPEN",e.IN_PROGRESS="IN_PROGRESS",e.PAUSED="PAUSED",e.COMPLETED="COMPLETED",e.CANCELLED="CANCELLED",e))(mt||{}),je=(e=>(e.LINE_HORIZONTAL_1="LINE_HORIZONTAL_1",e.LINE_HORIZONTAL_2="LINE_HORIZONTAL_2",e.LINE_HORIZONTAL_3="LINE_HORIZONTAL_3",e.LINE_HORIZONTAL_4="LINE_HORIZONTAL_4",e.LINE_HORIZONTAL_5="LINE_HORIZONTAL_5",e.LINE_VERTICAL_B="LINE_VERTICAL_B",e.LINE_VERTICAL_I="LINE_VERTICAL_I",e.LINE_VERTICAL_N="LINE_VERTICAL_N",e.LINE_VERTICAL_G="LINE_VERTICAL_G",e.LINE_VERTICAL_O="LINE_VERTICAL_O",e.DIAGONAL_TOP_LEFT="DIAGONAL_TOP_LEFT",e.DIAGONAL_TOP_RIGHT="DIAGONAL_TOP_RIGHT",e.FULL_CARD="FULL_CARD",e.FOUR_CORNERS="FOUR_CORNERS",e.PATTERN_X="PATTERN_X",e.PATTERN_T="PATTERN_T",e.PATTERN_L="PATTERN_L",e))(je||{});const qr={MAX_CARDS_PER_USER:3},no=e=>e%5,Us=e=>{const t=no(e);return["B","I","N","G","O"][t]},ao={availableGames:[],currentGame:null,gameHistory:[],isLoading:!1,error:null},Yn=Qe({name:"game",initialState:ao,reducers:{setAvailableGames:(e,t)=>{e.availableGames=t.payload,e.error=null},addGame:(e,t)=>{e.availableGames.push(t.payload)},updateGame:(e,t)=>{var s;const r=e.availableGames.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.availableGames[r]=t.payload),((s=e.currentGame)==null?void 0:s.id)===t.payload.id&&(e.currentGame=t.payload)},removeGame:(e,t)=>{var r;e.availableGames=e.availableGames.filter(s=>s.id!==t.payload),((r=e.currentGame)==null?void 0:r.id)===t.payload&&(e.currentGame=null)},setCurrentGame:(e,t)=>{e.currentGame=t.payload,e.error=null},updateCurrentGameStatus:(e,t)=>{e.currentGame&&(e.currentGame.status=t.payload)},updateCurrentGameBall:(e,t)=>{e.currentGame&&(e.currentGame.currentBall=t.payload.ball,e.currentGame.ballsDrawn=t.payload.ballsDrawn)},addGameWinner:(e,t)=>{e.currentGame&&(e.currentGame.winningCards.includes(t.payload)||e.currentGame.winningCards.push(t.payload))},updateGameParticipants:(e,t)=>{e.currentGame&&(e.currentGame.participantCount=t.payload)},addToHistory:(e,t)=>{if(t.payload.status===mt.COMPLETED){const r=e.gameHistory.findIndex(s=>s.id===t.payload.id);r===-1?(e.gameHistory.unshift(t.payload),e.gameHistory.length>50&&(e.gameHistory=e.gameHistory.slice(0,50))):e.gameHistory[r]=t.payload}},clearHistory:e=>{e.gameHistory=[]},setLoading:(e,t)=>{e.isLoading=t.payload},setError:(e,t)=>{e.error=t.payload,e.isLoading=!1},clearError:e=>{e.error=null},resetGameState:e=>{e.availableGames=[],e.currentGame=null,e.gameHistory=[],e.isLoading=!1,e.error=null},filterGamesByStatus:(e,t)=>{t.payload!==null&&(e.availableGames=e.availableGames.filter(r=>r.status===t.payload))},joinGameOptimistic:(e,t)=>{const r=e.availableGames.find(s=>s.id===t.payload);r&&r.participantCount!==void 0&&(r.participantCount+=1)},leaveGameOptimistic:(e,t)=>{const r=e.availableGames.find(s=>s.id===t.payload);r&&r.participantCount!==void 0&&r.participantCount>0&&(r.participantCount-=1)}}}),{setAvailableGames:Tc,addGame:Oc,updateGame:Pc,removeGame:Lc,setCurrentGame:Dc,updateCurrentGameStatus:Mc,updateCurrentGameBall:Vc,addGameWinner:Fc,updateGameParticipants:Bc,addToHistory:Gc,clearHistory:$c,setLoading:zc,setError:Uc,clearError:qc,resetGameState:Qc,filterGamesByStatus:Hc,joinGameOptimistic:Zc,leaveGameOptimistic:Wc}=Yn.actions,io=Yn.reducer,oo={userCards:[],activeCards:[],isGenerating:!1,error:null},Xn=Qe({name:"bingoCard",initialState:oo,reducers:{setUserCards:(e,t)=>{e.userCards=t.payload,e.error=null},addUserCard:(e,t)=>{const r=e.userCards.findIndex(s=>s.id===t.payload.id);r===-1?e.userCards.push(t.payload):e.userCards[r]=t.payload},addUserCards:(e,t)=>{t.payload.forEach(r=>{const s=e.userCards.findIndex(n=>n.id===r.id);s===-1?e.userCards.push(r):e.userCards[s]=r})},updateUserCard:(e,t)=>{const r=e.userCards.findIndex(n=>n.id===t.payload.id);r!==-1&&(e.userCards[r]=t.payload);const s=e.activeCards.findIndex(n=>n.id===t.payload.id);s!==-1&&(e.activeCards[s]=t.payload)},removeUserCard:(e,t)=>{e.userCards=e.userCards.filter(r=>r.id!==t.payload),e.activeCards=e.activeCards.filter(r=>r.id!==t.payload)},clearUserCards:e=>{e.userCards=[],e.activeCards=[]},setActiveCards:(e,t)=>{const r=t.payload.slice(0,qr.MAX_CARDS_PER_USER);e.activeCards=r},addActiveCard:(e,t)=>{e.activeCards.length<qr.MAX_CARDS_PER_USER&&e.activeCards.findIndex(s=>s.id===t.payload.id)===-1&&e.activeCards.push(t.payload)},removeActiveCard:(e,t)=>{e.activeCards=e.activeCards.filter(r=>r.id!==t.payload)},clearActiveCards:e=>{e.activeCards=[]},markNumber:(e,t)=>{const{cardId:r,number:s,position:n}=t.payload,a=c=>{var w;const d=c.numbers.findIndex(v=>v.position===n);if(d!==-1&&!((w=c.numbers[d])!=null&&w.isMarked)){const v=c.numbers[d];v.isMarked=!0,c.markedNumbers.includes(s)||c.markedNumbers.push(s)}},o=e.userCards.findIndex(c=>c.id===r);if(o!==-1){const c=e.userCards[o];c&&a(c)}const l=e.activeCards.findIndex(c=>c.id===r);if(l!==-1){const c=e.activeCards[l];c&&a(c)}},unmarkNumber:(e,t)=>{const{cardId:r,number:s,position:n}=t.payload,a=c=>{const d=c.numbers.findIndex(v=>v.position===n),w=c.numbers[d];d!==-1&&(w!=null&&w.isMarked)&&!w.isFree&&(w.isMarked=!1,c.markedNumbers=c.markedNumbers.filter(v=>v!==s))},o=e.userCards.findIndex(c=>c.id===r);if(o!==-1){const c=e.userCards[o];c&&a(c)}const l=e.activeCards.findIndex(c=>c.id===r);if(l!==-1){const c=e.activeCards[l];c&&a(c)}},autoMarkNumber:(e,t)=>{const r=t.payload,s=n=>{n.numbers.forEach(a=>{a.number===r&&!a.isMarked&&(a.isMarked=!0,n.markedNumbers.includes(r)||n.markedNumbers.push(r))})};e.activeCards.forEach(n=>s(n)),e.userCards.forEach(n=>s(n))},setCardWinner:(e,t)=>{const{cardId:r,patterns:s}=t.payload,n=l=>{l.isWinner=!0,l.winningPattern=s.join(", ")},a=e.userCards.findIndex(l=>l.id===r);if(a!==-1){const l=e.userCards[a];l&&n(l)}const o=e.activeCards.findIndex(l=>l.id===r);if(o!==-1){const l=e.activeCards[o];l&&n(l)}},setGenerating:(e,t)=>{e.isGenerating=t.payload},setError:(e,t)=>{e.error=t.payload,e.isGenerating=!1},clearError:e=>{e.error=null},resetCardState:e=>{e.userCards=[],e.activeCards=[],e.isGenerating=!1,e.error=null},filterCardsByGame:(e,t)=>{const r=t.payload;e.userCards=e.userCards.filter(s=>s.gameId===r),e.activeCards=e.activeCards.filter(s=>s.gameId===r)},toggleCardActive:(e,t)=>{const r=t.payload,s=e.userCards.find(n=>n.id===r);if(s){const n=e.activeCards.findIndex(a=>a.id===r);n!==-1?e.activeCards.splice(n,1):e.activeCards.length<qr.MAX_CARDS_PER_USER&&e.activeCards.push(s)}}}}),{setUserCards:Kc,addUserCard:Jc,addUserCards:Yc,updateUserCard:Xc,removeUserCard:ed,clearUserCards:td,setActiveCards:rd,addActiveCard:sd,removeActiveCard:nd,clearActiveCards:ad,markNumber:id,unmarkNumber:od,autoMarkNumber:ld,setCardWinner:cd,setGenerating:dd,setError:ud,clearError:fd,resetCardState:md,filterCardsByGame:hd,toggleCardActive:gd}=Xn.actions,lo=Xn.reducer,co={currentBall:null,ballsDrawn:[],ballHistory:[],winners:[],isGameActive:!1,gameStats:{totalBalls:0,timeElapsed:0,participantCount:0}},ea=Qe({name:"gamePlay",initialState:co,reducers:{setCurrentBall:(e,t)=>{e.currentBall=t.payload},setBallsDrawn:(e,t)=>{e.ballsDrawn=t.payload,e.gameStats.totalBalls=t.payload.length},addBallDrawn:(e,t)=>{const{ball:r,timestamp:s=new Date().toISOString()}=t.payload;e.ballsDrawn.includes(r)||(e.ballsDrawn.push(r),e.gameStats.totalBalls=e.ballsDrawn.length);const n=Us(qs(r)),a={ball:r,timestamp:s,column:n};e.ballHistory.findIndex(l=>l.ball===r)===-1&&(e.ballHistory.unshift(a),e.ballHistory.length>75&&(e.ballHistory=e.ballHistory.slice(0,75))),e.currentBall=r},clearBallHistory:e=>{e.ballHistory=[],e.ballsDrawn=[],e.currentBall=null,e.gameStats.totalBalls=0},addWinner:(e,t)=>{const r=e.winners.findIndex(s=>s.cardId===t.payload.cardId);if(r===-1)e.winners.push(t.payload);else{const s=e.winners[r];s&&(s.patterns=[...new Set([...s.patterns,...t.payload.patterns])])}},removeWinner:(e,t)=>{e.winners=e.winners.filter(r=>r.cardId!==t.payload)},clearWinners:e=>{e.winners=[]},setWinners:(e,t)=>{e.winners=t.payload},setGameActive:(e,t)=>{e.isGameActive=t.payload,t.payload||(e.currentBall=null)},startGame:e=>{e.isGameActive=!0,e.winners=[],e.ballsDrawn=[],e.ballHistory=[],e.currentBall=null,e.gameStats={totalBalls:0,timeElapsed:0,participantCount:e.gameStats.participantCount}},endGame:e=>{e.isGameActive=!1,e.currentBall=null},pauseGame:e=>{e.isGameActive=!1},resumeGame:e=>{e.isGameActive=!0},updateGameStats:(e,t)=>{e.gameStats={...e.gameStats,...t.payload}},incrementTimeElapsed:(e,t)=>{e.gameStats.timeElapsed+=t.payload},setParticipantCount:(e,t)=>{e.gameStats.participantCount=t.payload},resetGamePlay:e=>{e.currentBall=null,e.ballsDrawn=[],e.ballHistory=[],e.winners=[],e.isGameActive=!1,e.gameStats={totalBalls:0,timeElapsed:0,participantCount:0}},syncGameState:(e,t)=>{const{ballsDrawn:r,currentBall:s,winners:n,isActive:a}=t.payload;e.ballsDrawn=r,e.currentBall=s||null,e.winners=n,e.isGameActive=a,e.gameStats.totalBalls=r.length,e.ballHistory=r.map(o=>({ball:o,timestamp:new Date().toISOString(),column:Us(qs(o))})).reverse()}}});function qs(e){return e>=1&&e<=15?0:e>=16&&e<=30?1:e>=31&&e<=45?2:e>=46&&e<=60?3:e>=61&&e<=75?4:0}const{setCurrentBall:pd,setBallsDrawn:yd,addBallDrawn:xd,clearBallHistory:bd,addWinner:vd,removeWinner:wd,clearWinners:kd,setWinners:Nd,setGameActive:_d,startGame:jd,endGame:Cd,pauseGame:Sd,resumeGame:Ad,updateGameStats:Ed,incrementTimeElapsed:Id,setParticipantCount:Rd,resetGamePlay:Td,syncGameState:Od}=ea.actions,uo=e=>e.gamePlay.currentBall,fo=e=>e.gamePlay.ballsDrawn,mo=ea.reducer,ta=Ja({reducer:{auth:ro,game:io,bingoCard:lo,gamePlay:mo,[xt.reducerPath]:xt.reducer},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}}).concat(xt.middleware)});wi(ta.dispatch);function ra(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=ra(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Te(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=ra(e))&&(s&&(s+=" "),s+=t);return s}const tr=({size:e="md",className:t})=>{const r={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return i.jsx("div",{className:Te("flex items-center justify-center",t),children:i.jsx("div",{className:Te("animate-spin rounded-full border-2 border-gray-300 border-t-primary-600",r[e])})})},Ae=j.forwardRef(({className:e,variant:t="primary",size:r="md",loading:s=!1,children:n,disabled:a,...o},l)=>{const c="btn",d={primary:"btn-primary",secondary:"btn-secondary",outline:"btn-outline",ghost:"bg-transparent hover:bg-gray-100 text-gray-700"},w={sm:"btn-sm",md:"btn-md",lg:"btn-lg"};return i.jsxs("button",{className:Te(c,d[t],w[r],s&&"pointer-events-none opacity-70",e),disabled:a||s,ref:l,...o,children:[s&&i.jsx(tr,{size:"sm",className:"mr-2"}),n]})});Ae.displayName="Button";class sa extends Ee.Component{constructor(r){super(r);Pe(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){console.error("ErrorBoundary caught an error:",r,s)}render(){if(this.state.hasError){if(this.props.fallback){const r=this.props.fallback;return i.jsx(r,{error:this.state.error,onRetry:this.handleRetry})}return i.jsx(ho,{error:this.state.error,onRetry:this.handleRetry})}return this.props.children}}const ho=({error:e,onRetry:t})=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsx("div",{className:"card max-w-lg",children:i.jsxs("div",{className:"card-content text-center p-8",children:[i.jsx("div",{className:"text-6xl mb-4",children:"😵"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"¡Ups! Algo salió mal"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Ha ocurrido un error inesperado. Por favor, intenta recargar la página o contacta al soporte si el problema persiste."}),e&&!1,i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[i.jsx(Ae,{onClick:t,children:"Intentar de Nuevo"}),i.jsx(Ae,{variant:"outline",onClick:()=>window.location.reload(),children:"Recargar Página"})]})]})})}),na=()=>Mn(),es=ms;/**
 * @license lucide-react v0.295.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var go={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.295.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ze=(e,t)=>{const r=j.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...d},w)=>j.createElement("svg",{ref:w,...go,width:n,height:n,stroke:s,strokeWidth:o?Number(a)*24/Number(n):a,className:["lucide",`lucide-${po(e)}`,l].join(" "),...d},[...t.map(([v,x])=>j.createElement(v,x)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.295.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ze("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.295.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ze("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.295.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ze("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.295.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.295.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.295.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=ze("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.295.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=ze("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.295.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.295.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ze("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.295.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.295.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=ze("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),vo=()=>{const[e,t]=j.useState(null),[r,s]=j.useState(!1),[n,a]=j.useState(!1);j.useEffect(()=>{const c=()=>{const v=window.matchMedia("(display-mode: standalone)").matches,x=window.matchMedia("(display-mode: fullscreen)").matches,g=window.matchMedia("(display-mode: minimal-ui)").matches;a(v||x||g)},d=v=>{v.preventDefault(),t(v),s(!0)},w=()=>{console.log("PWA fue instalada"),a(!0),s(!1),t(null)};return c(),window.addEventListener("beforeinstallprompt",d),window.addEventListener("appinstalled",w),()=>{window.removeEventListener("beforeinstallprompt",d),window.removeEventListener("appinstalled",w)}},[]);const o=async()=>{if(!e)return!1;try{await e.prompt();const{outcome:c}=await e.userChoice;return c==="accepted"?(console.log("Usuario aceptó instalar la PWA"),s(!1),t(null),!0):(console.log("Usuario rechazó instalar la PWA"),!1)}catch(c){return console.error("Error al instalar la PWA:",c),!1}},l=r&&!n&&e!==null;return{isInstallable:l,isInstalled:n,installApp:o,canInstall:l}},Zs=()=>{const[e,t]=j.useState(!0),[r,s]=j.useState(!1),{canInstall:n,installApp:a,isInstalled:o}=vo();if(!n||o||!e)return null;const l=async()=>{s(!0);try{await a()&&t(!1)}catch(d){console.error("Error al instalar:",d)}finally{s(!1)}},c=()=>{t(!1),localStorage.setItem("pwa-install-dismissed","true")};return i.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 mx-auto max-w-sm",children:i.jsx("div",{className:"bg-white rounded-lg shadow-lg border p-4",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"bg-primary-100 rounded-full p-2",children:i.jsx(xo,{className:"h-5 w-5 text-primary-600"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"¡Instala la App!"}),i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Instala Bingo La Perla en tu dispositivo para una experiencia más rápida y acceso offline."}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(Ae,{size:"sm",onClick:l,loading:r,className:"flex-1",children:[i.jsx(yo,{className:"h-4 w-4 mr-1"}),"Instalar"]}),i.jsx("button",{onClick:c,className:"p-1 text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Cerrar",children:i.jsx(ht,{className:"h-4 w-4"})})]})]})]})})})},wo=({children:e})=>{const t=Vn();return["/login","/register","/dashboard","/game"].some(n=>t.pathname.startsWith(n))?i.jsxs(i.Fragment,{children:[e,i.jsx(Zs,{})]}):i.jsxs("div",{className:"min-h-screen",children:[e,i.jsx(Zs,{})]})},ko=({id:e,type:t="info",title:r,message:s,duration:n=4e3,onClose:a,position:o="top-right",showProgress:l=!0})=>{const[c,d]=j.useState(!1),[w,v]=j.useState(!1),[x,g]=j.useState(100),N={success:oa,error:aa,warning:ia,info:la,bingo:bo},R={success:{bg:"bg-green-500",text:"text-white",icon:"text-white",progress:"bg-green-300"},error:{bg:"bg-red-500",text:"text-white",icon:"text-white",progress:"bg-red-300"},warning:{bg:"bg-yellow-500",text:"text-white",icon:"text-white",progress:"bg-yellow-300"},info:{bg:"bg-blue-500",text:"text-white",icon:"text-white",progress:"bg-blue-300"},bingo:{bg:"bg-gradient-to-r from-yellow-400 to-orange-500",text:"text-white",icon:"text-white",progress:"bg-yellow-300"}},O={"top-right":"top-4 right-4","top-left":"top-4 left-4","bottom-right":"bottom-4 right-4","bottom-left":"bottom-4 left-4","top-center":"top-4 left-1/2 transform -translate-x-1/2"},E=()=>{const k="transition-all duration-300 ease-in-out transform";if(w)switch(o){case"top-right":case"bottom-right":return`${k} translate-x-full opacity-0 scale-95`;case"top-left":case"bottom-left":return`${k} -translate-x-full opacity-0 scale-95`;case"top-center":return`${k} -translate-y-full opacity-0 scale-95`;default:return`${k} translate-x-full opacity-0 scale-95`}if(c)return`${k} translate-x-0 translate-y-0 opacity-100 scale-100`;switch(o){case"top-right":case"bottom-right":return`${k} translate-x-full opacity-0 scale-95`;case"top-left":case"bottom-left":return`${k} -translate-x-full opacity-0 scale-95`;case"top-center":return`${k} -translate-y-full opacity-0 scale-95`;default:return`${k} translate-x-full opacity-0 scale-95`}},p=N[t],b=R[t];j.useEffect(()=>{if(setTimeout(()=>d(!0),10),n>0){const k=setInterval(()=>{g(P=>{const S=P-100/(n/100);return S<=0?0:S})},100),T=setTimeout(()=>{f()},n);return()=>{clearInterval(k),clearTimeout(T)}}},[n]);const f=()=>{v(!0),setTimeout(()=>{a==null||a(e)},300)};return i.jsx("div",{className:Te("fixed z-50 max-w-sm w-full pointer-events-auto",O[o],E()),children:i.jsxs("div",{className:Te("rounded-lg shadow-lg overflow-hidden",b.bg,t==="bingo"&&"animate-pulse"),children:[i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(p,{className:Te("h-5 w-5",b.icon)})}),i.jsxs("div",{className:"ml-3 w-0 flex-1",children:[r&&i.jsx("p",{className:Te("text-sm font-medium",b.text),children:r}),i.jsx("p",{className:Te("text-sm",b.text,r&&"mt-1"),children:s})]}),i.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:i.jsx("button",{onClick:f,className:Te("rounded-md inline-flex focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors",b.text,"hover:bg-black hover:bg-opacity-10 p-1"),children:i.jsx(ht,{className:"h-4 w-4"})})})]})}),l&&n>0&&i.jsx("div",{className:"h-1 bg-black bg-opacity-20",children:i.jsx("div",{className:Te("h-full transition-all duration-100 ease-linear",b.progress),style:{width:`${x}%`}})})]})})},ca=j.createContext(void 0),No=({children:e,maxToasts:t=5})=>{const[r,s]=j.useState([]),n=()=>`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,a=j.useCallback(d=>{const w=n(),v={...d,id:w,onClose:o};return s(x=>[...x.length>=t?x.slice(1):x,v]),w},[t]),o=j.useCallback(d=>{s(w=>w.filter(v=>v.id!==d))},[]),l=j.useCallback(()=>{s([])},[]),c={showToast:a,hideToast:o,hideAllToasts:l};return i.jsxs(ca.Provider,{value:c,children:[e,i.jsx("div",{className:"fixed inset-0 pointer-events-none z-50",children:r.map(d=>i.jsx(ko,{...d},d.id))})]})},rr=()=>{const e=j.useContext(ca);if(e===void 0)throw new Error("useToast must be used within a ToastProvider");const{showToast:t,hideToast:r,hideAllToasts:s}=e;return{toast:{success:(a,o)=>t({type:"success",message:a,...o}),error:(a,o)=>t({type:"error",message:a,...o}),warning:(a,o)=>t({type:"warning",message:a,...o}),info:(a,o)=>t({type:"info",message:a,...o}),bingo:(a,o)=>t({type:"bingo",message:a,duration:6e3,title:"🎉 ¡BINGO!",...o}),ballDrawn:(a,o)=>t({type:"info",message:`Bola sorteada: ${a}`,duration:2e3,title:"🎱 Nueva Bola",position:"top-center",...o}),playerJoined:(a,o)=>t({type:"success",message:`${a} jugadores conectados`,duration:3e3,title:"👥 Jugador conectado",...o}),connectionLost:a=>t({type:"warning",message:"Intentando reconectar...",duration:0,title:"⚠️ Conexión perdida",...a}),connectionRestored:a=>t({type:"success",message:"Conexión restablecida",duration:3e3,title:"✅ Conectado",...a}),custom:a=>t(a)},hideToast:r,hideAllToasts:s}},wt=()=>{const e=na(),{user:t,tokens:r,isAuthenticated:s,isLoading:n,error:a}=es(v=>v.auth),o=j.useCallback(async v=>await e(hr(v)),[e]),l=j.useCallback(async v=>await e(gr(v)),[e]),c=j.useCallback(async()=>await e(Kn()),[e]),d=j.useCallback(()=>{e(eo())},[e]),w=(t==null?void 0:t.role)==="ADMIN";return{user:t,tokens:r,isAuthenticated:s,isLoading:n,error:a,isAdmin:w,login:o,register:l,logout:c,clearError:d}},ys=({src:e="/videos/bingo-background.mp4",poster:t="/images/bingo-poster.jpg",className:r="",overlay:s=!0,fallbackGradient:n=!0,showAudioControl:a=!1})=>{const o=j.useRef(null),[l,c]=j.useState(!1),[d,w]=j.useState(!1),[v,x]=j.useState(!0),[g,N]=j.useState(!1),[R,O]=j.useState(!0),[E,p]=j.useState(!1);j.useEffect(()=>{const P=window.matchMedia("(prefers-reduced-motion: reduce)");N(P.matches);const S=()=>N(P.matches);return P.addEventListener("change",S),()=>P.removeEventListener("change",S)},[]),j.useEffect(()=>{const P=()=>{const S=!document.hidden;x(S),o.current&&l&&!d&&(S&&!g?o.current.play().catch(()=>{}):o.current.pause())};return document.addEventListener("visibilitychange",P),()=>document.removeEventListener("visibilitychange",P)},[l,d,g]);const b=()=>{c(!0),w(!1),a&&setTimeout(()=>p(!0),1e3)},f=()=>{w(!0),c(!1),p(!1)},k=()=>{if(o.current){const P=!R;o.current.muted=P,O(P),localStorage.setItem("bingo-video-muted",P.toString())}};j.useEffect(()=>{const P=localStorage.getItem("bingo-video-muted");if(P!==null){const S=P==="true";O(S),o.current&&(o.current.muted=S)}},[l]);const T=!g&&!d&&e;return i.jsxs("div",{className:`absolute inset-0 w-full h-full ${r}`,children:[T?i.jsx("video",{ref:o,autoPlay:!0,muted:R,loop:!0,playsInline:!0,poster:t,className:"absolute inset-0 w-full h-full object-cover",onLoadedData:b,onError:f,preload:"metadata",children:i.jsx("source",{src:e,type:"video/mp4"})}):n?i.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 animate-pulse",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-yellow-500/20 via-transparent to-blue-500/20 animate-pulse animation-delay-2000"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-bl from-transparent via-purple-500/10 to-pink-500/20 animate-pulse animation-delay-4000"})]}):null,s&&i.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 video-overlay"}),a&&E&&T&&i.jsx("button",{onClick:k,className:`
            absolute top-4 right-4 z-20 
            w-12 h-12 rounded-full 
            bg-white/20 backdrop-blur-md border border-white/30
            flex items-center justify-center
            text-white text-xl
            hover:bg-white/30 hover:scale-110
            transition-all duration-300 ease-out
            shadow-lg hover:shadow-xl
            focus:outline-none focus:ring-2 focus:ring-white/50
            ${E?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}
          `,"aria-label":R?"Activar audio":"Silenciar audio",title:R?"Activar audio":"Silenciar audio",children:R?i.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"})]}):i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})})})]})},Ws=()=>{const[e,t]=j.useState(""),[r,s]=j.useState(""),[n,a]=j.useState(!1),{login:o,isAuthenticated:l}=wt(),c=dt(),{toast:d}=rr();j.useEffect(()=>{l&&c("/dashboard")},[l,c]);const w=async v=>{v.preventDefault(),a(!0);try{await o({identifier:e,password:r}),c("/dashboard")}catch{d.error("Teléfono o contraseña incorrectos")}finally{a(!1)}};return i.jsxs("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center px-4",children:[i.jsx(ys,{src:"/videos/bingo-background.mp4",poster:"/images/bingo-poster.jpg",overlay:!0,fallbackGradient:!0,showAudioControl:!0}),i.jsx("div",{className:"relative z-10 w-full max-w-sm",children:i.jsxs("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 p-8 space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-8xl mb-4 animate-bounce",children:"🎱"}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"BINGO LA PERLA"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Bingo en vivo • Premios reales"})]}),i.jsxs("form",{onSubmit:w,className:"space-y-6",children:[i.jsx("div",{children:i.jsx("input",{type:"text",placeholder:"📱 Teléfono o Email",value:e,onChange:v=>t(v.target.value),className:"w-full px-4 py-4 text-lg bg-white/80 backdrop-blur border border-gray-300/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:bg-white transition-all duration-300 shadow-sm",required:!0})}),i.jsx("div",{children:i.jsx("input",{type:"password",placeholder:"🔒 Contraseña",value:r,onChange:v=>s(v.target.value),className:"w-full px-4 py-4 text-lg bg-white/80 backdrop-blur border border-gray-300/50 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:bg-white transition-all duration-300 shadow-sm",required:!0})}),i.jsx(Ae,{type:"submit",loading:n,className:"w-full py-4 text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",size:"lg",children:"ENTRAR"})]}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-gray-700",children:["¿No tienes cuenta?"," ",i.jsx(xr,{to:"/register",className:"font-bold text-blue-600 hover:text-purple-600 text-lg transition-colors duration-300",children:"REGISTRARSE"})]})})]})}),i.jsx("div",{className:"absolute top-10 left-10 text-4xl opacity-20 animate-bounce animation-delay-1000",children:"🎲"}),i.jsx("div",{className:"absolute top-20 right-16 text-3xl opacity-20 animate-bounce animation-delay-3000",children:"🎰"}),i.jsx("div",{className:"absolute bottom-20 left-20 text-5xl opacity-20 animate-bounce animation-delay-5000",children:"🎯"}),i.jsx("div",{className:"absolute bottom-32 right-12 text-4xl opacity-20 animate-bounce animation-delay-2000",children:"🏆"})]})};var sr=e=>e.type==="checkbox",gt=e=>e instanceof Date,Ie=e=>e==null;const da=e=>typeof e=="object";var be=e=>!Ie(e)&&!Array.isArray(e)&&da(e)&&!gt(e),_o=e=>be(e)&&e.target?sr(e.target)?e.target.checked:e.target.value:e,jo=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Co=(e,t)=>e.has(jo(t)),So=e=>{const t=e.constructor&&e.constructor.prototype;return be(t)&&t.hasOwnProperty("isPrototypeOf")},xs=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Se(e){let t;const r=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(xs&&(e instanceof Blob||s))&&(r||be(e)))if(t=r?[]:{},!r&&!So(e))t=e;else for(const n in e)e.hasOwnProperty(n)&&(t[n]=Se(e[n]));else return e;return t}var Lr=e=>/^\w*$/.test(e),Ne=e=>e===void 0,bs=e=>Array.isArray(e)?e.filter(Boolean):[],vs=e=>bs(e.replace(/["|']|\]/g,"").split(/\.|\[/)),W=(e,t,r)=>{if(!t||!be(e))return r;const s=(Lr(t)?[t]:vs(t)).reduce((n,a)=>Ie(n)?n:n[a],e);return Ne(s)||s===e?Ne(e[t])?r:e[t]:s},qe=e=>typeof e=="boolean",ge=(e,t,r)=>{let s=-1;const n=Lr(t)?[t]:vs(t),a=n.length,o=a-1;for(;++s<a;){const l=n[s];let c=r;if(s!==o){const d=e[l];c=be(d)||Array.isArray(d)?d:isNaN(+n[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ks={BLUR:"blur",FOCUS_OUT:"focusout"},Be={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ye={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ao=Ee.createContext(null);Ao.displayName="HookFormContext";var Eo=(e,t,r,s=!0)=>{const n={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(n,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Be.all&&(t._proxyFormState[o]=!s||Be.all),e[o]}});return n};const Io=typeof window<"u"?Ee.useLayoutEffect:Ee.useEffect;var He=e=>typeof e=="string",Ro=(e,t,r,s,n)=>He(e)?(s&&t.watch.add(e),W(r,e,n)):Array.isArray(e)?e.map(a=>(s&&t.watch.add(a),W(r,a))):(s&&(t.watchAll=!0),r),ts=e=>Ie(e)||!da(e);function at(e,t,r=new WeakSet){if(ts(e)||ts(t))return e===t;if(gt(e)&&gt(t))return e.getTime()===t.getTime();const s=Object.keys(e),n=Object.keys(t);if(s.length!==n.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of s){const o=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const l=t[a];if(gt(o)&&gt(l)||be(o)&&be(l)||Array.isArray(o)&&Array.isArray(l)?!at(o,l,r):o!==l)return!1}}return!0}var ua=(e,t,r,s,n)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:n||!0}}:{},Ht=e=>Array.isArray(e)?e:[e],Js=()=>{let e=[];return{get observers(){return e},next:n=>{for(const a of e)a.next&&a.next(n)},subscribe:n=>(e.push(n),{unsubscribe:()=>{e=e.filter(a=>a!==n)}}),unsubscribe:()=>{e=[]}}},Re=e=>be(e)&&!Object.keys(e).length,ws=e=>e.type==="file",Ge=e=>typeof e=="function",kr=e=>{if(!xs)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},fa=e=>e.type==="select-multiple",ks=e=>e.type==="radio",To=e=>ks(e)||sr(e),Qr=e=>kr(e)&&e.isConnected;function Oo(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=Ne(e)?s++:e[t[s++]];return e}function Po(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ne(e[t]))return!1;return!0}function we(e,t){const r=Array.isArray(t)?t:Lr(t)?[t]:vs(t),s=r.length===1?e:Oo(e,r),n=r.length-1,a=r[n];return s&&delete s[a],n!==0&&(be(s)&&Re(s)||Array.isArray(s)&&Po(s))&&we(e,r.slice(0,-1)),e}var ma=e=>{for(const t in e)if(Ge(e[t]))return!0;return!1};function Nr(e,t={}){const r=Array.isArray(e);if(be(e)||r)for(const s in e)Array.isArray(e[s])||be(e[s])&&!ma(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Nr(e[s],t[s])):Ie(e[s])||(t[s]=!0);return t}function ha(e,t,r){const s=Array.isArray(e);if(be(e)||s)for(const n in e)Array.isArray(e[n])||be(e[n])&&!ma(e[n])?Ne(t)||ts(r[n])?r[n]=Array.isArray(e[n])?Nr(e[n],[]):{...Nr(e[n])}:ha(e[n],Ie(t)?{}:t[n],r[n]):r[n]=!at(e[n],t[n]);return r}var Gt=(e,t)=>ha(e,t,Nr(t));const Ys={value:!1,isValid:!1},Xs={value:!0,isValid:!0};var ga=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ne(e[0].attributes.value)?Ne(e[0].value)||e[0].value===""?Xs:{value:e[0].value,isValid:!0}:Xs:Ys}return Ys},pa=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:s})=>Ne(e)?e:t?e===""?NaN:e&&+e:r&&He(e)?new Date(e):s?s(e):e;const en={isValid:!1,value:null};var ya=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,en):en;function tn(e){const t=e.ref;return ws(t)?t.files:ks(t)?ya(e.refs).value:fa(t)?[...t.selectedOptions].map(({value:r})=>r):sr(t)?ga(e.refs).value:pa(Ne(t.value)?e.ref.value:t.value,e)}var Lo=(e,t,r,s)=>{const n={};for(const a of e){const o=W(t,a);o&&ge(n,a,o._f)}return{criteriaMode:r,names:[...e],fields:n,shouldUseNativeValidation:s}},_r=e=>e instanceof RegExp,$t=e=>Ne(e)?e:_r(e)?e.source:be(e)?_r(e.value)?e.value.source:e.value:e,rn=e=>({isOnSubmit:!e||e===Be.onSubmit,isOnBlur:e===Be.onBlur,isOnChange:e===Be.onChange,isOnAll:e===Be.all,isOnTouch:e===Be.onTouched});const sn="AsyncFunction";var Do=e=>!!e&&!!e.validate&&!!(Ge(e.validate)&&e.validate.constructor.name===sn||be(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===sn)),Mo=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),nn=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Zt=(e,t,r,s)=>{for(const n of r||Object.keys(e)){const a=W(e,n);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],n)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(Zt(l,t))break}else if(be(l)&&Zt(l,t))break}}};function an(e,t,r){const s=W(e,r);if(s||Lr(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),o=W(t,a),l=W(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};n.pop()}return{name:r}}var Vo=(e,t,r,s)=>{r(e);const{name:n,...a}=e;return Re(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!s||Be.all))},Fo=(e,t,r)=>!e||!t||e===t||Ht(e).some(s=>s&&(r?s===t:s.startsWith(t)||t.startsWith(s))),Bo=(e,t,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(t||e):(r?s.isOnBlur:n.isOnBlur)?!e:(r?s.isOnChange:n.isOnChange)?e:!0,Go=(e,t)=>!bs(W(e,t)).length&&we(e,t),$o=(e,t,r)=>{const s=Ht(W(e,r));return ge(s,"root",t[r]),ge(e,r,s),e},pr=e=>He(e);function on(e,t,r="validate"){if(pr(e)||Array.isArray(e)&&e.every(pr)||qe(e)&&!e)return{type:r,message:pr(e)?e:"",ref:t}}var jt=e=>be(e)&&!_r(e)?e:{value:e,message:""},ln=async(e,t,r,s,n,a)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:w,min:v,max:x,pattern:g,validate:N,name:R,valueAsNumber:O,mount:E}=e._f,p=W(r,R);if(!E||t.has(R))return{};const b=l?l[0]:o,f=u=>{n&&b.reportValidity&&(b.setCustomValidity(qe(u)?"":u||""),b.reportValidity())},k={},T=ks(o),P=sr(o),S=T||P,A=(O||ws(o))&&Ne(o.value)&&Ne(p)||kr(o)&&o.value===""||p===""||Array.isArray(p)&&!p.length,C=ua.bind(null,R,s,k),_=(u,y,m,L=Ye.maxLength,M=Ye.minLength)=>{const F=u?y:m;k[R]={type:u?L:M,message:F,ref:o,...C(u?L:M,F)}};if(a?!Array.isArray(p)||!p.length:c&&(!S&&(A||Ie(p))||qe(p)&&!p||P&&!ga(l).isValid||T&&!ya(l).isValid)){const{value:u,message:y}=pr(c)?{value:!!c,message:c}:jt(c);if(u&&(k[R]={type:Ye.required,message:y,ref:b,...C(Ye.required,y)},!s))return f(y),k}if(!A&&(!Ie(v)||!Ie(x))){let u,y;const m=jt(x),L=jt(v);if(!Ie(p)&&!isNaN(p)){const M=o.valueAsNumber||p&&+p;Ie(m.value)||(u=M>m.value),Ie(L.value)||(y=M<L.value)}else{const M=o.valueAsDate||new Date(p),F=K=>new Date(new Date().toDateString()+" "+K),D=o.type=="time",G=o.type=="week";He(m.value)&&p&&(u=D?F(p)>F(m.value):G?p>m.value:M>new Date(m.value)),He(L.value)&&p&&(y=D?F(p)<F(L.value):G?p<L.value:M<new Date(L.value))}if((u||y)&&(_(!!u,m.message,L.message,Ye.max,Ye.min),!s))return f(k[R].message),k}if((d||w)&&!A&&(He(p)||a&&Array.isArray(p))){const u=jt(d),y=jt(w),m=!Ie(u.value)&&p.length>+u.value,L=!Ie(y.value)&&p.length<+y.value;if((m||L)&&(_(m,u.message,y.message),!s))return f(k[R].message),k}if(g&&!A&&He(p)){const{value:u,message:y}=jt(g);if(_r(u)&&!p.match(u)&&(k[R]={type:Ye.pattern,message:y,ref:o,...C(Ye.pattern,y)},!s))return f(y),k}if(N){if(Ge(N)){const u=await N(p,r),y=on(u,b);if(y&&(k[R]={...y,...C(Ye.validate,y.message)},!s))return f(y.message),k}else if(be(N)){let u={};for(const y in N){if(!Re(u)&&!s)break;const m=on(await N[y](p,r),b,y);m&&(u={...m,...C(y,m.message)},f(m.message),s&&(k[R]=u))}if(!Re(u)&&(k[R]={ref:b,...u},!s))return k}}return f(!0),k};const zo={mode:Be.onSubmit,reValidateMode:Be.onChange,shouldFocusError:!0};function Uo(e={}){let t={...zo,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ge(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},n=be(t.defaultValues)||be(t.values)?Se(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Se(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const w={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...w};const x={array:Js(),state:Js()},g=t.criteriaMode===Be.all,N=h=>I=>{clearTimeout(d),d=setTimeout(h,I)},R=async h=>{if(!t.disabled&&(w.isValid||v.isValid||h)){const I=t.resolver?Re((await P()).errors):await A(s,!0);I!==r.isValid&&x.state.next({isValid:I})}},O=(h,I)=>{!t.disabled&&(w.isValidating||w.validatingFields||v.isValidating||v.validatingFields)&&((h||Array.from(l.mount)).forEach(V=>{V&&(I?ge(r.validatingFields,V,I):we(r.validatingFields,V))}),x.state.next({validatingFields:r.validatingFields,isValidating:!Re(r.validatingFields)}))},E=(h,I=[],V,q,z=!0,$=!0)=>{if(q&&V&&!t.disabled){if(o.action=!0,$&&Array.isArray(W(s,h))){const ee=V(W(s,h),q.argA,q.argB);z&&ge(s,h,ee)}if($&&Array.isArray(W(r.errors,h))){const ee=V(W(r.errors,h),q.argA,q.argB);z&&ge(r.errors,h,ee),Go(r.errors,h)}if((w.touchedFields||v.touchedFields)&&$&&Array.isArray(W(r.touchedFields,h))){const ee=V(W(r.touchedFields,h),q.argA,q.argB);z&&ge(r.touchedFields,h,ee)}(w.dirtyFields||v.dirtyFields)&&(r.dirtyFields=Gt(n,a)),x.state.next({name:h,isDirty:_(h,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ge(a,h,I)},p=(h,I)=>{ge(r.errors,h,I),x.state.next({errors:r.errors})},b=h=>{r.errors=h,x.state.next({errors:r.errors,isValid:!1})},f=(h,I,V,q)=>{const z=W(s,h);if(z){const $=W(a,h,Ne(V)?W(n,h):V);Ne($)||q&&q.defaultChecked||I?ge(a,h,I?$:tn(z._f)):m(h,$),o.mount&&R()}},k=(h,I,V,q,z)=>{let $=!1,ee=!1;const he={name:h};if(!t.disabled){if(!V||q){(w.isDirty||v.isDirty)&&(ee=r.isDirty,r.isDirty=he.isDirty=_(),$=ee!==he.isDirty);const pe=at(W(n,h),I);ee=!!W(r.dirtyFields,h),pe?we(r.dirtyFields,h):ge(r.dirtyFields,h,!0),he.dirtyFields=r.dirtyFields,$=$||(w.dirtyFields||v.dirtyFields)&&ee!==!pe}if(V){const pe=W(r.touchedFields,h);pe||(ge(r.touchedFields,h,V),he.touchedFields=r.touchedFields,$=$||(w.touchedFields||v.touchedFields)&&pe!==V)}$&&z&&x.state.next(he)}return $?he:{}},T=(h,I,V,q)=>{const z=W(r.errors,h),$=(w.isValid||v.isValid)&&qe(I)&&r.isValid!==I;if(t.delayError&&V?(c=N(()=>p(h,V)),c(t.delayError)):(clearTimeout(d),c=null,V?ge(r.errors,h,V):we(r.errors,h)),(V?!at(z,V):z)||!Re(q)||$){const ee={...q,...$&&qe(I)?{isValid:I}:{},errors:r.errors,name:h};r={...r,...ee},x.state.next(ee)}},P=async h=>{O(h,!0);const I=await t.resolver(a,t.context,Lo(h||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return O(h),I},S=async h=>{const{errors:I}=await P(h);if(h)for(const V of h){const q=W(I,V);q?ge(r.errors,V,q):we(r.errors,V)}else r.errors=I;return I},A=async(h,I,V={valid:!0})=>{for(const q in h){const z=h[q];if(z){const{_f:$,...ee}=z;if($){const he=l.array.has($.name),pe=z._f&&Do(z._f);pe&&w.validatingFields&&O([q],!0);const Me=await ln(z,l.disabled,a,g,t.shouldUseNativeValidation&&!I,he);if(pe&&w.validatingFields&&O([q]),Me[$.name]&&(V.valid=!1,I))break;!I&&(W(Me,$.name)?he?$o(r.errors,Me,$.name):ge(r.errors,$.name,Me[$.name]):we(r.errors,$.name))}!Re(ee)&&await A(ee,I,V)}}return V.valid},C=()=>{for(const h of l.unMount){const I=W(s,h);I&&(I._f.refs?I._f.refs.every(V=>!Qr(V)):!Qr(I._f.ref))&&X(h)}l.unMount=new Set},_=(h,I)=>!t.disabled&&(h&&I&&ge(a,h,I),!at(K(),n)),u=(h,I,V)=>Ro(h,l,{...o.mount?a:Ne(I)?n:He(h)?{[h]:I}:I},V,I),y=h=>bs(W(o.mount?a:n,h,t.shouldUnregister?W(n,h,[]):[])),m=(h,I,V={})=>{const q=W(s,h);let z=I;if(q){const $=q._f;$&&(!$.disabled&&ge(a,h,pa(I,$)),z=kr($.ref)&&Ie(I)?"":I,fa($.ref)?[...$.ref.options].forEach(ee=>ee.selected=z.includes(ee.value)):$.refs?sr($.ref)?$.refs.forEach(ee=>{(!ee.defaultChecked||!ee.disabled)&&(Array.isArray(z)?ee.checked=!!z.find(he=>he===ee.value):ee.checked=z===ee.value||!!z)}):$.refs.forEach(ee=>ee.checked=ee.value===z):ws($.ref)?$.ref.value="":($.ref.value=z,$.ref.type||x.state.next({name:h,values:Se(a)})))}(V.shouldDirty||V.shouldTouch)&&k(h,z,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&G(h)},L=(h,I,V)=>{for(const q in I){if(!I.hasOwnProperty(q))return;const z=I[q],$=h+"."+q,ee=W(s,$);(l.array.has(h)||be(z)||ee&&!ee._f)&&!gt(z)?L($,z,V):m($,z,V)}},M=(h,I,V={})=>{const q=W(s,h),z=l.array.has(h),$=Se(I);ge(a,h,$),z?(x.array.next({name:h,values:Se(a)}),(w.isDirty||w.dirtyFields||v.isDirty||v.dirtyFields)&&V.shouldDirty&&x.state.next({name:h,dirtyFields:Gt(n,a),isDirty:_(h,$)})):q&&!q._f&&!Ie($)?L(h,$,V):m(h,$,V),nn(h,l)&&x.state.next({...r,name:h}),x.state.next({name:o.mount?h:void 0,values:Se(a)})},F=async h=>{o.mount=!0;const I=h.target;let V=I.name,q=!0;const z=W(s,V),$=pe=>{q=Number.isNaN(pe)||gt(pe)&&isNaN(pe.getTime())||at(pe,W(a,V,pe))},ee=rn(t.mode),he=rn(t.reValidateMode);if(z){let pe,Me;const nr=I.type?tn(z._f):_o(h),rt=h.type===Ks.BLUR||h.type===Ks.FOCUS_OUT,Ma=!Mo(z._f)&&!t.resolver&&!W(r.errors,V)&&!z._f.deps||Bo(rt,W(r.touchedFields,V),r.isSubmitted,he,ee),Dr=nn(V,l,rt);ge(a,V,nr),rt?(z._f.onBlur&&z._f.onBlur(h),c&&c(0)):z._f.onChange&&z._f.onChange(h);const Mr=k(V,nr,rt),Va=!Re(Mr)||Dr;if(!rt&&x.state.next({name:V,type:h.type,values:Se(a)}),Ma)return(w.isValid||v.isValid)&&(t.mode==="onBlur"?rt&&R():rt||R()),Va&&x.state.next({name:V,...Dr?{}:Mr});if(!rt&&Dr&&x.state.next({...r}),t.resolver){const{errors:js}=await P([V]);if($(nr),q){const Fa=an(r.errors,s,V),Cs=an(js,s,Fa.name||V);pe=Cs.error,V=Cs.name,Me=Re(js)}}else O([V],!0),pe=(await ln(z,l.disabled,a,g,t.shouldUseNativeValidation))[V],O([V]),$(nr),q&&(pe?Me=!1:(w.isValid||v.isValid)&&(Me=await A(s,!0)));q&&(z._f.deps&&G(z._f.deps),T(V,Me,pe,Mr))}},D=(h,I)=>{if(W(r.errors,I)&&h.focus)return h.focus(),1},G=async(h,I={})=>{let V,q;const z=Ht(h);if(t.resolver){const $=await S(Ne(h)?h:z);V=Re($),q=h?!z.some(ee=>W($,ee)):V}else h?(q=(await Promise.all(z.map(async $=>{const ee=W(s,$);return await A(ee&&ee._f?{[$]:ee}:ee)}))).every(Boolean),!(!q&&!r.isValid)&&R()):q=V=await A(s);return x.state.next({...!He(h)||(w.isValid||v.isValid)&&V!==r.isValid?{}:{name:h},...t.resolver||!h?{isValid:V}:{},errors:r.errors}),I.shouldFocus&&!q&&Zt(s,D,h?z:l.mount),q},K=h=>{const I={...o.mount?a:n};return Ne(h)?I:He(h)?W(I,h):h.map(V=>W(I,V))},te=(h,I)=>({invalid:!!W((I||r).errors,h),isDirty:!!W((I||r).dirtyFields,h),error:W((I||r).errors,h),isValidating:!!W(r.validatingFields,h),isTouched:!!W((I||r).touchedFields,h)}),le=h=>{h&&Ht(h).forEach(I=>we(r.errors,I)),x.state.next({errors:h?r.errors:{}})},ae=(h,I,V)=>{const q=(W(s,h,{_f:{}})._f||{}).ref,z=W(r.errors,h)||{},{ref:$,message:ee,type:he,...pe}=z;ge(r.errors,h,{...pe,...I,ref:q}),x.state.next({name:h,errors:r.errors,isValid:!1}),V&&V.shouldFocus&&q&&q.focus&&q.focus()},re=(h,I)=>Ge(h)?x.state.subscribe({next:V=>"values"in V&&h(u(void 0,I),V)}):u(h,I,!0),Q=h=>x.state.subscribe({next:I=>{Fo(h.name,I.name,h.exact)&&Vo(I,h.formState||w,Ue,h.reRenderRoot)&&h.callback({values:{...a},...r,...I,defaultValues:n})}}).unsubscribe,me=h=>(o.mount=!0,v={...v,...h.formState},Q({...h,formState:v})),X=(h,I={})=>{for(const V of h?Ht(h):l.mount)l.mount.delete(V),l.array.delete(V),I.keepValue||(we(s,V),we(a,V)),!I.keepError&&we(r.errors,V),!I.keepDirty&&we(r.dirtyFields,V),!I.keepTouched&&we(r.touchedFields,V),!I.keepIsValidating&&we(r.validatingFields,V),!t.shouldUnregister&&!I.keepDefaultValue&&we(n,V);x.state.next({values:Se(a)}),x.state.next({...r,...I.keepDirty?{isDirty:_()}:{}}),!I.keepIsValid&&R()},ve=({disabled:h,name:I})=>{(qe(h)&&o.mount||h||l.disabled.has(I))&&(h?l.disabled.add(I):l.disabled.delete(I))},Ce=(h,I={})=>{let V=W(s,h);const q=qe(I.disabled)||qe(t.disabled);return ge(s,h,{...V||{},_f:{...V&&V._f?V._f:{ref:{name:h}},name:h,mount:!0,...I}}),l.mount.add(h),V?ve({disabled:qe(I.disabled)?I.disabled:t.disabled,name:h}):f(h,!0,I.value),{...q?{disabled:I.disabled||t.disabled}:{},...t.progressive?{required:!!I.required,min:$t(I.min),max:$t(I.max),minLength:$t(I.minLength),maxLength:$t(I.maxLength),pattern:$t(I.pattern)}:{},name:h,onChange:F,onBlur:F,ref:z=>{if(z){Ce(h,I),V=W(s,h);const $=Ne(z.value)&&z.querySelectorAll&&z.querySelectorAll("input,select,textarea")[0]||z,ee=To($),he=V._f.refs||[];if(ee?he.find(pe=>pe===$):$===V._f.ref)return;ge(s,h,{_f:{...V._f,...ee?{refs:[...he.filter(Qr),$,...Array.isArray(W(n,h))?[{}]:[]],ref:{type:$.type,name:h}}:{ref:$}}}),f(h,!1,void 0,$)}else V=W(s,h,{}),V._f&&(V._f.mount=!1),(t.shouldUnregister||I.shouldUnregister)&&!(Co(l.array,h)&&o.action)&&l.unMount.add(h)}}},de=()=>t.shouldFocusError&&Zt(s,D,l.mount),ue=h=>{qe(h)&&(x.state.next({disabled:h}),Zt(s,(I,V)=>{const q=W(s,V);q&&(I.disabled=q._f.disabled||h,Array.isArray(q._f.refs)&&q._f.refs.forEach(z=>{z.disabled=q._f.disabled||h}))},0,!1))},xe=(h,I)=>async V=>{let q;V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let z=Se(a);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:$,values:ee}=await P();r.errors=$,z=Se(ee)}else await A(s);if(l.disabled.size)for(const $ of l.disabled)we(z,$);if(we(r.errors,"root"),Re(r.errors)){x.state.next({errors:{}});try{await h(z,V)}catch($){q=$}}else I&&await I({...r.errors},V),de(),setTimeout(de);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Re(r.errors)&&!q,submitCount:r.submitCount+1,errors:r.errors}),q)throw q},tt=(h,I={})=>{W(s,h)&&(Ne(I.defaultValue)?M(h,Se(W(n,h))):(M(h,I.defaultValue),ge(n,h,Se(I.defaultValue))),I.keepTouched||we(r.touchedFields,h),I.keepDirty||(we(r.dirtyFields,h),r.isDirty=I.defaultValue?_(h,Se(W(n,h))):_()),I.keepError||(we(r.errors,h),w.isValid&&R()),x.state.next({...r}))},Oe=(h,I={})=>{const V=h?Se(h):n,q=Se(V),z=Re(h),$=z?n:q;if(I.keepDefaultValues||(n=V),!I.keepValues){if(I.keepDirtyValues){const ee=new Set([...l.mount,...Object.keys(Gt(n,a))]);for(const he of Array.from(ee))W(r.dirtyFields,he)?ge($,he,W(a,he)):M(he,W($,he))}else{if(xs&&Ne(h))for(const ee of l.mount){const he=W(s,ee);if(he&&he._f){const pe=Array.isArray(he._f.refs)?he._f.refs[0]:he._f.ref;if(kr(pe)){const Me=pe.closest("form");if(Me){Me.reset();break}}}}if(I.keepFieldsRef)for(const ee of l.mount)M(ee,W($,ee));else s={}}a=t.shouldUnregister?I.keepDefaultValues?Se(n):{}:Se($),x.array.next({values:{...$}}),x.state.next({values:{...$}})}l={mount:I.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!w.isValid||!!I.keepIsValid||!!I.keepDirtyValues,o.watch=!!t.shouldUnregister,x.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:z?!1:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!at(h,n)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:z?{}:I.keepDirtyValues?I.keepDefaultValues&&a?Gt(n,a):r.dirtyFields:I.keepDefaultValues&&h?Gt(n,h):I.keepDirty?r.dirtyFields:{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},We=(h,I)=>Oe(Ge(h)?h(a):h,I),De=(h,I={})=>{const V=W(s,h),q=V&&V._f;if(q){const z=q.refs?q.refs[0]:q.ref;z.focus&&(z.focus(),I.shouldSelect&&Ge(z.select)&&z.select())}},Ue=h=>{r={...r,...h}},Nt={control:{register:Ce,unregister:X,getFieldState:te,handleSubmit:xe,setError:ae,_subscribe:Q,_runSchema:P,_focusError:de,_getWatch:u,_getDirty:_,_setValid:R,_setFieldArray:E,_setDisabledField:ve,_setErrors:b,_getFieldArray:y,_reset:Oe,_resetDefaultValues:()=>Ge(t.defaultValues)&&t.defaultValues().then(h=>{We(h,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:C,_disableForm:ue,_subjects:x,_proxyFormState:w,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(h){o=h},get _defaultValues(){return n},get _names(){return l},set _names(h){l=h},get _formState(){return r},get _options(){return t},set _options(h){t={...t,...h}}},subscribe:me,trigger:G,register:Ce,handleSubmit:xe,watch:re,setValue:M,getValues:K,reset:We,resetField:tt,clearErrors:le,unregister:X,setError:ae,setFocus:De,getFieldState:te};return{...Nt,formControl:Nt}}function qo(e={}){const t=Ee.useRef(void 0),r=Ee.useRef(void 0),[s,n]=Ee.useState({isDirty:!1,isValidating:!1,isLoading:Ge(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ge(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Ge(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Uo(e);t.current={...l,formState:s}}const a=t.current.control;return a._options=e,Io(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>n({...a._formState}),reRenderRoot:!0});return n(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),Ee.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Ee.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),Ee.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),Ee.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),Ee.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),Ee.useEffect(()=>{e.values&&!at(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),r.current=e.values,n(o=>({...o}))):a._resetDefaultValues()},[a,e.values]),Ee.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=Eo(s,a),t.current}const cn=(e,t,r)=>{if(e&&"reportValidity"in e){const s=W(r,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},xa=(e,t)=>{for(const r in t.fields){const s=t.fields[r];s&&s.ref&&"reportValidity"in s.ref?cn(s.ref,r,e):s.refs&&s.refs.forEach(n=>cn(n,r,e))}},Qo=(e,t)=>{t.shouldUseNativeValidation&&xa(e,t);const r={};for(const s in e){const n=W(t.fields,s),a=Object.assign(e[s]||{},{ref:n&&n.ref});if(Ho(t.names||Object.keys(e),s)){const o=Object.assign({},W(r,s));ge(o,"root",a),ge(r,s,o)}else ge(r,s,a)}return r},Ho=(e,t)=>e.some(r=>r.startsWith(t+"."));var Zo=function(e,t){for(var r={};e.length;){var s=e[0],n=s.code,a=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(w){return w.errors.forEach(function(v){return e.push(v)})}),t){var c=r[o].types,d=c&&c[s.code];r[o]=ua(o,t,r,n,d?[].concat(d,s.message):s.message)}e.shift()}return r},Wo=function(e,t,r){return r===void 0&&(r={}),function(s,n,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return a.shouldUseNativeValidation&&xa({},a),{errors:{},values:r.raw?s:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Qo(Zo(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},fe;(function(e){e.assertEqual=n=>{};function t(n){}e.assertIs=t;function r(n){throw new Error}e.assertNever=r,e.arrayToEnum=n=>{const a={};for(const o of n)a[o]=o;return a},e.getValidEnumValues=n=>{const a=e.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of a)o[l]=n[l];return e.objectValues(o)},e.objectValues=n=>e.objectKeys(n).map(function(a){return n[a]}),e.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&a.push(o);return a},e.find=(n,a)=>{for(const o of n)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&Number.isFinite(n)&&Math.floor(n)===n;function s(n,a=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=s,e.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(fe||(fe={}));var dn;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(dn||(dn={}));const J=fe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),nt=e=>{switch(typeof e){case"undefined":return J.undefined;case"string":return J.string;case"number":return Number.isNaN(e)?J.nan:J.number;case"boolean":return J.boolean;case"function":return J.function;case"bigint":return J.bigint;case"symbol":return J.symbol;case"object":return Array.isArray(e)?J.array:e===null?J.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?J.promise:typeof Map<"u"&&e instanceof Map?J.map:typeof Set<"u"&&e instanceof Set?J.set:typeof Date<"u"&&e instanceof Date?J.date:J.object;default:return J.unknown}},B=fe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class et extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},s={_errors:[]},n=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(r(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return n(this),s}static assert(t){if(!(t instanceof et))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,fe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},s=[];for(const n of this.issues)if(n.path.length>0){const a=n.path[0];r[a]=r[a]||[],r[a].push(t(n))}else s.push(t(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}et.create=e=>new et(e);const rs=(e,t)=>{let r;switch(e.code){case B.invalid_type:e.received===J.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case B.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,fe.jsonStringifyReplacer)}`;break;case B.unrecognized_keys:r=`Unrecognized key(s) in object: ${fe.joinValues(e.keys,", ")}`;break;case B.invalid_union:r="Invalid input";break;case B.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${fe.joinValues(e.options)}`;break;case B.invalid_enum_value:r=`Invalid enum value. Expected ${fe.joinValues(e.options)}, received '${e.received}'`;break;case B.invalid_arguments:r="Invalid function arguments";break;case B.invalid_return_type:r="Invalid function return type";break;case B.invalid_date:r="Invalid date";break;case B.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:fe.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case B.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case B.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case B.custom:r="Invalid input";break;case B.invalid_intersection_types:r="Intersection results could not be merged";break;case B.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case B.not_finite:r="Number must be finite";break;default:r=t.defaultError,fe.assertNever(e)}return{message:r}};let Ko=rs;function Jo(){return Ko}const Yo=e=>{const{data:t,path:r,errorMaps:s,issueData:n}=e,a=[...r,...n.path||[]],o={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let l="";const c=s.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:t,defaultError:l}).message;return{...n,path:a,message:l}};function U(e,t){const r=Jo(),s=Yo({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===rs?void 0:rs].filter(n=>!!n)});e.common.issues.push(s)}class Le{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const s=[];for(const n of r){if(n.status==="aborted")return se;n.status==="dirty"&&t.dirty(),s.push(n.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,r){const s=[];for(const n of r){const a=await n.key,o=await n.value;s.push({key:a,value:o})}return Le.mergeObjectSync(t,s)}static mergeObjectSync(t,r){const s={};for(const n of r){const{key:a,value:o}=n;if(a.status==="aborted"||o.status==="aborted")return se;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(s[a.value]=o.value)}return{status:t.value,value:s}}}const se=Object.freeze({status:"aborted"}),qt=e=>({status:"dirty",value:e}),Ve=e=>({status:"valid",value:e}),un=e=>e.status==="aborted",fn=e=>e.status==="dirty",Rt=e=>e.status==="valid",jr=e=>typeof Promise<"u"&&e instanceof Promise;var Y;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Y||(Y={}));class lt{constructor(t,r,s,n){this._cachedPath=[],this.parent=t,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mn=(e,t)=>{if(Rt(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new et(e.common.issues);return this._error=r,this._error}}};function oe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:s,description:n}=e;if(t&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:n}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??s??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:n}}class ce{get description(){return this._def.description}_getType(t){return nt(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:nt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Le,ctx:{common:t.parent.common,data:t.data,parsedType:nt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(jr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const s=this.safeParse(t,r);if(s.success)return s.data;throw s.error}safeParse(t,r){const s={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nt(t)},n=this._parseSync({data:t,path:s.path,parent:s});return mn(s,n)}"~validate"(t){var s,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nt(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return Rt(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(n=(s=a==null?void 0:a.message)==null?void 0:s.toLowerCase())!=null&&n.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>Rt(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const s=await this.safeParseAsync(t,r);if(s.success)return s.data;throw s.error}async safeParseAsync(t,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nt(t)},n=this._parse({data:t,path:s.path,parent:s}),a=await(jr(n)?n:Promise.resolve(n));return mn(s,a)}refine(t,r){const s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,a)=>{const o=t(n),l=()=>a.addIssue({code:B.custom,...s(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((s,n)=>t(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(t){return new Ot({schema:this,typeName:ne.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ot.create(this,this._def)}nullable(){return Pt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ze.create(this)}promise(){return Er.create(this,this._def)}or(t){return Sr.create([this,t],this._def)}and(t){return Ar.create(this,t,this._def)}transform(t){return new Ot({...oe(this._def),schema:this,typeName:ne.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new ns({...oe(this._def),innerType:this,defaultValue:r,typeName:ne.ZodDefault})}brand(){return new wl({typeName:ne.ZodBranded,type:this,...oe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new as({...oe(this._def),innerType:this,catchValue:r,typeName:ne.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Ns.create(this,t)}readonly(){return is.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Xo=/^c[^\s-]{8,}$/i,el=/^[0-9a-z]+$/,tl=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rl=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sl=/^[a-z0-9_-]{21}$/i,nl=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,al=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,il=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ol="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Hr;const ll=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cl=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dl=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ul=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fl=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ml=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ba="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",hl=new RegExp(`^${ba}$`);function va(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function gl(e){return new RegExp(`^${va(e)}$`)}function pl(e){let t=`${ba}T${va(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function yl(e,t){return!!((t==="v4"||!t)&&ll.test(e)||(t==="v6"||!t)&&dl.test(e))}function xl(e,t){if(!nl.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||"typ"in n&&(n==null?void 0:n.typ)!=="JWT"||!n.alg||t&&n.alg!==t)}catch{return!1}}function bl(e,t){return!!((t==="v4"||!t)&&cl.test(e)||(t==="v6"||!t)&&ul.test(e))}class it extends ce{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==J.string){const a=this._getOrReturnCtx(t);return U(a,{code:B.invalid_type,expected:J.string,received:a.parsedType}),se}const s=new Le;let n;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(n=this._getOrReturnCtx(t,n),U(n,{code:B.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")t.data.length>a.value&&(n=this._getOrReturnCtx(t,n),U(n,{code:B.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(n=this._getOrReturnCtx(t,n),o?U(n,{code:B.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&U(n,{code:B.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")il.test(t.data)||(n=this._getOrReturnCtx(t,n),U(n,{validation:"email",code:B.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")Hr||(Hr=new RegExp(ol,"u")),Hr.test(t.data)||(n=this._getOrReturnCtx(t,n),U(n,{validation:"emoji",code:B.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")rl.test(t.data)||(n=this._getOrReturnCtx(t,n),U(n,{validation:"uuid",code:B.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")sl.test(t.data)||(n=this._getOrReturnCtx(t,n),U(n,{validation:"nanoid",code:B.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")Xo.test(t.data)||(n=this._getOrReturnCtx(t,n),U(n,{validation:"cuid",code:B.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")el.test(t.data)||(n=this._getOrReturnCtx(t,n),U(n,{validation:"cuid2",code:B.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")tl.test(t.data)||(n=this._getOrReturnCtx(t,n),U(n,{validation:"ulid",code:B.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),U(n,{validation:"url",code:B.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),U(n,{validation:"regex",code:B.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(t,n),U(n,{code:B.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(n=this._getOrReturnCtx(t,n),U(n,{code:B.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(n=this._getOrReturnCtx(t,n),U(n,{code:B.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?pl(a).test(t.data)||(n=this._getOrReturnCtx(t,n),U(n,{code:B.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?hl.test(t.data)||(n=this._getOrReturnCtx(t,n),U(n,{code:B.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?gl(a).test(t.data)||(n=this._getOrReturnCtx(t,n),U(n,{code:B.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?al.test(t.data)||(n=this._getOrReturnCtx(t,n),U(n,{validation:"duration",code:B.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?yl(t.data,a.version)||(n=this._getOrReturnCtx(t,n),U(n,{validation:"ip",code:B.invalid_string,message:a.message}),s.dirty()):a.kind==="jwt"?xl(t.data,a.alg)||(n=this._getOrReturnCtx(t,n),U(n,{validation:"jwt",code:B.invalid_string,message:a.message}),s.dirty()):a.kind==="cidr"?bl(t.data,a.version)||(n=this._getOrReturnCtx(t,n),U(n,{validation:"cidr",code:B.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?fl.test(t.data)||(n=this._getOrReturnCtx(t,n),U(n,{validation:"base64",code:B.invalid_string,message:a.message}),s.dirty()):a.kind==="base64url"?ml.test(t.data)||(n=this._getOrReturnCtx(t,n),U(n,{validation:"base64url",code:B.invalid_string,message:a.message}),s.dirty()):fe.assertNever(a);return{status:s.value,value:t.data}}_regex(t,r,s){return this.refinement(n=>t.test(n),{validation:r,code:B.invalid_string,...Y.errToObj(s)})}_addCheck(t){return new it({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Y.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Y.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Y.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Y.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Y.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Y.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Y.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Y.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Y.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Y.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Y.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Y.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Y.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Y.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Y.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Y.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Y.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Y.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Y.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Y.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Y.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Y.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Y.errToObj(r)})}nonempty(t){return this.min(1,Y.errToObj(t))}trim(){return new it({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new it({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new it({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}it.create=e=>new it({checks:[],typeName:ne.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...oe(e)});function vl(e,t){const r=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,n=r>s?r:s,a=Number.parseInt(e.toFixed(n).replace(".","")),o=Number.parseInt(t.toFixed(n).replace(".",""));return a%o/10**n}class Yt extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==J.number){const a=this._getOrReturnCtx(t);return U(a,{code:B.invalid_type,expected:J.number,received:a.parsedType}),se}let s;const n=new Le;for(const a of this._def.checks)a.kind==="int"?fe.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{code:B.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(s=this._getOrReturnCtx(t,s),U(s,{code:B.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(s=this._getOrReturnCtx(t,s),U(s,{code:B.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?vl(t.data,a.value)!==0&&(s=this._getOrReturnCtx(t,s),U(s,{code:B.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{code:B.not_finite,message:a.message}),n.dirty()):fe.assertNever(a);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Y.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Y.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Y.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Y.toString(r))}setLimit(t,r,s,n){return new Yt({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Y.toString(n)}]})}_addCheck(t){return new Yt({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Y.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Y.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Y.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Y.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Y.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Y.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Y.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Y.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Y.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&fe.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Yt.create=e=>new Yt({checks:[],typeName:ne.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...oe(e)});class Xt extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==J.bigint)return this._getInvalidInput(t);let s;const n=new Le;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(s=this._getOrReturnCtx(t,s),U(s,{code:B.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(s=this._getOrReturnCtx(t,s),U(s,{code:B.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),U(s,{code:B.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):fe.assertNever(a);return{status:n.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return U(r,{code:B.invalid_type,expected:J.bigint,received:r.parsedType}),se}gte(t,r){return this.setLimit("min",t,!0,Y.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Y.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Y.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Y.toString(r))}setLimit(t,r,s,n){return new Xt({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:s,message:Y.toString(n)}]})}_addCheck(t){return new Xt({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Y.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Y.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Y.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Y.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Y.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Xt.create=e=>new Xt({checks:[],typeName:ne.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...oe(e)});class hn extends ce{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==J.boolean){const s=this._getOrReturnCtx(t);return U(s,{code:B.invalid_type,expected:J.boolean,received:s.parsedType}),se}return Ve(t.data)}}hn.create=e=>new hn({typeName:ne.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...oe(e)});class Cr extends ce{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==J.date){const a=this._getOrReturnCtx(t);return U(a,{code:B.invalid_type,expected:J.date,received:a.parsedType}),se}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return U(a,{code:B.invalid_date}),se}const s=new Le;let n;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(n=this._getOrReturnCtx(t,n),U(n,{code:B.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(n=this._getOrReturnCtx(t,n),U(n,{code:B.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):fe.assertNever(a);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Cr({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Y.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Y.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Cr.create=e=>new Cr({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ne.ZodDate,...oe(e)});class gn extends ce{_parse(t){if(this._getType(t)!==J.symbol){const s=this._getOrReturnCtx(t);return U(s,{code:B.invalid_type,expected:J.symbol,received:s.parsedType}),se}return Ve(t.data)}}gn.create=e=>new gn({typeName:ne.ZodSymbol,...oe(e)});class pn extends ce{_parse(t){if(this._getType(t)!==J.undefined){const s=this._getOrReturnCtx(t);return U(s,{code:B.invalid_type,expected:J.undefined,received:s.parsedType}),se}return Ve(t.data)}}pn.create=e=>new pn({typeName:ne.ZodUndefined,...oe(e)});class yn extends ce{_parse(t){if(this._getType(t)!==J.null){const s=this._getOrReturnCtx(t);return U(s,{code:B.invalid_type,expected:J.null,received:s.parsedType}),se}return Ve(t.data)}}yn.create=e=>new yn({typeName:ne.ZodNull,...oe(e)});class xn extends ce{constructor(){super(...arguments),this._any=!0}_parse(t){return Ve(t.data)}}xn.create=e=>new xn({typeName:ne.ZodAny,...oe(e)});class bn extends ce{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ve(t.data)}}bn.create=e=>new bn({typeName:ne.ZodUnknown,...oe(e)});class ct extends ce{_parse(t){const r=this._getOrReturnCtx(t);return U(r,{code:B.invalid_type,expected:J.never,received:r.parsedType}),se}}ct.create=e=>new ct({typeName:ne.ZodNever,...oe(e)});class vn extends ce{_parse(t){if(this._getType(t)!==J.undefined){const s=this._getOrReturnCtx(t);return U(s,{code:B.invalid_type,expected:J.void,received:s.parsedType}),se}return Ve(t.data)}}vn.create=e=>new vn({typeName:ne.ZodVoid,...oe(e)});class Ze extends ce{_parse(t){const{ctx:r,status:s}=this._processInputParams(t),n=this._def;if(r.parsedType!==J.array)return U(r,{code:B.invalid_type,expected:J.array,received:r.parsedType}),se;if(n.exactLength!==null){const o=r.data.length>n.exactLength.value,l=r.data.length<n.exactLength.value;(o||l)&&(U(r,{code:o?B.too_big:B.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(U(r,{code:B.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(U(r,{code:B.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>n.type._parseAsync(new lt(r,o,r.path,l)))).then(o=>Le.mergeArray(s,o));const a=[...r.data].map((o,l)=>n.type._parseSync(new lt(r,o,r.path,l)));return Le.mergeArray(s,a)}get element(){return this._def.type}min(t,r){return new Ze({...this._def,minLength:{value:t,message:Y.toString(r)}})}max(t,r){return new Ze({...this._def,maxLength:{value:t,message:Y.toString(r)}})}length(t,r){return new Ze({...this._def,exactLength:{value:t,message:Y.toString(r)}})}nonempty(t){return this.min(1,t)}}Ze.create=(e,t)=>new Ze({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ne.ZodArray,...oe(t)});function St(e){if(e instanceof ke){const t={};for(const r in e.shape){const s=e.shape[r];t[r]=ot.create(St(s))}return new ke({...e._def,shape:()=>t})}else return e instanceof Ze?new Ze({...e._def,type:St(e.element)}):e instanceof ot?ot.create(St(e.unwrap())):e instanceof Pt?Pt.create(St(e.unwrap())):e instanceof vt?vt.create(e.items.map(t=>St(t))):e}class ke extends ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=fe.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==J.object){const d=this._getOrReturnCtx(t);return U(d,{code:B.invalid_type,expected:J.object,received:d.parsedType}),se}const{status:s,ctx:n}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ct&&this._def.unknownKeys==="strip"))for(const d in n.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const w=a[d],v=n.data[d];c.push({key:{status:"valid",value:d},value:w._parse(new lt(n,v,n.path,d)),alwaysSet:d in n.data})}if(this._def.catchall instanceof ct){const d=this._def.unknownKeys;if(d==="passthrough")for(const w of l)c.push({key:{status:"valid",value:w},value:{status:"valid",value:n.data[w]}});else if(d==="strict")l.length>0&&(U(n,{code:B.unrecognized_keys,keys:l}),s.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const w of l){const v=n.data[w];c.push({key:{status:"valid",value:w},value:d._parse(new lt(n,v,n.path,w)),alwaysSet:w in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const d=[];for(const w of c){const v=await w.key,x=await w.value;d.push({key:v,value:x,alwaysSet:w.alwaysSet})}return d}).then(d=>Le.mergeObjectSync(s,d)):Le.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(t){return Y.errToObj,new ke({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,s)=>{var a,o;const n=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,s).message)??s.defaultError;return r.code==="unrecognized_keys"?{message:Y.errToObj(t).message??n}:{message:n}}}:{}})}strip(){return new ke({...this._def,unknownKeys:"strip"})}passthrough(){return new ke({...this._def,unknownKeys:"passthrough"})}extend(t){return new ke({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ke({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ne.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ke({...this._def,catchall:t})}pick(t){const r={};for(const s of fe.objectKeys(t))t[s]&&this.shape[s]&&(r[s]=this.shape[s]);return new ke({...this._def,shape:()=>r})}omit(t){const r={};for(const s of fe.objectKeys(this.shape))t[s]||(r[s]=this.shape[s]);return new ke({...this._def,shape:()=>r})}deepPartial(){return St(this)}partial(t){const r={};for(const s of fe.objectKeys(this.shape)){const n=this.shape[s];t&&!t[s]?r[s]=n:r[s]=n.optional()}return new ke({...this._def,shape:()=>r})}required(t){const r={};for(const s of fe.objectKeys(this.shape))if(t&&!t[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof ot;)a=a._def.innerType;r[s]=a}return new ke({...this._def,shape:()=>r})}keyof(){return wa(fe.objectKeys(this.shape))}}ke.create=(e,t)=>new ke({shape:()=>e,unknownKeys:"strip",catchall:ct.create(),typeName:ne.ZodObject,...oe(t)});ke.strictCreate=(e,t)=>new ke({shape:()=>e,unknownKeys:"strict",catchall:ct.create(),typeName:ne.ZodObject,...oe(t)});ke.lazycreate=(e,t)=>new ke({shape:e,unknownKeys:"strip",catchall:ct.create(),typeName:ne.ZodObject,...oe(t)});class Sr extends ce{_parse(t){const{ctx:r}=this._processInputParams(t),s=this._def.options;function n(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new et(l.ctx.common.issues));return U(r,{code:B.invalid_union,unionErrors:o}),se}if(r.common.async)return Promise.all(s.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let a;const o=[];for(const c of s){const d={...r,common:{...r.common,issues:[]},parent:null},w=c._parseSync({data:r.data,path:r.path,parent:d});if(w.status==="valid")return w;w.status==="dirty"&&!a&&(a={result:w,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new et(c));return U(r,{code:B.invalid_union,unionErrors:l}),se}}get options(){return this._def.options}}Sr.create=(e,t)=>new Sr({options:e,typeName:ne.ZodUnion,...oe(t)});function ss(e,t){const r=nt(e),s=nt(t);if(e===t)return{valid:!0,data:e};if(r===J.object&&s===J.object){const n=fe.objectKeys(t),a=fe.objectKeys(e).filter(l=>n.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=ss(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===J.array&&s===J.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=ss(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===J.date&&s===J.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ar extends ce{_parse(t){const{status:r,ctx:s}=this._processInputParams(t),n=(a,o)=>{if(un(a)||un(o))return se;const l=ss(a.value,o.value);return l.valid?((fn(a)||fn(o))&&r.dirty(),{status:r.value,value:l.data}):(U(s,{code:B.invalid_intersection_types}),se)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,o])=>n(a,o)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Ar.create=(e,t,r)=>new Ar({left:e,right:t,typeName:ne.ZodIntersection,...oe(r)});class vt extends ce{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==J.array)return U(s,{code:B.invalid_type,expected:J.array,received:s.parsedType}),se;if(s.data.length<this._def.items.length)return U(s,{code:B.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),se;!this._def.rest&&s.data.length>this._def.items.length&&(U(s,{code:B.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new lt(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(a).then(o=>Le.mergeArray(r,o)):Le.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new vt({...this._def,rest:t})}}vt.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vt({items:e,typeName:ne.ZodTuple,rest:null,...oe(t)})};class wn extends ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==J.map)return U(s,{code:B.invalid_type,expected:J.map,received:s.parsedType}),se;const n=this._def.keyType,a=this._def.valueType,o=[...s.data.entries()].map(([l,c],d)=>({key:n._parse(new lt(s,l,s.path,[d,"key"])),value:a._parse(new lt(s,c,s.path,[d,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,w=await c.value;if(d.status==="aborted"||w.status==="aborted")return se;(d.status==="dirty"||w.status==="dirty")&&r.dirty(),l.set(d.value,w.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,w=c.value;if(d.status==="aborted"||w.status==="aborted")return se;(d.status==="dirty"||w.status==="dirty")&&r.dirty(),l.set(d.value,w.value)}return{status:r.value,value:l}}}}wn.create=(e,t,r)=>new wn({valueType:t,keyType:e,typeName:ne.ZodMap,...oe(r)});class er extends ce{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.parsedType!==J.set)return U(s,{code:B.invalid_type,expected:J.set,received:s.parsedType}),se;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(U(s,{code:B.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(U(s,{code:B.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const d=new Set;for(const w of c){if(w.status==="aborted")return se;w.status==="dirty"&&r.dirty(),d.add(w.value)}return{status:r.value,value:d}}const l=[...s.data.values()].map((c,d)=>a._parse(new lt(s,c,s.path,d)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new er({...this._def,minSize:{value:t,message:Y.toString(r)}})}max(t,r){return new er({...this._def,maxSize:{value:t,message:Y.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}er.create=(e,t)=>new er({valueType:e,minSize:null,maxSize:null,typeName:ne.ZodSet,...oe(t)});class kn extends ce{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}kn.create=(e,t)=>new kn({getter:e,typeName:ne.ZodLazy,...oe(t)});class Nn extends ce{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return U(r,{received:r.data,code:B.invalid_literal,expected:this._def.value}),se}return{status:"valid",value:t.data}}get value(){return this._def.value}}Nn.create=(e,t)=>new Nn({value:e,typeName:ne.ZodLiteral,...oe(t)});function wa(e,t){return new Tt({values:e,typeName:ne.ZodEnum,...oe(t)})}class Tt extends ce{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),s=this._def.values;return U(r,{expected:fe.joinValues(s),received:r.parsedType,code:B.invalid_type}),se}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),s=this._def.values;return U(r,{received:r.data,code:B.invalid_enum_value,options:s}),se}return Ve(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return Tt.create(t,{...this._def,...r})}exclude(t,r=this._def){return Tt.create(this.options.filter(s=>!t.includes(s)),{...this._def,...r})}}Tt.create=wa;class _n extends ce{_parse(t){const r=fe.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==J.string&&s.parsedType!==J.number){const n=fe.objectValues(r);return U(s,{expected:fe.joinValues(n),received:s.parsedType,code:B.invalid_type}),se}if(this._cache||(this._cache=new Set(fe.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const n=fe.objectValues(r);return U(s,{received:s.data,code:B.invalid_enum_value,options:n}),se}return Ve(t.data)}get enum(){return this._def.values}}_n.create=(e,t)=>new _n({values:e,typeName:ne.ZodNativeEnum,...oe(t)});class Er extends ce{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==J.promise&&r.common.async===!1)return U(r,{code:B.invalid_type,expected:J.promise,received:r.parsedType}),se;const s=r.parsedType===J.promise?r.data:Promise.resolve(r.data);return Ve(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Er.create=(e,t)=>new Er({type:e,typeName:ne.ZodPromise,...oe(t)});class Ot extends ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:s}=this._processInputParams(t),n=this._def.effect||null,a={addIssue:o=>{U(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const o=n.transform(s.data,a);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return se;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?se:c.status==="dirty"||r.value==="dirty"?qt(c.value):c});{if(r.value==="aborted")return se;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?se:l.status==="dirty"||r.value==="dirty"?qt(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,a);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?se:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?se:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(n.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Rt(o))return se;const l=n.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Rt(o)?Promise.resolve(n.transform(o.value,a)).then(l=>({status:r.value,value:l})):se);fe.assertNever(n)}}Ot.create=(e,t,r)=>new Ot({schema:e,typeName:ne.ZodEffects,effect:t,...oe(r)});Ot.createWithPreprocess=(e,t,r)=>new Ot({schema:t,effect:{type:"preprocess",transform:e},typeName:ne.ZodEffects,...oe(r)});class ot extends ce{_parse(t){return this._getType(t)===J.undefined?Ve(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ot.create=(e,t)=>new ot({innerType:e,typeName:ne.ZodOptional,...oe(t)});class Pt extends ce{_parse(t){return this._getType(t)===J.null?Ve(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Pt.create=(e,t)=>new Pt({innerType:e,typeName:ne.ZodNullable,...oe(t)});class ns extends ce{_parse(t){const{ctx:r}=this._processInputParams(t);let s=r.data;return r.parsedType===J.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}ns.create=(e,t)=>new ns({innerType:e,typeName:ne.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...oe(t)});class as extends ce{_parse(t){const{ctx:r}=this._processInputParams(t),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return jr(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new et(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new et(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}as.create=(e,t)=>new as({innerType:e,typeName:ne.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...oe(t)});class jn extends ce{_parse(t){if(this._getType(t)!==J.nan){const s=this._getOrReturnCtx(t);return U(s,{code:B.invalid_type,expected:J.nan,received:s.parsedType}),se}return{status:"valid",value:t.data}}}jn.create=e=>new jn({typeName:ne.ZodNaN,...oe(e)});class wl extends ce{_parse(t){const{ctx:r}=this._processInputParams(t),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class Ns extends ce{_parse(t){const{status:r,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?se:a.status==="dirty"?(r.dirty(),qt(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?se:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(t,r){return new Ns({in:t,out:r,typeName:ne.ZodPipeline})}}class is extends ce{_parse(t){const r=this._def.innerType._parse(t),s=n=>(Rt(n)&&(n.value=Object.freeze(n.value)),n);return jr(r)?r.then(n=>s(n)):s(r)}unwrap(){return this._def.innerType}}is.create=(e,t)=>new is({innerType:e,typeName:ne.ZodReadonly,...oe(t)});var ne;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ne||(ne={}));const dr=it.create;ct.create;Ze.create;const kl=ke.create;Sr.create;Ar.create;vt.create;Tt.create;Er.create;ot.create;Pt.create;const pt=j.forwardRef(({className:e,label:t,error:r,helperText:s,...n},a)=>i.jsxs("div",{className:"space-y-2",children:[t&&i.jsx("label",{className:"label text-gray-700",htmlFor:n.id,children:t}),i.jsx("input",{className:Te("input",r&&"input-error",e),ref:a,...n}),r&&i.jsx("p",{className:"text-sm text-red-600",children:r}),s&&!r&&i.jsx("p",{className:"text-sm text-gray-500",children:s})]}));pt.displayName="Input";const Nl=({type:e="info",title:t,message:r,onClose:s,className:n})=>{const a={error:aa,success:oa,warning:ia,info:la},o={error:"bg-red-50 border-red-200 text-red-800",success:"bg-green-50 border-green-200 text-green-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"},l={error:"text-red-500",success:"text-green-500",warning:"text-yellow-500",info:"text-blue-500"},c=a[e];return i.jsxs("div",{className:Te("flex items-start space-x-3 rounded-lg border p-4",o[e],n),children:[i.jsx(c,{className:Te("h-5 w-5 flex-shrink-0 mt-0.5",l[e])}),i.jsxs("div",{className:"flex-1 min-w-0",children:[t&&i.jsx("h3",{className:"text-sm font-medium mb-1",children:t}),i.jsx("p",{className:"text-sm",children:r})]}),s&&i.jsx("button",{onClick:s,className:"flex-shrink-0 ml-2 inline-flex text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600 transition ease-in-out duration-150",children:i.jsx(ht,{className:"h-4 w-4"})})]})},_l=kl({email:dr().min(1,"El email es requerido").email("Formato de email inválido").toLowerCase().trim(),username:dr().min(3,"El nombre de usuario debe tener al menos 3 caracteres").max(30,"El nombre de usuario no puede tener más de 30 caracteres").regex(/^[a-zA-Z0-9_]+$/,"Solo letras, números y guiones bajos permitidos").toLowerCase().trim(),password:dr().min(8,"La contraseña debe tener al menos 8 caracteres").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Debe contener al menos una minúscula, una mayúscula y un número"),confirmPassword:dr()}).refine(e=>e.password===e.confirmPassword,{message:"Las contraseñas no coinciden",path:["confirmPassword"]}),jl=()=>{var E,p,b,f;const[e,t]=j.useState(!1),[r,s]=j.useState(!1),{register:n,isLoading:a,error:o,clearError:l}=wt(),c=dt(),{register:d,handleSubmit:w,formState:{errors:v},watch:x,setError:g}=qo({resolver:Wo(_l)}),N=x("password",""),R={length:N.length>=8,lowercase:/[a-z]/.test(N),uppercase:/[A-Z]/.test(N),number:/\d/.test(N)},O=async k=>{try{l();const T=await n(k);if(n.fulfilled.match(T))c("/dashboard");else if(n.rejected.match(T)){const P=T.payload;P.includes("email ya está registrado")?g("email",{type:"manual",message:"Este email ya está registrado"}):P.includes("nombre de usuario ya está en uso")&&g("username",{type:"manual",message:"Este nombre de usuario ya está en uso"})}}catch(T){console.error("Error en registro:",T)}};return i.jsx("div",{className:"w-full max-w-md mx-auto",children:i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"card-header text-center",children:[i.jsx("h1",{className:"card-title",children:"Crear Cuenta"}),i.jsx("p",{className:"card-description",children:"Únete a Bingo La Perla y comienza a jugar"})]}),i.jsxs("div",{className:"card-content",children:[o&&i.jsx(Nl,{type:"error",message:o,onClose:l,className:"mb-6"}),i.jsxs("form",{onSubmit:w(O),className:"space-y-4",children:[i.jsx(pt,{...d("email"),id:"email",label:"Email",type:"email",placeholder:"tu@email.com",error:(E=v.email)==null?void 0:E.message,autoComplete:"email"}),i.jsx(pt,{...d("username"),id:"username",label:"Nombre de usuario",type:"text",placeholder:"usuario123",error:(p=v.username)==null?void 0:p.message,helperText:"3-30 caracteres, solo letras, números y guiones bajos",autoComplete:"username"}),i.jsxs("div",{className:"relative",children:[i.jsx(pt,{...d("password"),id:"password",label:"Contraseña",type:e?"text":"password",placeholder:"••••••••",error:(b=v.password)==null?void 0:b.message,autoComplete:"new-password"}),i.jsx("button",{type:"button",className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",onClick:()=>t(!e),children:e?i.jsx(Qs,{className:"h-4 w-4"}):i.jsx(Hs,{className:"h-4 w-4"})})]}),N&&i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsx("p",{className:"text-gray-600 font-medium",children:"Requisitos de contraseña:"}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[R.length?i.jsx(cr,{className:"h-4 w-4 text-green-500"}):i.jsx(ht,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:R.length?"text-green-600":"text-red-600",children:"Al menos 8 caracteres"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[R.lowercase?i.jsx(cr,{className:"h-4 w-4 text-green-500"}):i.jsx(ht,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:R.lowercase?"text-green-600":"text-red-600",children:"Una letra minúscula"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[R.uppercase?i.jsx(cr,{className:"h-4 w-4 text-green-500"}):i.jsx(ht,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:R.uppercase?"text-green-600":"text-red-600",children:"Una letra mayúscula"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[R.number?i.jsx(cr,{className:"h-4 w-4 text-green-500"}):i.jsx(ht,{className:"h-4 w-4 text-red-500"}),i.jsx("span",{className:R.number?"text-green-600":"text-red-600",children:"Un número"})]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(pt,{...d("confirmPassword"),id:"confirmPassword",label:"Confirmar contraseña",type:r?"text":"password",placeholder:"••••••••",error:(f=v.confirmPassword)==null?void 0:f.message,autoComplete:"new-password"}),i.jsx("button",{type:"button",className:"absolute right-3 top-9 text-gray-400 hover:text-gray-600",onClick:()=>s(!r),children:r?i.jsx(Qs,{className:"h-4 w-4"}):i.jsx(Hs,{className:"h-4 w-4"})})]}),i.jsx(Ae,{type:"submit",className:"w-full",loading:a,size:"lg",children:"Crear Cuenta"})]}),i.jsxs("div",{className:"mt-6 text-center text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"¿Ya tienes una cuenta? "}),i.jsx(xr,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Inicia sesión aquí"})]})]})]})})},Cl=()=>{const{isAuthenticated:e}=wt(),t=dt();return j.useEffect(()=>{e&&t("/dashboard")},[e,t]),i.jsxs("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center px-4 py-8",children:[i.jsx(ys,{src:"/videos/bingo-background.mp4",poster:"/images/bingo-poster.jpg",overlay:!0,fallbackGradient:!0,showAudioControl:!0}),i.jsx("div",{className:"relative z-10 w-full max-w-md",children:i.jsx("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 p-6",children:i.jsx(jl,{})})}),i.jsx("div",{className:"absolute top-16 left-16 text-4xl opacity-20 animate-bounce animation-delay-2000",children:"🎰"}),i.jsx("div",{className:"absolute top-32 right-20 text-3xl opacity-20 animate-bounce animation-delay-4000",children:"🎲"}),i.jsx("div",{className:"absolute bottom-24 left-12 text-5xl opacity-20 animate-bounce animation-delay-1000",children:"🏆"}),i.jsx("div",{className:"absolute bottom-16 right-16 text-4xl opacity-20 animate-bounce animation-delay-3000",children:"🎯"})]})},Cn=()=>{var a;const e=dt(),{user:t,logout:r}=wt(),s=async()=>{await r(),e("/login")},n=[{id:"play",title:"PLAY",subtitle:"Unirse al juego",icon:"🎯",gradient:"from-green-500 to-emerald-600",hoverGradient:"hover:from-green-600 hover:to-emerald-700",action:()=>e("/dashboard")},{id:"profile",title:"PERFIL",subtitle:"Mi información",icon:"👤",gradient:"from-blue-500 to-blue-600",hoverGradient:"hover:from-blue-600 hover:to-blue-700",action:()=>e("/profile")},{id:"help",title:"AYUDA",subtitle:"Cómo jugar",icon:"❓",gradient:"from-purple-500 to-purple-600",hoverGradient:"hover:from-purple-600 hover:to-purple-700",action:()=>e("/help")}];return i.jsxs("div",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[i.jsx(ys,{src:"/videos/bingo-background.mp4",overlay:!0,showAudioControl:!0,className:"z-0"}),i.jsxs("div",{className:"relative z-10 w-full max-w-md mx-auto px-6",children:[i.jsxs("div",{className:"text-center mb-8 bg-black/20 backdrop-blur-md rounded-2xl p-6 border border-white/10",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"text-2xl",children:"👋"}),i.jsxs("div",{className:"text-left",children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:(t==null?void 0:t.username)||"Usuario"}),i.jsx("p",{className:"text-white/70 text-sm",children:"¡Bienvenido de vuelta!"})]})]}),i.jsx("button",{onClick:s,className:"text-white/60 hover:text-white/90 text-2xl transition-colors",title:"Cerrar sesión",children:"↗️"})]}),i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3",children:[i.jsx("p",{className:"text-white/80 text-sm",children:"Balance actual"}),i.jsxs("p",{className:"text-2xl font-bold text-white",children:["S/ ",((a=t==null?void 0:t.balance)==null?void 0:a.toFixed(2))||"0.00"]})]})]}),i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-white mb-2 drop-shadow-lg",children:"🎰 BINGO LA PERLA"}),i.jsx("p",{className:"text-white/80 text-lg drop-shadow",children:"¿Qué deseas hacer?"})]}),i.jsx("div",{className:"space-y-6",children:n.map((o,l)=>i.jsx("div",{className:`
                opacity-0 translate-y-8 
                animate-fade-in-up
                animation-delay-${(l+1)*200}ms
              `,style:{animationDelay:`${(l+1)*200}ms`,animationFillMode:"forwards"},children:i.jsxs(Ae,{onClick:o.action,className:`
                  w-full py-6 text-xl font-bold 
                  bg-gradient-to-r ${o.gradient} ${o.hoverGradient}
                  text-white rounded-2xl 
                  transform transition-all duration-300 
                  hover:scale-105 hover:shadow-2xl
                  border border-white/20 backdrop-blur-sm
                  flex items-center justify-between px-8
                  group
                `,size:"lg",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("span",{className:"text-3xl group-hover:scale-110 transition-transform duration-300",children:o.icon}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"text-xl font-bold",children:o.title}),i.jsx("div",{className:"text-sm text-white/80",children:o.subtitle})]})]}),i.jsx("div",{className:"text-2xl opacity-60 group-hover:opacity-100 group-hover:translate-x-1 transition-all duration-300",children:"→"})]})},o.id))}),i.jsx("div",{className:"text-center mt-12 text-white/60",children:i.jsx("p",{className:"text-sm",children:"¡Que tengas suerte! 🍀"})})]}),i.jsx("style",{children:`
        @keyframes fade-in-up {
          from {
            opacity: 0;
            transform: translateY(2rem);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .animate-fade-in-up {
          animation: fade-in-up 0.6s ease-out;
        }
      `})]})},Et=xt.injectEndpoints({endpoints:e=>({getGames:e.query({query:t=>({url:"/games",params:t?{status:t}:void 0}),providesTags:["Game"],transformResponse:t=>t}),getGameById:e.query({query:t=>`/games/${t}`,providesTags:(t,r,s)=>[{type:"Game",id:s}]}),createGame:e.mutation({query:t=>({url:"/games",method:"POST",body:t}),invalidatesTags:["Game"]}),joinGame:e.mutation({query:t=>({url:`/games/${t}/join`,method:"POST"}),invalidatesTags:(t,r,s)=>["Game",{type:"Game",id:s}],async onQueryStarted(t,{dispatch:r,queryFulfilled:s}){const n=r(Et.util.updateQueryData("getGames",void 0,a=>{const o=a.games.find(l=>l.id===t);o&&o.participantCount!==void 0&&(o.participantCount+=1)}));try{await s}catch{n.undo()}}}),startGame:e.mutation({query:t=>({url:`/games/${t}/start`,method:"POST"}),invalidatesTags:(t,r,s)=>["Game",{type:"Game",id:s}]}),drawBall:e.mutation({query:t=>({url:`/games/${t}/draw-ball`,method:"POST"}),invalidatesTags:(t,r,s)=>["Game",{type:"Game",id:s},"BingoCard"],async onQueryStarted(t,{dispatch:r,queryFulfilled:s}){try{const{data:n}=await s;r(Et.util.updateQueryData("getGameById",t,a=>{a.game.currentBall=n.ball,a.game.ballsDrawn=n.game.ballsDrawn,n.winners&&n.winners.length>0&&(a.game.winningCards=[...a.game.winningCards,...n.winners.map(o=>o.cardId)])})),r(Et.util.updateQueryData("getGames",void 0,a=>{const o=a.games.find(l=>l.id===t);o&&(o.currentBall=n.ball,o.ballsDrawn=n.game.ballsDrawn,n.winners&&n.winners.length>0&&(o.winningCards=[...o.winningCards,...n.winners.map(l=>l.cardId)]))}))}catch{}}}),endGame:e.mutation({query:t=>({url:`/games/${t}/end`,method:"POST"}),invalidatesTags:(t,r,s)=>["Game",{type:"Game",id:s}]})}),overrideExisting:!1}),{useGetGamesQuery:Sl,useGetGameByIdQuery:Al}=Et;Et.util.invalidateTags;Et.util.resetApiState;const El=()=>{var g;const{user:e,logout:t}=wt(),r=dt(),{toast:s}=rr(),{data:n,isLoading:a}=Sl(void 0),[o,l]=j.useState(1),c=(n==null?void 0:n.games)||[],d=c.find(N=>N.status===mt.OPEN||N.status===mt.SCHEDULED)||c.find(N=>N.status===mt.IN_PROGRESS),w=async()=>{await t(),r("/login")},v=()=>{if(!d){s.error("No hay juegos disponibles");return}s.success(`¡${o} cartón${o>1?"es":""} comprado${o>1?"s":""}!`),r(`/game/${d.id}`)},x=N=>{s.success(`¡Recarga de S/ ${N} exitosa!`)};return a?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx(tr,{size:"lg"})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 px-4 py-6",children:i.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"text-3xl",children:"👤"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-900",children:(e==null?void 0:e.username)||"Usuario"}),i.jsx("p",{className:"text-gray-600 text-sm",children:e==null?void 0:e.email})]})]}),i.jsx("button",{onClick:w,className:"text-gray-400 hover:text-gray-600",children:"↗️"})]}),i.jsxs("div",{className:"text-center bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Mi Balance"}),i.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["S/ ",((g=e==null?void 0:e.balance)==null?void 0:g.toFixed(2))||"0.00"]})]})]}),d?i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 text-center",children:"🎯 PRÓXIMO JUEGO"}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-600",children:"🕐 Hora:"}),i.jsx("span",{className:"font-semibold",children:d.status===mt.IN_PROGRESS?"EN VIVO":new Date(d.scheduledAt).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-600",children:"🏆 Premio:"}),i.jsxs("span",{className:"font-semibold text-yellow-600",children:["S/ ",d.totalPrize.toFixed(0)]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-600",children:"👥 Jugadores:"}),i.jsxs("span",{className:"font-semibold",children:[d.participantCount," / ",d.maxPlayers]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("p",{className:"text-center text-gray-600 mb-3",children:"Cartones a comprar"}),i.jsx("div",{className:"flex justify-center space-x-4",children:[1,2,3].map(N=>i.jsx("button",{onClick:()=>l(N),className:`w-16 h-16 rounded-xl text-xl font-bold transition-all ${o===N?"bg-primary-500 text-white shadow-lg scale-110":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:N},N))}),i.jsxs("p",{className:"text-center text-sm text-gray-500 mt-2",children:["S/ ",(d.cardPrice*o).toFixed(2)," total"]})]}),i.jsx(Ae,{onClick:v,className:"w-full py-4 text-xl font-bold bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600",size:"lg",children:d.status===mt.IN_PROGRESS?"🔴 UNIRSE AL JUEGO":"🎯 COMPRAR CARTONES"})]}):i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:"😴"}),i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No hay juegos disponibles"}),i.jsx("p",{className:"text-gray-600",children:"Revisa más tarde para nuevas partidas"})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 text-center",children:"💰 RECARGAR SALDO"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:[10,20,50].map(N=>i.jsxs("button",{onClick:()=>x(N),className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl py-4 font-bold text-lg transition-all hover:scale-105",children:["S/ ",N]},N))})]})]})})},Il=()=>{var w,v;const e=dt(),{user:t}=wt(),{toast:r}=rr(),[s,n]=j.useState(!1),[a,o]=j.useState({username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||""}),l=(x,g)=>{o(N=>({...N,[x]:g}))},c=async()=>{r.success("Perfil actualizado correctamente"),n(!1)},d=()=>{o({username:(t==null?void 0:t.username)||"",email:(t==null?void 0:t.email)||""}),n(!1)};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 px-4 py-6",children:i.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("button",{onClick:()=>e("/menu"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx("span",{className:"text-xl",children:"←"}),i.jsx("span",{children:"Volver al menú"})]})}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-400 to-primary-600 rounded-full flex items-center justify-center text-3xl text-white font-bold mx-auto mb-4",children:((w=t==null?void 0:t.username)==null?void 0:w.charAt(0).toUpperCase())||"👤"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:(t==null?void 0:t.username)||"Usuario"}),i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-3",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Balance actual"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["S/ ",((v=t==null?void 0:t.balance)==null?void 0:v.toFixed(2))||"0.00"]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Mi Información"}),s?i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Ae,{onClick:d,className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-2",size:"sm",children:"Cancelar"}),i.jsx(Ae,{onClick:c,className:"bg-green-500 hover:bg-green-600 text-white px-3 py-2",size:"sm",children:"Guardar"})]}):i.jsx(Ae,{onClick:()=>n(!0),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2",size:"sm",children:"✏️ Editar"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de usuario"}),s?i.jsx(pt,{value:a.username,onChange:x=>l("username",x.target.value),placeholder:"Ingresa tu nombre de usuario"}):i.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-gray-700",children:a.username||"No especificado"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrónico"}),s?i.jsx(pt,{type:"email",value:a.email,onChange:x=>l("email",x.target.value),placeholder:"Ingresa tu correo"}):i.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-gray-700",children:a.email||"No especificado"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Miembro desde"}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-gray-700",children:t!=null&&t.createdAt?new Date(t.createdAt).toLocaleDateString("es-ES"):"No especificado"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Último acceso"}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-3 text-gray-700",children:t!=null&&t.lastLogin?new Date(t.lastLogin).toLocaleDateString("es-ES"):"Ahora"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Mis Estadísticas"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center bg-blue-50 rounded-xl p-4",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:(t==null?void 0:t.gamesPlayed)||0}),i.jsx("p",{className:"text-sm text-gray-600",children:"Juegos jugados"})]}),i.jsxs("div",{className:"text-center bg-green-50 rounded-xl p-4",children:[i.jsx("p",{className:"text-2xl font-bold text-green-600",children:(t==null?void 0:t.gamesWon)||0}),i.jsx("p",{className:"text-sm text-gray-600",children:"Juegos ganados"})]}),i.jsxs("div",{className:"text-center bg-yellow-50 rounded-xl p-4",children:[i.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[(((t==null?void 0:t.gamesWon)||0)/Math.max((t==null?void 0:t.gamesPlayed)||1,1)*100).toFixed(1),"%"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"% de victorias"})]}),i.jsxs("div",{className:"text-center bg-purple-50 rounded-xl p-4",children:[i.jsx("p",{className:"text-2xl font-bold text-purple-600",children:(t==null?void 0:t.cardsPurchased)||0}),i.jsx("p",{className:"text-sm text-gray-600",children:"Cartones comprados"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Historial de Transacciones"}),i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("div",{className:"text-4xl mb-2",children:"📄"}),i.jsx("p",{children:"No hay transacciones aún"}),i.jsx("p",{className:"text-sm",children:"Aquí verás tu historial de recargas y gastos"})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4 text-center",children:"💰 Recargar Saldo"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:[10,20,50].map(x=>i.jsxs(Ae,{onClick:()=>r.success(`¡Recarga de S/ ${x} exitosa!`),className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl py-3 font-bold transition-all hover:scale-105",children:["S/ ",x]},x))})]})]})})},Rl=()=>{const e=dt(),[t,r]=j.useState("how-to-play"),s=[{id:"how-to-play",title:"🎯 Cómo Jugar",icon:"🎮"},{id:"rules",title:"📋 Reglas",icon:"⚖️"},{id:"prizes",title:"🏆 Premios",icon:"💰"},{id:"tips",title:"💡 Consejos",icon:"🎯"}],n=()=>{switch(t){case"how-to-play":return i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"¿Cómo jugar Bingo?"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg",children:[i.jsx("h4",{className:"font-bold text-blue-800 mb-2",children:"1. Compra tus cartones"}),i.jsx("p",{className:"text-blue-700",children:'Desde el menú principal, ve a "PLAY" y selecciona cuántos cartones quieres comprar (1, 2 o 3).'})]}),i.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-4 rounded-r-lg",children:[i.jsx("h4",{className:"font-bold text-green-800 mb-2",children:"2. Espera que inicie el juego"}),i.jsx("p",{className:"text-green-700",children:"Una vez comprados los cartones, serás llevado automáticamente a la sala de juego."})]}),i.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg",children:[i.jsx("h4",{className:"font-bold text-yellow-800 mb-2",children:"3. Marca los números"}),i.jsx("p",{className:"text-yellow-700",children:"Cuando el sistema cante un número que tienes en tu cartón, tócalo para marcarlo."})]}),i.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-4 rounded-r-lg",children:[i.jsx("h4",{className:"font-bold text-purple-800 mb-2",children:"4. ¡Completa el patrón!"}),i.jsx("p",{className:"text-purple-700",children:"Gana al completar líneas horizontales, verticales, diagonales o cartón lleno según el tipo de juego."})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mt-6",children:[i.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"🎪 Tipos de Juego"}),i.jsxs("ul",{className:"space-y-2 text-gray-700",children:[i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Línea:"})," Completa una línea horizontal, vertical o diagonal"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Dos Líneas:"})," Completa dos líneas en el mismo cartón"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Cartón Lleno:"})," Marca todos los números del cartón"]}),i.jsxs("li",{children:["• ",i.jsx("strong",{children:"Cuatro Esquinas:"})," Marca los números de las 4 esquinas"]})]})]})]});case"rules":return i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Reglas del Juego"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"⏰ Tiempo límite"}),i.jsx("p",{className:"text-gray-600",children:"Tienes 10 segundos para marcar cada número cantado. Si no lo marcas a tiempo, se marca automáticamente."})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"🎯 Orden de números"}),i.jsxs("p",{className:"text-gray-600",children:["Los números se cantan aleatoriamente. Cada columna tiene su rango:",i.jsx("br",{}),"• B: 1-15 • I: 16-30 • N: 31-45 • G: 46-60 • O: 61-75"]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-bold text-gray-800 mb-2",children:"👑 Ganador"}),i.jsx("p",{className:"text-gray-600",children:'El primer jugador en completar el patrón requerido y gritar "¡BINGO!" gana el premio correspondiente.'})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-bold text-gray-8Â00 mb-2",children:"💸 Cartones múltiples"}),i.jsx("p",{className:"text-gray-600",children:"Puedes jugar con hasta 3 cartones simultáneamente para aumentar tus probabilidades de ganar."})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-bold text-red-800 mb-2",children:"⚠️ Importante"}),i.jsxs("ul",{className:"text-red-700 space-y-1",children:[i.jsx("li",{children:"• No se permite salir del juego una vez iniciado"}),i.jsx("li",{children:"• Los cartones no se pueden cambiar después de la compra"}),i.jsx("li",{children:"• Los premios se abonan automáticamente al ganar"})]})]})]})]});case"prizes":return i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Sistema de Premios"}),i.jsxs("div",{className:"grid gap-4",children:[i.jsx("div",{className:"bg-gradient-to-r from-yellow-400 to-yellow-500 text-white rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-xl font-bold",children:"🥇 Cartón Lleno"}),i.jsx("p",{className:"text-yellow-100",children:"Premio mayor"})]}),i.jsx("div",{className:"text-2xl font-bold",children:"S/ 100-500"})]})}),i.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 text-white rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-xl font-bold",children:"🥈 Dos Líneas"}),i.jsx("p",{className:"text-green-100",children:"Segundo premio"})]}),i.jsx("div",{className:"text-2xl font-bold",children:"S/ 50-200"})]})}),i.jsx("div",{className:"bg-gradient-to-r from-blue-400 to-blue-500 text-white rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-xl font-bold",children:"🥉 Una Línea"}),i.jsx("p",{className:"text-blue-100",children:"Tercer premio"})]}),i.jsx("div",{className:"text-2xl font-bold",children:"S/ 20-100"})]})}),i.jsx("div",{className:"bg-gradient-to-r from-purple-400 to-purple-500 text-white rounded-xl p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-xl font-bold",children:"🎯 Cuatro Esquinas"}),i.jsx("p",{className:"text-purple-100",children:"Premio especial"})]}),i.jsx("div",{className:"text-2xl font-bold",children:"S/ 15-75"})]})})]}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[i.jsx("h4",{className:"font-bold text-gray-800 mb-3",children:"💰 Acumulado de Premios"}),i.jsx("p",{className:"text-gray-600 mb-3",children:"Los premios se calculan basándose en:"}),i.jsxs("ul",{className:"space-y-2 text-gray-600",children:[i.jsx("li",{children:"• Número total de jugadores"}),i.jsx("li",{children:"• Cantidad de cartones vendidos"}),i.jsx("li",{children:"• Tipo de juego (línea, dos líneas, cartón lleno)"}),i.jsx("li",{children:"• Porcentaje de la sala (70% para premios, 30% para la casa)"})]})]})]});case"tips":return i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Consejos para Ganar"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[i.jsxs("h4",{className:"font-bold text-green-800 mb-2 flex items-center",children:[i.jsx("span",{className:"mr-2",children:"🎯"})," Estrategia de Cartones"]}),i.jsx("p",{className:"text-green-700",children:"Compra múltiples cartones (máximo 3) para aumentar tus probabilidades de tener los números cantados."})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsxs("h4",{className:"font-bold text-blue-800 mb-2 flex items-center",children:[i.jsx("span",{className:"mr-2",children:"⚡"})," Mantente Alerta"]}),i.jsx("p",{className:"text-blue-700",children:"Presta atención a los números cantados. El sistema marca automáticamente, pero es bueno verificar."})]}),i.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[i.jsxs("h4",{className:"font-bold text-purple-800 mb-2 flex items-center",children:[i.jsx("span",{className:"mr-2",children:"🕐"})," Llega Temprano"]}),i.jsx("p",{className:"text-purple-700",children:"Únete a los juegos temprano para asegurar tu lugar y elegir tus cartones favoritos."})]}),i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[i.jsxs("h4",{className:"font-bold text-yellow-800 mb-2 flex items-center",children:[i.jsx("span",{className:"mr-2",children:"💰"})," Gestiona tu Saldo"]}),i.jsx("p",{className:"text-yellow-700",children:"No gastes todo tu saldo en un solo juego. Distribuye tus cartones en varios juegos."})]}),i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsxs("h4",{className:"font-bold text-red-800 mb-2 flex items-center",children:[i.jsx("span",{className:"mr-2",children:"🎪"})," Conoce los Patrones"]}),i.jsx("p",{className:"text-red-700",children:"Familiarízate con los diferentes patrones de victoria antes de que inicie el juego."})]})]}),i.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-primary-100 rounded-xl p-6",children:[i.jsx("h4",{className:"font-bold text-primary-800 mb-3",children:"🍀 Recuerda"}),i.jsx("p",{className:"text-primary-700",children:"El bingo es un juego de suerte, pero seguir estos consejos puede mejorar tu experiencia y aumentar tus posibilidades de ganar. ¡Que tengas suerte!"})]})]});default:return null}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 px-4 py-6",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("button",{onClick:()=>e("/menu"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx("span",{className:"text-xl",children:"←"}),i.jsx("span",{children:"Volver al menú"})]})}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"🎰 Centro de Ayuda"}),i.jsx("p",{className:"text-gray-600",children:"Todo lo que necesitas saber para jugar Bingo La Perla"})]}),i.jsxs("div",{className:"grid lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"bg-white rounded-2xl p-4 shadow-lg sticky top-6",children:[i.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Secciones"}),i.jsx("nav",{className:"space-y-2",children:s.map(a=>i.jsxs("button",{onClick:()=>r(a.id),className:`
                      w-full text-left px-4 py-3 rounded-xl transition-all duration-200
                      flex items-center space-x-3
                      ${t===a.id?"bg-primary-500 text-white shadow-lg":"hover:bg-gray-50 text-gray-700"}
                    `,children:[i.jsx("span",{className:"text-lg",children:a.icon}),i.jsx("span",{className:"font-medium",children:a.title})]},a.id))})]})}),i.jsx("div",{className:"lg:col-span-3",children:i.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:n()})})]}),i.jsx("div",{className:"mt-8 text-center",children:i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"¿Listo para jugar?"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"¡Pon en práctica todo lo que has aprendido!"}),i.jsx(Ae,{onClick:()=>e("/dashboard"),className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-8 py-3 text-lg font-bold",children:"🎯 ¡Ir a Jugar!"})]})})]})})},yt=xt.injectEndpoints({endpoints:e=>({generateCards:e.mutation({query:({gameId:t,count:r})=>({url:"/cards/generate",method:"POST",body:{gameId:t,count:r}}),invalidatesTags:["BingoCard"],async onQueryStarted({gameId:t},{dispatch:r,queryFulfilled:s}){try{const{data:n}=await s;r(yt.util.updateQueryData("getMyCards",t,a=>{a.cards.push(...n.cards),a.count=a.cards.length}))}catch{}}}),getUserCards:e.query({query:({userId:t,gameId:r})=>`/cards/user/${t}/game/${r}`,providesTags:(t,r,{userId:s,gameId:n})=>["BingoCard",{type:"BingoCard",id:`${s}-${n}`}]}),getMyCards:e.query({query:t=>`/cards/my/${t}`,providesTags:(t,r,s)=>["BingoCard",{type:"BingoCard",id:`my-${s}`}]}),markNumber:e.mutation({query:({cardId:t,number:r})=>({url:`/cards/${t}/mark`,method:"PUT",body:{number:r}}),invalidatesTags:(t,r,{cardId:s})=>["BingoCard",{type:"BingoCard",id:s}],async onQueryStarted({cardId:t,number:r},{dispatch:s,queryFulfilled:n,getState:a}){const o=[];xt.util.selectInvalidatedBy(a(),["BingoCard"]).forEach(l=>{if(l.endpointName==="getMyCards"){const c=s(yt.util.updateQueryData("getMyCards",l.originalArgs,d=>{const w=d.cards.find(v=>v.id===t);if(w){const v=w.numbers.find(x=>x.number===r);v&&!v.isMarked&&(v.isMarked=!0,w.markedNumbers.includes(r)||w.markedNumbers.push(r))}}));o.push(c)}});try{const{data:l}=await n;l.isWinner&&l.winningPatterns.length>0&&o.forEach(c=>{s(yt.util.updateQueryData("getMyCards",c.originalArgs,d=>{const w=d.cards.find(v=>v.id===t);w&&(w.isWinner=!0,w.winningPattern=l.winningPatterns.join(", "))}))})}catch{o.forEach(l=>l.undo())}}}),getCardPatterns:e.query({query:t=>`/cards/${t}/patterns`,providesTags:(t,r,s)=>[{type:"BingoCard",id:`patterns-${s}`}]}),validateCard:e.mutation({query:({cardNumbers:t})=>({url:"/cards/validate",method:"POST",body:{cardNumbers:t}})}),deleteCard:e.mutation({query:t=>({url:`/cards/${t}`,method:"DELETE"}),invalidatesTags:(t,r,s)=>["BingoCard",{type:"BingoCard",id:s}],async onQueryStarted(t,{dispatch:r,queryFulfilled:s,getState:n}){const a=[];xt.util.selectInvalidatedBy(n(),["BingoCard"]).forEach(o=>{if(o.endpointName==="getMyCards"){const l=r(yt.util.updateQueryData("getMyCards",o.originalArgs,c=>{c.cards=c.cards.filter(d=>d.id!==t),c.count=c.cards.length}));a.push(l)}});try{await s}catch{a.forEach(o=>o.undo())}}})}),overrideExisting:!1}),{useGetMyCardsQuery:Tl,useMarkNumberMutation:Ol}=yt;yt.util.invalidateTags;yt.util.resetApiState;const Pl="http://localhost:3001";class Ll{constructor(){Pe(this,"socket",null);Pe(this,"reconnectAttempts",0);Pe(this,"maxReconnectAttempts",5);Pe(this,"connectionState","disconnected");Pe(this,"reconnectStrategy","adaptive");Pe(this,"networkQuality","good");Pe(this,"lastDisconnectReason",null);Pe(this,"connectionHistory",[]);Pe(this,"heartbeatInterval",null);Pe(this,"adaptiveConfig");this.adaptiveConfig=this.getConfigForNetworkQuality("good")}getConfigForNetworkQuality(t){switch(t){case"excellent":return{reconnectionDelay:500,reconnectionDelayMax:2e3,maxReconnectionAttempts:10,timeout:5e3};case"good":return{reconnectionDelay:1e3,reconnectionDelayMax:5e3,maxReconnectionAttempts:8,timeout:1e4};case"poor":return{reconnectionDelay:2e3,reconnectionDelayMax:1e4,maxReconnectionAttempts:5,timeout:15e3};case"very_poor":return{reconnectionDelay:5e3,reconnectionDelayMax:3e4,maxReconnectionAttempts:3,timeout:2e4};default:return{reconnectionDelay:1e3,reconnectionDelayMax:5e3,maxReconnectionAttempts:5,timeout:1e4}}}updateNetworkQuality(t){this.networkQuality!==t&&(this.networkQuality=t,this.adaptiveConfig=this.getConfigForNetworkQuality(t),this.socket&&(this.socket.timeout=this.adaptiveConfig.timeout))}getReconnectDelay(){const{reconnectionDelay:t,reconnectionDelayMax:r}=this.adaptiveConfig;switch(this.reconnectStrategy){case"linear":return Math.min(t*this.reconnectAttempts,r);case"exponential":return Math.min(t*Math.pow(2,this.reconnectAttempts),r);case"adaptive":const s=this.connectionHistory.filter(l=>l.timestamp>Date.now()-6e4).filter(l=>!l.success).length,n=Math.min(Math.pow(2,this.reconnectAttempts),8),a=t*n,o=s*1e3;return Math.min(a+o,r);default:return t}}recordConnectionEvent(t,r){this.connectionHistory.push({timestamp:Date.now(),event:t,success:r}),this.connectionHistory.length>50&&(this.connectionHistory=this.connectionHistory.slice(-50))}startHeartbeat(){this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{var t;(t=this.socket)!=null&&t.connected&&this.socket.emit("ping",Date.now())},3e4)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}connect(){return new Promise((t,r)=>{var s;if((s=this.socket)!=null&&s.connected){t(this.socket);return}this.connectionState="connecting",this.recordConnectionEvent("connect_attempt",!1),this.socket=si(Pl,{transports:["websocket","polling"],upgrade:!0,rememberUpgrade:!0,autoConnect:!0,reconnection:!0,reconnectionDelay:this.adaptiveConfig.reconnectionDelay,reconnectionDelayMax:this.adaptiveConfig.reconnectionDelayMax,maxReconnectionAttempts:this.adaptiveConfig.maxReconnectionAttempts,timeout:this.adaptiveConfig.timeout,forceNew:!1}),this.socket.on("connect",()=>{var n;console.log("🔌 Conectado a Socket.IO:",(n=this.socket)==null?void 0:n.id),this.connectionState="connected",this.reconnectAttempts=0,this.recordConnectionEvent("connect",!0),this.startHeartbeat(),t(this.socket)}),this.socket.on("connect_error",n=>{console.error("❌ Error de conexión Socket.IO:",n),this.connectionState="failed",this.reconnectAttempts++,this.lastDisconnectReason=n.message,this.recordConnectionEvent("connect_error",!1),this.reconnectAttempts>=this.adaptiveConfig.maxReconnectionAttempts&&(this.connectionState="failed",r(new Error(`No se pudo conectar después de ${this.adaptiveConfig.maxReconnectionAttempts} intentos`)))}),this.socket.on("disconnect",n=>{console.log("🔌 Desconectado de Socket.IO:",n),this.connectionState="disconnected",this.lastDisconnectReason=n,this.stopHeartbeat(),this.recordConnectionEvent("disconnect",!1)}),this.socket.on("reconnect_attempt",n=>{console.log("🔄 Intento de reconexión #",n),this.connectionState="reconnecting",this.reconnectAttempts=n,this.recordConnectionEvent("reconnect_attempt",!1)}),this.socket.on("reconnect",n=>{var a;console.log("🔄 Reconectado a Socket.IO después de",n,"intentos"),this.connectionState="connected",this.reconnectAttempts=0,this.recordConnectionEvent("reconnect",!0),this.startHeartbeat(),(a=this.socket)==null||a.emit("sync-state-request",{timestamp:Date.now(),reason:"reconnect"})}),this.socket.on("reconnect_error",n=>{console.error("❌ Error de reconexión:",n),this.connectionState="failed",this.recordConnectionEvent("reconnect_error",!1)}),this.socket.on("reconnect_failed",()=>{console.error("❌ Falló la reconexión después de todos los intentos"),this.connectionState="failed",this.recordConnectionEvent("reconnect_failed",!1)}),this.socket.on("pong",n=>{const a=Date.now()-n;console.debug("🏓 Latency:",a,"ms")})})}disconnect(){this.socket&&(this.stopHeartbeat(),this.socket.disconnect(),this.socket=null,this.connectionState="disconnected",this.recordConnectionEvent("manual_disconnect",!0))}isConnected(){var t;return((t=this.socket)==null?void 0:t.connected)??!1}getSocketId(){var t;return(t=this.socket)==null?void 0:t.id}getConnectionState(){return this.connectionState}getDiagnosticInfo(){return{connectionState:this.connectionState,reconnectAttempts:this.reconnectAttempts,maxReconnectAttempts:this.adaptiveConfig.maxReconnectionAttempts,lastDisconnectReason:this.lastDisconnectReason,networkQuality:this.networkQuality,connectionHistory:this.connectionHistory.slice(-10),adaptiveConfig:this.adaptiveConfig,socketId:this.getSocketId(),isConnected:this.isConnected()}}forceReconnect(){return console.log("🔄 Forzando reconexión manual..."),this.socket&&this.socket.disconnect(),this.reconnectAttempts=0,this.connect()}async checkConnectionHealth(){var t;return(t=this.socket)!=null&&t.connected?new Promise(r=>{const s=setTimeout(()=>{r(!1)},5e3);this.socket.emit("health-check",Date.now(),n=>{clearTimeout(s),r(!!n)})}):!1}joinGameRoom(t){var r;if(!((r=this.socket)!=null&&r.connected))throw new Error("Socket no conectado");console.log("👥 Uniéndose a sala del juego:",t),this.socket.emit("join-game-room",t)}leaveGameRoom(t){var r;(r=this.socket)!=null&&r.connected&&(console.log("👋 Abandonando sala del juego:",t),this.socket.emit("leave-game-room",t))}markNumber(t,r,s){var n;(n=this.socket)!=null&&n.connected&&(console.log("✅ Marcando número:",s,"en cartón:",r),this.socket.emit("mark-number",{gameId:t,cardId:r,number:s}))}claimBingo(t,r,s,n){var a;(a=this.socket)!=null&&a.connected&&(console.log("🎉 Reclamando BINGO:",{gameId:t,cardId:r,pattern:s}),this.socket.emit("bingo-claimed",{gameId:t,cardId:r,pattern:s,userId:n}))}onJoinedGameRoom(t){var r;(r=this.socket)==null||r.on("joined-game-room",t)}onPlayerJoined(t){var r;(r=this.socket)==null||r.on("player-joined",t)}onPlayerLeft(t){var r;(r=this.socket)==null||r.on("player-left",t)}onNewBallDrawn(t){var r;(r=this.socket)==null||r.on("new-ball-drawn",t)}onNumberMarked(t){var r;(r=this.socket)==null||r.on("number-marked",t)}onBingoWinner(t){var r;(r=this.socket)==null||r.on("bingo-winner",t)}onGameStatusUpdated(t){var r;(r=this.socket)==null||r.on("game-status-updated",t)}removeAllListeners(){var t;(t=this.socket)==null||t.removeAllListeners()}removeListener(t){var r;(r=this.socket)==null||r.off(t)}}const ye=new Ll;var ka=(e=>(e.NETWORK="NETWORK",e.AUTH="AUTH",e.VALIDATION="VALIDATION",e.SERVER="SERVER",e.SOCKET="SOCKET",e.UNKNOWN="UNKNOWN",e))(ka||{}),Na=(e=>(e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.CRITICAL="CRITICAL",e))(Na||{});const Dl=()=>{const{toast:e}=rr(),t=j.useRef([]),r=j.useRef(new Map),s=j.useCallback(()=>`error-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,[]),n=j.useCallback(g=>{const N=g.message.toLowerCase();return N.includes("network")||N.includes("fetch")||N.includes("timeout")||N.includes("offline")?{type:"NETWORK",severity:"MEDIUM"}:N.includes("unauthorized")||N.includes("403")||N.includes("401")||N.includes("token")?{type:"AUTH",severity:"HIGH"}:N.includes("validation")||N.includes("invalid")||N.includes("required")||N.includes("400")?{type:"VALIDATION",severity:"LOW"}:N.includes("500")||N.includes("internal")||N.includes("server")||N.includes("503")?{type:"SERVER",severity:"HIGH"}:N.includes("socket")||N.includes("disconnect")||N.includes("connect_error")?{type:"SOCKET",severity:"MEDIUM"}:{type:"UNKNOWN",severity:"MEDIUM"}},[]),a=j.useCallback(g=>{switch(g.type){case"NETWORK":return"Problema de conexión. Verifica tu internet.";case"AUTH":return"Sesión expirada. Inicia sesión nuevamente.";case"VALIDATION":return"Datos inválidos. Revisa la información ingresada.";case"SERVER":return"Error del servidor. Intenta más tarde.";case"SOCKET":return"Conexión en tiempo real perdida. Reconectando...";default:return g.message||"Error inesperado. Intenta nuevamente."}},[]),o=j.useCallback(g=>!(g.autoRetry===!1||g.severity==="CRITICAL"||g.type==="AUTH"||g.type==="VALIDATION"),[]),l=j.useCallback(g=>{if(!g.onRetry)return;const N=g.retryDelay||Math.min(1e3*Math.pow(2,g.retryCount),3e4),R=setTimeout(async()=>{try{await g.onRetry(),e.success("Operación completada exitosamente"),r.current.delete(g.id)}catch{const E=g.retryCount+1,p=g.maxRetries||3;if(E<p){const b={...g,retryCount:E};l(b)}else e.error(`Error persistente: ${a(g)}`)}},N);r.current.set(g.id,R)},[e,a]),c=j.useCallback(async(g,N)=>{let R;if(g instanceof Error){const{type:p,severity:b}=n(g);R={type:p,severity:b,message:g.message,originalError:g,...N}}else R={...g,...N};const O={...R,id:s(),timestamp:new Date,retryCount:0};t.current.push(O),t.current.length>50&&(t.current=t.current.slice(-50));const E=a(R);switch(R.severity){case"LOW":e.info(E);break;case"MEDIUM":e.warning(E);break;case"HIGH":e.error(E);break;case"CRITICAL":e.error(`Error crítico: ${E}`);break}return o(R)&&R.onRetry&&l(O),O.id},[n,s,a,o,l,e]),d=j.useCallback(g=>{const N=r.current.get(g);N&&(clearTimeout(N),r.current.delete(g))},[]),w=j.useCallback(()=>{r.current.forEach(g=>clearTimeout(g)),r.current.clear()},[]),v=j.useCallback(()=>[...t.current],[]);return{handleError:c,cancelRetry:d,clearAllRetries:w,getErrorHistory:v,handlers:{network:(g,N)=>c(g,{type:"NETWORK",severity:"MEDIUM",onRetry:N,autoRetry:!0,maxRetries:3,retryDelay:2e3}),auth:g=>c(g,{type:"AUTH",severity:"HIGH",autoRetry:!1}),validation:(g,N)=>c(g,{type:"VALIDATION",severity:"LOW",context:N,autoRetry:!1}),socket:(g,N)=>c(g,{type:"SOCKET",severity:"MEDIUM",onRetry:N,autoRetry:!0,maxRetries:5,retryDelay:1e3}),critical:(g,N)=>c(g,{type:"UNKNOWN",severity:"CRITICAL",context:N,autoRetry:!1})}}},Ml=()=>{const[e,t]=j.useState({isOnline:navigator.onLine,connectionType:"unknown",quality:"good",latency:null,downloadSpeed:null,saveData:!1,lastChecked:new Date}),r=j.useRef([]),s=j.useRef(null),n=j.useCallback(()=>{const p=navigator.connection;if(!p)return"unknown";const b=p.effectiveType;return b==="slow-2g"||b==="2g"||b==="3g"||b==="4g"?"cellular":p.downlink&&p.downlink>20?"ethernet":"wifi"},[]),a=j.useCallback((p,b)=>{if(!navigator.onLine)return"offline";if(p!==null&&b!==null)return p<100&&b>10?"excellent":p<300&&b>5?"good":p<1e3&&b>1?"poor":"very_poor";if(p!==null)return p<100?"excellent":p<300?"good":p<1e3?"poor":"very_poor";if(b!==null)return b>10?"excellent":b>5?"good":b>1?"poor":"very_poor";const f=navigator.connection;if(f!=null&&f.effectiveType)switch(f.effectiveType){case"4g":return"excellent";case"3g":return"good";case"2g":return"poor";case"slow-2g":return"very_poor";default:return"good"}return"good"},[]),o=j.useCallback(async()=>{try{const p=performance.now(),b=await fetch("/favicon.ico",{method:"HEAD",cache:"no-cache"}),f=performance.now(),k=Math.round(f-p);r.current.push(k),r.current.length>10&&(r.current=r.current.slice(-10));const T=r.current.reduce((P,S)=>P+S,0)/r.current.length;return Math.round(T)}catch(p){return console.warn("Failed to measure latency:",p),null}},[]),l=j.useCallback(async()=>{try{s.current&&s.current.abort(),s.current=new AbortController;const p=performance.now(),f=await(await fetch("/favicon.ico",{signal:s.current.signal,cache:"no-cache"})).blob(),T=(performance.now()-p)/1e3,S=f.size*8/T/(1024*1024);return Math.max(S,.1)}catch(p){return p instanceof Error&&p.name!=="AbortError"&&console.warn("Failed to measure download speed:",p),null}},[]),c=j.useCallback(async()=>{const p=navigator.onLine,b=navigator.connection;let f=null,k=null;if(p){const[S,A]=await Promise.allSettled([o(),b!=null&&b.downlink?Promise.resolve(b.downlink):l()]);f=S.status==="fulfilled"?S.value:null,k=A.status==="fulfilled"?A.value:null}const T=n(),P=a(f,k);t({isOnline:p,connectionType:T,quality:P,latency:f,downloadSpeed:k,saveData:(b==null?void 0:b.saveData)??!1,lastChecked:new Date})},[n,a,o,l]),d=j.useCallback(()=>{c()},[c]),w=j.useCallback(()=>{c()},[c]);j.useEffect(()=>{window.addEventListener("online",d),window.addEventListener("offline",d);const p=navigator.connection;p&&p.addEventListener&&p.addEventListener("change",w),c();const b=setInterval(c,3e4);return()=>{window.removeEventListener("online",d),window.removeEventListener("offline",d),p&&p.removeEventListener&&p.removeEventListener("change",w),clearInterval(b),s.current&&s.current.abort()}},[d,w,c]);const v=j.useCallback(()=>{c()},[c]),x=e.isOnline,g=!e.isOnline,N=e.quality==="excellent"||e.quality==="good",R=e.quality==="poor"||e.quality==="very_poor",O=e.saveData||R,E=j.useCallback(()=>{const p=navigator.connection;return{effectiveType:p==null?void 0:p.effectiveType,downlink:p==null?void 0:p.downlink,rtt:p==null?void 0:p.rtt,saveData:p==null?void 0:p.saveData}},[]);return{networkStatus:e,isOnline:x,isOffline:g,hasGoodConnection:N,hasPoorConnection:R,isSlowConnection:O,refreshNetworkStatus:v,getExtendedInfo:E}},Vl=()=>{const[e,t]=j.useState([]),[r,s]=j.useState("idle"),[n,a]=j.useState(!1),[o,l]=j.useState({totalOperations:0,pendingOperations:0,successfulOperations:0,failedOperations:0,averageRetryTime:0,successRate:0}),{handleError:c}=Dl(),{isOnline:d,hasGoodConnection:w}=Ml(),v=j.useRef(null),x=j.useRef(new Map),g=j.useRef([]),N=j.useCallback(()=>`op-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,[]),R=j.useCallback((u,y)=>{const M=Math.max(.5,(6-y)/5),F=w?1:2,D=Math.min(1e3*Math.pow(2,u)*M*F,6e4),G=D*.25*(Math.random()-.5);return Math.round(D+G)},[w]),O=j.useCallback(()=>{const u=g.current.length,y=g.current.filter(D=>D.success).length,m=g.current.filter(D=>!D.success).length,L=e.length,M=u>0?g.current.reduce((D,G)=>D+G.duration,0)/u:0,F=u>0?y/u*100:0;l({totalOperations:u,pendingOperations:L,successfulOperations:y,failedOperations:m,averageRetryTime:Math.round(M),successRate:Math.round(F*100)/100})},[e.length]),E=j.useCallback((u,y,m={})=>{const L=N(),M={id:L,name:u,operation:y,context:m.context,priority:m.priority||3,maxRetries:m.maxRetries||3,currentRetries:0,createdAt:new Date,metadata:m.metadata};return t(F=>[...F,M].sort((G,K)=>G.priority-K.priority)),console.log(`📋 Operación añadida a la cola: ${u} (${L})`),L},[N]),p=j.useCallback(u=>{t(m=>m.filter(L=>L.id!==u));const y=x.current.get(u);y&&(clearTimeout(y),x.current.delete(u))},[]),b=j.useCallback(async u=>{const y=Date.now();try{console.log(`🔄 Procesando: ${u.name} (intento ${u.currentRetries+1}/${u.maxRetries})`),await u.operation();const m=Date.now()-y;return g.current.push({id:u.id,success:!0,duration:m,timestamp:new Date}),console.log(`✅ Operación exitosa: ${u.name} (${m}ms)`),!0}catch(m){const L=Date.now()-y;return g.current.push({id:u.id,success:!1,duration:L,timestamp:new Date}),console.log(`❌ Operación falló: ${u.name} (${L}ms)`,m),m instanceof Error&&c(m,{context:`Retry Queue: ${u.name}`,type:ka.UNKNOWN,severity:Na.LOW}),!1}},[c]),f=j.useCallback(u=>{const y=R(u.currentRetries,u.priority),m=new Date(Date.now()+y);console.log(`⏰ Programando reintento de "${u.name}" en ${y}ms`);const L=setTimeout(()=>{t(M=>M.map(F=>F.id===u.id?{...F,currentRetries:F.currentRetries+1,lastAttemptAt:new Date}:F)),x.current.delete(u.id)},y);x.current.set(u.id,L),t(M=>M.map(F=>F.id===u.id?{...F,nextRetryAt:m}:F))},[R]),k=j.useCallback(async()=>{if(!d||r==="paused"||r==="stopped")return;a(!0),s("processing");const u=e.filter(L=>!L.nextRetryAt||L.nextRetryAt<=new Date);if(u.length===0){a(!1),s("idle");return}const y=u[0];await b(y)?p(y.id):y.currentRetries<y.maxRetries?f(y):(console.log(`🚫 Operación descartada tras ${y.maxRetries} intentos: ${y.name}`),p(y.id)),O(),a(!1),s((e.length>0,"idle"))},[d,r,e,b,p,f,O]),T=j.useCallback(()=>{if(r==="stopped")return;s("processing");const u=()=>{k(),v.current=setTimeout(u,2e3)};u()},[r,k]),P=j.useCallback(()=>{s("paused"),v.current&&(clearTimeout(v.current),v.current=null)},[]),S=j.useCallback(()=>{r==="paused"&&T()},[r,T]),A=j.useCallback(()=>{s("stopped"),v.current&&(clearTimeout(v.current),v.current=null),x.current.forEach(u=>clearTimeout(u)),x.current.clear()},[]),C=j.useCallback(()=>{A(),t([]),x.current.clear(),g.current=[],O()},[A,O]);return j.useEffect(()=>{e.length>0&&r==="idle"&&d&&T()},[e.length,r,d,T]),j.useEffect(()=>{!d&&r==="processing"?P():d&&r==="paused"&&e.length>0&&S()},[d,r,e.length,P,S]),j.useEffect(()=>()=>{A()},[A]),{queue:e,status:r,isProcessing:n,stats:o,enqueue:E,dequeue:p,startProcessing:T,pauseProcessing:P,resumeProcessing:S,stopProcessing:A,clearQueue:C,helpers:{apiCall:(u,y,m=2)=>E(`API: ${u}`,y,{priority:m,maxRetries:3}),socketOp:(u,y,m=1)=>E(`Socket: ${u}`,y,{priority:m,maxRetries:5}),dataSync:(u,y,m=3)=>E(`Sync: ${u}`,y,{priority:m,maxRetries:2})}}},_a=e=>{const[t,r]=j.useState(0),[s,n]=j.useState(null),[a,o]=j.useState([]),[l,c]=j.useState(""),[d,w]=j.useState(0),[v,x]=j.useState(null),{helpers:g}=Vl(),N=j.useCallback(()=>{if(!e||!ye.isConnected()){e&&g.socketOp("unirse-sala",()=>{if(ye.isConnected())ye.joinGameRoom(e);else throw new Error("Socket no conectado")},2);return}ye.joinGameRoom(e)},[e,g]),R=j.useCallback(()=>{!e||!ye.isConnected()||ye.leaveGameRoom(e)},[e]),O=j.useCallback((p,b)=>{if(!e||!ye.isConnected()){e&&g.socketOp(`marcar-${b}`,()=>{if(ye.isConnected())ye.markNumber(e,p,b);else throw new Error("Socket no conectado")},1);return}ye.markNumber(e,p,b)},[e,g]),E=j.useCallback((p,b,f)=>{if(!e||!ye.isConnected()){e&&g.socketOp("reclamar-bingo",()=>{if(ye.isConnected())ye.claimBingo(e,p,b,f);else throw new Error("Socket no conectado para BINGO")},1);return}ye.claimBingo(e,p,b,f)},[e,g]);return j.useEffect(()=>{if(ye.isConnected())return ye.onJoinedGameRoom(p=>{console.log("🎮 Unido a sala:",p),r(p.roomSize)}),ye.onPlayerJoined(p=>{console.log("👥 Jugador se unió:",p.playerId),r(b=>b+1)}),ye.onPlayerLeft(p=>{console.log("👋 Jugador se fue:",p.playerId),r(b=>Math.max(0,b-1))}),ye.onNewBallDrawn(p=>{console.log("🎱 Nueva bola:",p.ball),n(p.ball),o(p.ballsDrawn)}),ye.onNumberMarked(p=>{console.log("✅ Número marcado:",p.number)}),ye.onBingoWinner(p=>{console.log("🎉 ¡BINGO!:",p),x({cardId:p.cardId,pattern:p.pattern,userId:p.userId,timestamp:p.timestamp})}),ye.onGameStatusUpdated(p=>{console.log("🎮 Estado del juego:",p.status),c(p.status),p.playerCount!==void 0&&w(p.playerCount)}),()=>{ye.removeAllListeners()}},[]),j.useEffect(()=>(e&&ye.isConnected()&&N(),()=>{e&&R()}),[e,N,R]),{roomSize:t,lastBall:s,ballsDrawn:a,gameStatus:l,playerCount:d,bingoWinner:v,joinRoom:N,leaveRoom:R,markNumber:O,claimBingo:E,clearBingoWinner:()=>x(null)}},_s="-",Fl=e=>{const t=Gl(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{const l=o.split(_s);return l[0]===""&&l.length!==1&&l.shift(),ja(l,t)||Bl(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},ja=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),n=s?ja(e.slice(1),s):void 0;if(n)return n;if(t.validators.length===0)return;const a=e.join(_s);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},Sn=/^\[(.+)\]$/,Bl=e=>{if(Sn.test(e)){const t=Sn.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Gl=e=>{const{theme:t,classGroups:r}=e,s={nextPart:new Map,validators:[]};for(const n in r)os(r[n],s,n,t);return s},os=(e,t,r,s)=>{e.forEach(n=>{if(typeof n=="string"){const a=n===""?t:An(t,n);a.classGroupId=r;return}if(typeof n=="function"){if($l(n)){os(n(s),t,r,s);return}t.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([a,o])=>{os(o,An(t,a),r,s)})})},An=(e,t)=>{let r=e;return t.split(_s).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},$l=e=>e.isThemeGetter,zl=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const n=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,s=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return n(a,o),o},set(a,o){r.has(a)?r.set(a,o):n(a,o)}}},ls="!",cs=":",Ul=cs.length,ql=e=>{const{prefix:t,experimentalParseClassName:r}=e;let s=n=>{const a=[];let o=0,l=0,c=0,d;for(let N=0;N<n.length;N++){let R=n[N];if(o===0&&l===0){if(R===cs){a.push(n.slice(c,N)),c=N+Ul;continue}if(R==="/"){d=N;continue}}R==="["?o++:R==="]"?o--:R==="("?l++:R===")"&&l--}const w=a.length===0?n:n.substring(c),v=Ql(w),x=v!==w,g=d&&d>c?d-c:void 0;return{modifiers:a,hasImportantModifier:x,baseClassName:v,maybePostfixModifierPosition:g}};if(t){const n=t+cs,a=s;s=o=>o.startsWith(n)?a(o.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(r){const n=s;s=a=>r({className:a,parseClassName:n})}return s},Ql=e=>e.endsWith(ls)?e.substring(0,e.length-1):e.startsWith(ls)?e.substring(1):e,Hl=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const n=[];let a=[];return s.forEach(o=>{o[0]==="["||t[o]?(n.push(...a.sort(),o),a=[]):a.push(o)}),n.push(...a.sort()),n}},Zl=e=>({cache:zl(e.cacheSize),parseClassName:ql(e),sortModifiers:Hl(e),...Fl(e)}),Wl=/\s+/,Kl=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n,sortModifiers:a}=t,o=[],l=e.trim().split(Wl);let c="";for(let d=l.length-1;d>=0;d-=1){const w=l[d],{isExternal:v,modifiers:x,hasImportantModifier:g,baseClassName:N,maybePostfixModifierPosition:R}=r(w);if(v){c=w+(c.length>0?" "+c:c);continue}let O=!!R,E=s(O?N.substring(0,R):N);if(!E){if(!O){c=w+(c.length>0?" "+c:c);continue}if(E=s(N),!E){c=w+(c.length>0?" "+c:c);continue}O=!1}const p=a(x).join(":"),b=g?p+ls:p,f=b+E;if(o.includes(f))continue;o.push(f);const k=n(E,O);for(let T=0;T<k.length;++T){const P=k[T];o.push(b+P)}c=w+(c.length>0?" "+c:c)}return c};function Jl(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Ca(t))&&(s&&(s+=" "),s+=r);return s}const Ca=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=Ca(e[s]))&&(r&&(r+=" "),r+=t);return r};function Yl(e,...t){let r,s,n,a=o;function o(c){const d=t.reduce((w,v)=>v(w),e());return r=Zl(d),s=r.cache.get,n=r.cache.set,a=l,l(c)}function l(c){const d=s(c);if(d)return d;const w=Kl(c,r);return n(c,w),w}return function(){return a(Jl.apply(null,arguments))}}const _e=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Sa=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Aa=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Xl=/^\d+\/\d+$/,ec=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tc=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,sc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ct=e=>Xl.test(e),ie=e=>!!e&&!Number.isNaN(Number(e)),st=e=>!!e&&Number.isInteger(Number(e)),Zr=e=>e.endsWith("%")&&ie(e.slice(0,-1)),Xe=e=>ec.test(e),ac=()=>!0,ic=e=>tc.test(e)&&!rc.test(e),Ea=()=>!1,oc=e=>sc.test(e),lc=e=>nc.test(e),cc=e=>!H(e)&&!Z(e),dc=e=>Dt(e,Ta,Ea),H=e=>Sa.test(e),ft=e=>Dt(e,Oa,ic),Wr=e=>Dt(e,gc,ie),En=e=>Dt(e,Ia,Ea),uc=e=>Dt(e,Ra,lc),ur=e=>Dt(e,Pa,oc),Z=e=>Aa.test(e),zt=e=>Mt(e,Oa),fc=e=>Mt(e,pc),In=e=>Mt(e,Ia),mc=e=>Mt(e,Ta),hc=e=>Mt(e,Ra),fr=e=>Mt(e,Pa,!0),Dt=(e,t,r)=>{const s=Sa.exec(e);return s?s[1]?t(s[1]):r(s[2]):!1},Mt=(e,t,r=!1)=>{const s=Aa.exec(e);return s?s[1]?t(s[1]):r:!1},Ia=e=>e==="position"||e==="percentage",Ra=e=>e==="image"||e==="url",Ta=e=>e==="length"||e==="size"||e==="bg-size",Oa=e=>e==="length",gc=e=>e==="number",pc=e=>e==="family-name",Pa=e=>e==="shadow",yc=()=>{const e=_e("color"),t=_e("font"),r=_e("text"),s=_e("font-weight"),n=_e("tracking"),a=_e("leading"),o=_e("breakpoint"),l=_e("container"),c=_e("spacing"),d=_e("radius"),w=_e("shadow"),v=_e("inset-shadow"),x=_e("text-shadow"),g=_e("drop-shadow"),N=_e("blur"),R=_e("perspective"),O=_e("aspect"),E=_e("ease"),p=_e("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],f=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...f(),Z,H],T=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],S=()=>[Z,H,c],A=()=>[Ct,"full","auto",...S()],C=()=>[st,"none","subgrid",Z,H],_=()=>["auto",{span:["full",st,Z,H]},st,Z,H],u=()=>[st,"auto",Z,H],y=()=>["auto","min","max","fr",Z,H],m=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],L=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...S()],F=()=>[Ct,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],D=()=>[e,Z,H],G=()=>[...f(),In,En,{position:[Z,H]}],K=()=>["no-repeat",{repeat:["","x","y","space","round"]}],te=()=>["auto","cover","contain",mc,dc,{size:[Z,H]}],le=()=>[Zr,zt,ft],ae=()=>["","none","full",d,Z,H],re=()=>["",ie,zt,ft],Q=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>[ie,Zr,In,En],ve=()=>["","none",N,Z,H],Ce=()=>["none",ie,Z,H],de=()=>["none",ie,Z,H],ue=()=>[ie,Z,H],xe=()=>[Ct,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Xe],breakpoint:[Xe],color:[ac],container:[Xe],"drop-shadow":[Xe],ease:["in","out","in-out"],font:[cc],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Xe],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Xe],shadow:[Xe],spacing:["px",ie],text:[Xe],"text-shadow":[Xe],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ct,H,Z,O]}],container:["container"],columns:[{columns:[ie,H,Z,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[st,"auto",Z,H]}],basis:[{basis:[Ct,"full","auto",l,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ie,Ct,"auto","initial","none",H]}],grow:[{grow:["",ie,Z,H]}],shrink:[{shrink:["",ie,Z,H]}],order:[{order:[st,"first","last","none",Z,H]}],"grid-cols":[{"grid-cols":C()}],"col-start-end":[{col:_()}],"col-start":[{"col-start":u()}],"col-end":[{"col-end":u()}],"grid-rows":[{"grid-rows":C()}],"row-start-end":[{row:_()}],"row-start":[{"row-start":u()}],"row-end":[{"row-end":u()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":y()}],"auto-rows":[{"auto-rows":y()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...m(),"normal"]}],"justify-items":[{"justify-items":[...L(),"normal"]}],"justify-self":[{"justify-self":["auto",...L()]}],"align-content":[{content:["normal",...m()]}],"align-items":[{items:[...L(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...L(),{baseline:["","last"]}]}],"place-content":[{"place-content":m()}],"place-items":[{"place-items":[...L(),"baseline"]}],"place-self":[{"place-self":["auto",...L()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[l,"screen",...F()]}],"min-w":[{"min-w":[l,"screen","none",...F()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",r,zt,ft]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,Z,Wr]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Zr,H]}],"font-family":[{font:[fc,H,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,Z,H]}],"line-clamp":[{"line-clamp":[ie,"none",Z,Wr]}],leading:[{leading:[a,...S()]}],"list-image":[{"list-image":["none",Z,H]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Z,H]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:D()}],"text-color":[{text:D()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:[ie,"from-font","auto",Z,ft]}],"text-decoration-color":[{decoration:D()}],"underline-offset":[{"underline-offset":[ie,"auto",Z,H]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z,H]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z,H]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:K()}],"bg-size":[{bg:te()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},st,Z,H],radial:["",Z,H],conic:[st,Z,H]},hc,uc]}],"bg-color":[{bg:D()}],"gradient-from-pos":[{from:le()}],"gradient-via-pos":[{via:le()}],"gradient-to-pos":[{to:le()}],"gradient-from":[{from:D()}],"gradient-via":[{via:D()}],"gradient-to":[{to:D()}],rounded:[{rounded:ae()}],"rounded-s":[{"rounded-s":ae()}],"rounded-e":[{"rounded-e":ae()}],"rounded-t":[{"rounded-t":ae()}],"rounded-r":[{"rounded-r":ae()}],"rounded-b":[{"rounded-b":ae()}],"rounded-l":[{"rounded-l":ae()}],"rounded-ss":[{"rounded-ss":ae()}],"rounded-se":[{"rounded-se":ae()}],"rounded-ee":[{"rounded-ee":ae()}],"rounded-es":[{"rounded-es":ae()}],"rounded-tl":[{"rounded-tl":ae()}],"rounded-tr":[{"rounded-tr":ae()}],"rounded-br":[{"rounded-br":ae()}],"rounded-bl":[{"rounded-bl":ae()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Q(),"hidden","none"]}],"divide-style":[{divide:[...Q(),"hidden","none"]}],"border-color":[{border:D()}],"border-color-x":[{"border-x":D()}],"border-color-y":[{"border-y":D()}],"border-color-s":[{"border-s":D()}],"border-color-e":[{"border-e":D()}],"border-color-t":[{"border-t":D()}],"border-color-r":[{"border-r":D()}],"border-color-b":[{"border-b":D()}],"border-color-l":[{"border-l":D()}],"divide-color":[{divide:D()}],"outline-style":[{outline:[...Q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ie,Z,H]}],"outline-w":[{outline:["",ie,zt,ft]}],"outline-color":[{outline:D()}],shadow:[{shadow:["","none",w,fr,ur]}],"shadow-color":[{shadow:D()}],"inset-shadow":[{"inset-shadow":["none",v,fr,ur]}],"inset-shadow-color":[{"inset-shadow":D()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:D()}],"ring-offset-w":[{"ring-offset":[ie,ft]}],"ring-offset-color":[{"ring-offset":D()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":D()}],"text-shadow":[{"text-shadow":["none",x,fr,ur]}],"text-shadow-color":[{"text-shadow":D()}],opacity:[{opacity:[ie,Z,H]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ie]}],"mask-image-linear-from-pos":[{"mask-linear-from":X()}],"mask-image-linear-to-pos":[{"mask-linear-to":X()}],"mask-image-linear-from-color":[{"mask-linear-from":D()}],"mask-image-linear-to-color":[{"mask-linear-to":D()}],"mask-image-t-from-pos":[{"mask-t-from":X()}],"mask-image-t-to-pos":[{"mask-t-to":X()}],"mask-image-t-from-color":[{"mask-t-from":D()}],"mask-image-t-to-color":[{"mask-t-to":D()}],"mask-image-r-from-pos":[{"mask-r-from":X()}],"mask-image-r-to-pos":[{"mask-r-to":X()}],"mask-image-r-from-color":[{"mask-r-from":D()}],"mask-image-r-to-color":[{"mask-r-to":D()}],"mask-image-b-from-pos":[{"mask-b-from":X()}],"mask-image-b-to-pos":[{"mask-b-to":X()}],"mask-image-b-from-color":[{"mask-b-from":D()}],"mask-image-b-to-color":[{"mask-b-to":D()}],"mask-image-l-from-pos":[{"mask-l-from":X()}],"mask-image-l-to-pos":[{"mask-l-to":X()}],"mask-image-l-from-color":[{"mask-l-from":D()}],"mask-image-l-to-color":[{"mask-l-to":D()}],"mask-image-x-from-pos":[{"mask-x-from":X()}],"mask-image-x-to-pos":[{"mask-x-to":X()}],"mask-image-x-from-color":[{"mask-x-from":D()}],"mask-image-x-to-color":[{"mask-x-to":D()}],"mask-image-y-from-pos":[{"mask-y-from":X()}],"mask-image-y-to-pos":[{"mask-y-to":X()}],"mask-image-y-from-color":[{"mask-y-from":D()}],"mask-image-y-to-color":[{"mask-y-to":D()}],"mask-image-radial":[{"mask-radial":[Z,H]}],"mask-image-radial-from-pos":[{"mask-radial-from":X()}],"mask-image-radial-to-pos":[{"mask-radial-to":X()}],"mask-image-radial-from-color":[{"mask-radial-from":D()}],"mask-image-radial-to-color":[{"mask-radial-to":D()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":f()}],"mask-image-conic-pos":[{"mask-conic":[ie]}],"mask-image-conic-from-pos":[{"mask-conic-from":X()}],"mask-image-conic-to-pos":[{"mask-conic-to":X()}],"mask-image-conic-from-color":[{"mask-conic-from":D()}],"mask-image-conic-to-color":[{"mask-conic-to":D()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:K()}],"mask-size":[{mask:te()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Z,H]}],filter:[{filter:["","none",Z,H]}],blur:[{blur:ve()}],brightness:[{brightness:[ie,Z,H]}],contrast:[{contrast:[ie,Z,H]}],"drop-shadow":[{"drop-shadow":["","none",g,fr,ur]}],"drop-shadow-color":[{"drop-shadow":D()}],grayscale:[{grayscale:["",ie,Z,H]}],"hue-rotate":[{"hue-rotate":[ie,Z,H]}],invert:[{invert:["",ie,Z,H]}],saturate:[{saturate:[ie,Z,H]}],sepia:[{sepia:["",ie,Z,H]}],"backdrop-filter":[{"backdrop-filter":["","none",Z,H]}],"backdrop-blur":[{"backdrop-blur":ve()}],"backdrop-brightness":[{"backdrop-brightness":[ie,Z,H]}],"backdrop-contrast":[{"backdrop-contrast":[ie,Z,H]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ie,Z,H]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ie,Z,H]}],"backdrop-invert":[{"backdrop-invert":["",ie,Z,H]}],"backdrop-opacity":[{"backdrop-opacity":[ie,Z,H]}],"backdrop-saturate":[{"backdrop-saturate":[ie,Z,H]}],"backdrop-sepia":[{"backdrop-sepia":["",ie,Z,H]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Z,H]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ie,"initial",Z,H]}],ease:[{ease:["linear","initial",E,Z,H]}],delay:[{delay:[ie,Z,H]}],animate:[{animate:["none",p,Z,H]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[R,Z,H]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:Ce()}],"rotate-x":[{"rotate-x":Ce()}],"rotate-y":[{"rotate-y":Ce()}],"rotate-z":[{"rotate-z":Ce()}],scale:[{scale:de()}],"scale-x":[{"scale-x":de()}],"scale-y":[{"scale-y":de()}],"scale-z":[{"scale-z":de()}],"scale-3d":["scale-3d"],skew:[{skew:ue()}],"skew-x":[{"skew-x":ue()}],"skew-y":[{"skew-y":ue()}],transform:[{transform:[Z,H,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:D()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:D()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z,H]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z,H]}],fill:[{fill:["none",...D()]}],"stroke-w":[{stroke:[ie,zt,ft,Wr]}],stroke:[{stroke:["none",...D()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},xc=Yl(yc);function $e(...e){return xc(Te(e))}const bc=({number:e,isHighlighted:t=!1,winningPatterns:r=[],size:s="md",disabled:n=!1,autoMark:a=!0,onClick:o,className:l,isNewlyMarked:c=!1,isRecentlyDrawn:d=!1})=>{const{number:w,isMarked:v,isFree:x,column:g}=e,[N,R]=j.useState(!1),[O,E]=j.useState(!1);j.useEffect(()=>{if(v&&c){R(!0),E(!0);const T=setTimeout(()=>{R(!1),E(!1)},1200);return()=>clearTimeout(T)}},[v,c]);const p=()=>{!n&&!x&&o&&(!a||!v)&&(E(!0),o(e),setTimeout(()=>E(!1),600))},b=r.length>0,f={sm:"h-10 w-10 text-sm",md:"h-14 w-14 text-base",lg:"h-18 w-18 text-lg"},k=T=>({B:"border-blue-500",I:"border-red-500",N:"border-green-500",G:"border-yellow-500",O:"border-purple-500"})[T]||"border-gray-400";return i.jsxs("button",{onClick:p,disabled:n||a&&x,className:$e("relative flex items-center justify-center border-2 rounded-lg font-bold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-1 transform-gpu touch-manipulation",f[s],k(g),x&&["bg-gradient-to-br from-gray-100 to-gray-200","text-gray-600 cursor-default","shadow-inner"],v&&!x&&["bg-gradient-to-br from-green-400 to-green-600","text-white shadow-lg","border-green-600",N?"animate-bounce scale-110":"scale-95"],!v&&!x&&["bg-white hover:bg-gray-50","text-gray-800 shadow-sm","hover:shadow-md hover:scale-105 hover:-translate-y-0.5",!n&&"cursor-pointer","active:scale-95 active:translate-y-0"],t&&!v&&["ring-4 ring-yellow-400 ring-offset-2","bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-400","animate-pulse scale-110 shadow-lg shadow-yellow-200"],d&&["animate-ping scale-105"],b&&["ring-4 ring-gold-400 ring-offset-2","shadow-xl shadow-gold-200",v&&"bg-gradient-to-br from-gold-400 to-gold-600","animate-pulse"],n&&["opacity-50 cursor-not-allowed","hover:transform-none hover:shadow-none"],l),"aria-label":x?"Free space":`${g}${w}${v?" marked":""}`,"aria-pressed":v,children:[i.jsx("span",{className:$e("relative z-10 transition-all duration-300",O&&"scale-125",N&&"animate-pulse"),children:x?"FREE":w}),v&&!x&&i.jsx("div",{className:$e("absolute inset-0 flex items-center justify-center transition-all duration-500",N&&"animate-bounce"),children:i.jsx("div",{className:$e("w-6 h-6 bg-white bg-opacity-30 rounded-full flex items-center justify-center transition-all duration-300",O&&"scale-150 rotate-12"),children:i.jsx("svg",{className:$e("w-4 h-4 text-white transition-all duration-300",O&&"scale-125"),fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),b&&i.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 bg-gold-400 rounded-full animate-bounce shadow-lg",children:i.jsx("div",{className:"absolute inset-0 bg-gold-400 rounded-full animate-ping opacity-75"})}),t&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-200 to-yellow-300 bg-opacity-60 rounded-lg animate-ping"}),d&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-200 to-purple-200 bg-opacity-40 rounded-lg animate-pulse"}),i.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-white rounded-full animate-ping"}),i.jsx("div",{className:"absolute bottom-1 left-1 w-1.5 h-1.5 bg-white rounded-full animate-ping",style:{animationDelay:"0.5s"}})]}),O&&i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-green-300 bg-opacity-40 rounded-lg animate-ping"}),i.jsx("div",{className:"absolute top-0 left-1/2 w-1 h-1 bg-green-400 rounded-full animate-bounce transform -translate-x-1/2"}),i.jsx("div",{className:"absolute bottom-0 left-1/4 w-1 h-1 bg-green-400 rounded-full animate-bounce transform -translate-x-1/2",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"absolute bottom-0 right-1/4 w-1 h-1 bg-green-400 rounded-full animate-bounce transform translate-x-1/2",style:{animationDelay:"0.2s"}})]})]})},La=({card:e,gameId:t,disabled:r=!1,onAnnounceBingo:s,className:n})=>{const[a,o]=j.useState(!1),l=async()=>{if(!(r||a||e.isWinner))try{if(o(!0),s)await s(e.id);else{const w=await(await fetch(`/api/games/${t}/announce-bingo`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({cardId:e.id})})).json();w.isValid?console.log("¡BINGO VÁLIDO!",w):console.log("BINGO inválido:",w.message)}}catch(d){console.error("Error announcing BINGO:",d)}finally{o(!1)}},c=()=>e.markedNumbers.length>=10;return e.isWinner?i.jsxs("div",{className:$e("w-full p-3 rounded-lg text-center font-bold","bg-gradient-to-r from-gold-400 to-yellow-400","text-gold-900 border-2 border-gold-500","animate-pulse",n),children:[i.jsx("span",{className:"text-lg",children:"🎉 ¡GANADOR! 🎉"}),i.jsx("div",{className:"text-sm mt-1 opacity-80",children:e.winningPattern})]}):i.jsx(Ae,{onClick:l,disabled:r||a,className:$e("w-full font-bold text-lg py-3 transition-all duration-200",!r&&!a&&["bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700","text-white shadow-lg hover:shadow-xl transform hover:scale-105","border-2 border-red-400",c()&&"animate-pulse ring-2 ring-red-300"],a&&["bg-gradient-to-r from-yellow-400 to-orange-400","text-orange-900 animate-bounce","cursor-wait"],r&&["bg-gray-300 text-gray-500 cursor-not-allowed","border-gray-200"],n),children:a?i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-orange-900 border-t-transparent rounded-full animate-spin"}),"Verificando..."]}):i.jsxs("span",{className:"flex items-center justify-center gap-2",children:[i.jsx("span",{className:"text-2xl",children:"🎯"}),"¡BINGO!"]})})},Da={[je.LINE_HORIZONTAL_1]:[0,1,2,3,4],[je.LINE_HORIZONTAL_2]:[5,6,7,8,9],[je.LINE_HORIZONTAL_3]:[10,11,12,13,14],[je.LINE_HORIZONTAL_4]:[15,16,17,18,19],[je.LINE_HORIZONTAL_5]:[20,21,22,23,24],[je.LINE_VERTICAL_B]:[0,5,10,15,20],[je.LINE_VERTICAL_I]:[1,6,11,16,21],[je.LINE_VERTICAL_N]:[2,7,12,17,22],[je.LINE_VERTICAL_G]:[3,8,13,18,23],[je.LINE_VERTICAL_O]:[4,9,14,19,24],[je.DIAGONAL_TOP_LEFT]:[0,6,12,18,24],[je.DIAGONAL_TOP_RIGHT]:[4,8,12,16,20],[je.FOUR_CORNERS]:[0,4,20,24],[je.PATTERN_X]:[0,4,6,8,12,16,18,20,24],[je.PATTERN_T]:[0,1,2,3,4,12,17,22],[je.PATTERN_L]:[0,5,10,15,20,21,22,23,24],[je.FULL_CARD]:Array.from({length:25},(e,t)=>t)},vc=({patterns:e,size:t="md",animated:r=!0,className:s})=>{const n=j.useMemo(()=>{const c=new Set;return e.forEach(d=>{(Da[d]||[]).forEach(v=>c.add(v))}),c},[e]);if(e.length===0)return null;const o={sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"}[t],l=j.useMemo(()=>Array.from({length:25},(c,d)=>{const w=n.has(d),v=Math.floor(d/5),x=d%5;return w?i.jsxs("div",{className:$e("absolute rounded-lg pointer-events-none z-10",o,"top-0 left-0","bg-gradient-to-br from-gold-400/40 to-gold-600/40","border-2 border-gold-400","shadow-lg shadow-gold-200/50",r&&["animate-pulse","transition-all duration-500"]),style:{gridColumn:x+1,gridRow:v+1},children:[i.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-yellow-200/30 to-gold-300/30 rounded-md"}),i.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 bg-gold-500 rounded-full animate-bounce",style:{animationDelay:`${d*50}ms`}})]},d):null}),[n,o,r]);return i.jsxs("div",{className:$e("absolute inset-0 grid grid-cols-5 gap-1 pointer-events-none z-10",s),role:"presentation","aria-label":`Patrón ganador: ${e.join(", ")}`,children:[l,e.includes(je.FULL_CARD)&&i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-gold-200/20 via-transparent to-transparent animate-ping"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-yellow-200/20 via-transparent to-transparent animate-pulse",style:{animationDelay:"250ms"}})]})]})},wc=e=>j.useMemo(()=>{const t=[],r=new Set(e);return Object.entries(Da).forEach(([s,n])=>{n.every(o=>r.has(o))&&t.push(s)}),t},[e]),kc=({card:e,gameId:t,size:r="md",showHeader:s=!0,showStats:n=!0,autoMark:a=!0,disabled:o=!1,highlightWinningPattern:l=!0,showBingoButton:c=!0,onCellClick:d,onAnnounceBingo:w,className:v})=>{const[x]=Ol(),g=es(uo);es(fo);const[N,R]=j.useState(!1),[O,E]=j.useState(null),{lastBall:p}=_a(t||null);j.useEffect(()=>{!p||o||(E(p),R(!0),setTimeout(()=>{R(!1),E(null)},2e3))},[p,o]);const b=j.useMemo(()=>{const m=Array(5).fill(null).map(()=>Array(5).fill(null));return e.numbers.forEach(L=>{const M=Math.floor(L.position/5),F=L.position%5;M>=0&&M<5&&F>=0&&F<5&&m[M]&&(m[M][F]=L)}),m},[e.numbers]),f=["B","I","N","G","O"],k=j.useMemo(()=>{const m=new Set;return g!==null&&m.add(g),p!==null&&m.add(p),m},[g,p]),T=j.useMemo(()=>{const m=new Set;return O!==null&&m.add(O),m},[O]),P=j.useMemo(()=>e.numbers.filter(m=>m==null?void 0:m.isMarked).map(m=>m.position),[e.numbers]),S=wc(P),A=j.useMemo(()=>!l||!e.isWinner?[]:S,[l,e.isWinner,S]),C=j.useMemo(()=>{const m=new Map;return A.length>0&&e.numbers.forEach(L=>{L.isMarked&&m.set(L.position,A)}),m},[A,e.numbers]),_=j.useCallback(async m=>{if(!(o||m.isFree||m.isMarked))try{R(!0),d?d(m):m.number!==null&&await x({cardId:e.id,number:m.number}).unwrap()}catch(L){console.error("Error marking number:",L)}finally{setTimeout(()=>R(!1),300)}},[o,d,x,e.id]),u={sm:"p-2 gap-1",md:"p-4 gap-2",lg:"p-4 gap-2"},y={sm:"text-xs py-1",md:"text-sm py-2",lg:"text-lg py-3"};return i.jsxs("div",{className:$e("bg-white rounded-xl shadow-lg border-2 transition-all duration-300",e.isWinner&&["border-gold-400 shadow-gold-200 shadow-xl","bg-gradient-to-br from-gold-50 to-yellow-50"],!e.isWinner&&"border-gray-200 hover:shadow-xl",N&&"transform scale-105",o&&"opacity-60 pointer-events-none",u[r],v),children:[s&&i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["Cartón #",e.cardNumber]}),e.isWinner&&i.jsx("span",{className:"px-2 py-1 bg-gold-100 text-gold-800 text-xs rounded-full font-bold",children:"¡GANADOR!"})]}),n&&i.jsxs("div",{className:"text-xs text-gray-500",children:[e.markedNumbers.length,"/24 marcados"]})]}),i.jsx("div",{className:"grid grid-cols-5 gap-1 mb-2",children:f.map((m,L)=>i.jsx("div",{className:$e("text-center font-bold text-white rounded-lg",y[r],L===0&&"bg-blue-500",L===1&&"bg-red-500",L===2&&"bg-green-500",L===3&&"bg-yellow-500",L===4&&"bg-purple-500"),children:m},m))}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"grid grid-cols-5 gap-1 touch-manipulation",children:b.map((m,L)=>m.map((M,F)=>{if(!M)return null;const D=M&&M.number!==null?k.has(M.number):!1,G=M&&M.number!==null?T.has(M.number):!1,K=C.get(M.position)||[];return i.jsx(bc,{number:M,size:r,isHighlighted:D,winningPatterns:K,disabled:o,autoMark:a,onClick:_,className:G?"animate-pulse ring-2 ring-green-400":""},`${L}-${F}`)}))}),A.length>0&&i.jsx(vc,{patterns:A,size:r,animated:!o})]}),e.isWinner&&e.winningPattern&&i.jsx("div",{className:"mt-3 p-2 bg-gold-50 rounded-lg border border-gold-200",children:i.jsxs("div",{className:"text-xs text-gold-800 font-medium",children:["Patrón ganador: ",e.winningPattern]})}),c&&t&&i.jsx("div",{className:"mt-4",children:i.jsx(La,{card:e,gameId:t,disabled:o,onAnnounceBingo:w})}),e.isActive&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"})})]})},Nc=()=>{const{gameId:e}=Xa(),t=dt(),{toast:r}=rr(),{data:s,isLoading:n}=Al(e,{skip:!e,pollingInterval:5e3}),{data:a,isLoading:o}=Tl(e,{skip:!e}),{lastBall:l,ballsDrawn:c,gameStatus:d,playerCount:w}=_a(e||null),v=s==null?void 0:s.game,x=(a==null?void 0:a.cards)||[],g=c.length>0?c:(v==null?void 0:v.ballsDrawn)||[],N=()=>{t("/dashboard")},R=async O=>{try{(await(await fetch(`/api/games/${e}/announce-bingo`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({cardId:O})})).json()).isValid?r.success("¡BINGO VÁLIDO! ¡Felicitaciones! 🎉"):r.error("BINGO inválido. Continúa jugando.")}catch{r.error("Error al anunciar BINGO")}};return n||o?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:i.jsx(tr,{size:"lg"})}):!v||x.length===0?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),i.jsx("h2",{className:"text-2xl font-bold mb-4",children:v?"Sin cartones":"Juego no encontrado"}),i.jsx(Ae,{onClick:N,className:"bg-white text-gray-900",children:"Volver al Dashboard"})]})}):i.jsxs("div",{className:"h-screen bg-gray-900 flex flex-col overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-800 text-white p-4 flex justify-between items-center",children:[i.jsx("button",{onClick:N,className:"text-2xl hover:text-gray-300",children:"←"}),i.jsx("h1",{className:"text-lg font-bold truncate",children:v.title}),i.jsx("div",{className:"text-sm bg-green-600 px-2 py-1 rounded",children:d==="IN_PROGRESS"?"🔴 EN VIVO":"ESPERANDO"})]}),i.jsx("div",{className:"bg-black flex-shrink-0",style:{height:"40vh"},children:i.jsx("div",{className:"h-full flex flex-col items-center justify-center text-white",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:"📹"}),i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"STREAMING EN VIVO"}),l&&i.jsx("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-4",children:i.jsx("span",{className:"text-3xl font-bold text-white",children:l})}),i.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:g.slice(-5).map((O,E)=>i.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center text-sm font-bold",children:O},`${O}-${E}`))}),i.jsxs("p",{className:"text-gray-300",children:[g.length," bolas cantadas | ",w||v.participantCount," jugadores"]})]})})}),i.jsx("div",{className:"flex-1 bg-gradient-to-br from-primary-50 to-primary-100 overflow-y-auto",children:i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-center text-gray-900",children:["MIS CARTONES (",x.length,")"]}),x.map((O,E)=>i.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-lg",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"text-center mb-2",children:i.jsxs("span",{className:"text-sm font-bold text-gray-600",children:["Cartón #",E+1]})}),i.jsx(kc,{card:O,gameId:e,size:"lg",showHeader:!1,showStats:!1,highlightWinningPattern:!0,showBingoButton:!1,className:"touch-manipulation"})]}),!O.isWinner&&i.jsx(La,{card:O,gameId:e,onAnnounceBingo:R,className:"w-full"}),O.isWinner&&i.jsxs("div",{className:"text-center p-4 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-xl",children:[i.jsx("div",{className:"text-2xl mb-2",children:"🏆"}),i.jsxs("p",{className:"font-bold text-orange-900",children:["¡GANADOR! - ",O.winningPattern]})]})]},O.id)),i.jsx("div",{className:"h-4"})]})})]})},_c=()=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsx("div",{className:"card max-w-lg",children:i.jsxs("div",{className:"card-content text-center p-8",children:[i.jsx("div",{className:"text-8xl mb-4",children:"🎯"}),i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"404"}),i.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Página no encontrada"}),i.jsx("p",{className:"text-gray-600 mb-8",children:"¡Ups! La página que buscas no existe o ha sido movida. Pero no te preocupes, siempre puedes volver al bingo."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[i.jsx(xr,{to:"/",children:i.jsx(Ae,{size:"lg",children:"Volver al Inicio"})}),i.jsx(xr,{to:"/dashboard",children:i.jsx(Ae,{variant:"outline",size:"lg",children:"Ir al Dashboard"})})]}),i.jsx("div",{className:"mt-8 text-sm text-gray-500",children:i.jsx("p",{children:"¿Perdido? Contacta a nuestro soporte si necesitas ayuda."})})]})})}),Ut=({children:e,requireAdmin:t=!1})=>{const{isAuthenticated:r,isLoading:s,isAdmin:n}=wt(),a=Vn();return s?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx(tr,{size:"lg"})}):r?t&&!n?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsx("div",{className:"card max-w-md",children:i.jsxs("div",{className:"card-content text-center p-8",children:[i.jsx("div",{className:"text-6xl mb-4",children:"🔒"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acceso Denegado"}),i.jsx("p",{className:"text-gray-600",children:"No tienes permisos de administrador para acceder a esta página."})]})})}):i.jsx(i.Fragment,{children:e}):i.jsx(ei,{to:"/login",state:{from:a},replace:!0})};function jc(){const e=na(),{isLoading:t,isAuthenticated:r}=ms(l=>l.auth),[s,n]=j.useState(!1),[a,o]=j.useState(!1);return j.useEffect(()=>{const l=setTimeout(()=>{console.warn("⚠️ Auth timeout - mostrando app sin autenticación"),o(!0)},3e3);return e(mr()).finally(()=>{n(!0),clearTimeout(l)}),()=>clearTimeout(l)},[e]),t&&!s&&!a?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center",children:[i.jsx(tr,{size:"lg"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Iniciando Bingo La Perla..."}),i.jsx("p",{className:"mt-2 text-sm text-gray-400",children:"Verificando autenticación..."})]})}):(console.log("🎮 App: Renderizando aplicación principal"),i.jsx(sa,{children:i.jsx(No,{maxToasts:5,children:i.jsxs(wo,{children:[!1,i.jsxs(ti,{children:[i.jsx(Ke,{path:"/",element:r?i.jsx(Cn,{}):i.jsx(Ws,{})}),i.jsx(Ke,{path:"/login",element:i.jsx(Ws,{})}),i.jsx(Ke,{path:"/register",element:i.jsx(Cl,{})}),i.jsx(Ke,{path:"/menu",element:i.jsx(Ut,{children:i.jsx(Cn,{})})}),i.jsx(Ke,{path:"/dashboard",element:i.jsx(Ut,{children:i.jsx(El,{})})}),i.jsx(Ke,{path:"/profile",element:i.jsx(Ut,{children:i.jsx(Il,{})})}),i.jsx(Ke,{path:"/help",element:i.jsx(Ut,{children:i.jsx(Rl,{})})}),i.jsx(Ke,{path:"/game/:gameId",element:i.jsx(Ut,{children:i.jsx(Nc,{})})}),i.jsx(Ke,{path:"*",element:i.jsx(_c,{})})]})]})})}))}Kr.createRoot(document.getElementById("root")).render(i.jsx(Ee.StrictMode,{children:i.jsx(sa,{children:i.jsx(Ya,{store:ta,children:i.jsx(ri,{children:i.jsx(jc,{})})})})}));
